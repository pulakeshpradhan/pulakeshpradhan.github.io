var zona_Estudio = ui.import && ui.import("zona_Estudio", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.93312175735146,
                17.887646807680195
              ],
              [
                -91.93312175735146,
                17.21201593124037
              ],
              [
                -91.25471599563271,
                17.21201593124037
              ],
              [
                -91.25471599563271,
                17.887646807680195
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        }
      ],
      "displayProperties": [
        {
          "type": "rectangle"
        }
      ],
      "properties": {},
      "color": "#d63000",
      "mode": "Geometry",
      "shown": false,
      "locked": false
    }) || 
    /* color: #d63000 */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      }
    ] */
    ee.Geometry.Polygon(
        [[[-91.93312175735146, 17.887646807680195],
          [-91.93312175735146, 17.21201593124037],
          [-91.25471599563271, 17.21201593124037],
          [-91.25471599563271, 17.887646807680195]]], null, false),
    Sentinel_2 = ui.import && ui.import("Sentinel_2", "imageCollection", {
      "id": "COPERNICUS/S2"
    }) || ee.ImageCollection("COPERNICUS/S2"),
    Cuerpos_de_Agua = ui.import && ui.import("Cuerpos_de_Agua", "geometry", {
      "geometries": [
        {
          "type": "Point",
          "coordinates": [
            -91.54480203491892,
            17.733630227104065
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.47711913937057,
            17.746401881376443
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.45911574033799,
            17.745759728410825
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.42558512008505,
            17.742479103577214
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.5319504343897,
            17.765183580934266
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.56302114361822,
            17.754639087476335
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.48708663224635,
            17.786698004866167
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.45016064136026,
            17.699993997213397
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.42102330566703,
            17.682824754834492
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.40608876587211,
            17.692719306960477
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.7598380319128,
            17.749866929116617
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.75168411650753,
            17.75550723474821
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.61704527220394,
            17.733325198522877
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.62069503581722,
            17.8091449118929
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.50623646902767,
            17.784354580979663
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.48101408991343,
            17.76384136872748
          ]
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.24466209019612,
                17.748027770996327
              ],
              [
                -91.24466209019612,
                17.747332931301155
              ],
              [
                -91.24247340763996,
                17.747332931301155
              ],
              [
                -91.24247340763996,
                17.748027770996327
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.24972610081623,
                17.7463111033208
              ],
              [
                -91.24964027012776,
                17.74880435334636
              ],
              [
                -91.25187186802815,
                17.749253952114415
              ],
              [
                -91.25251559819172,
                17.748436498968932
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.23649035783468,
                17.755949933183675
              ],
              [
                -91.23846446366964,
                17.757339542967898
              ],
              [
                -91.23940860124289,
                17.754069855709595
              ],
              [
                -91.23816405625998,
                17.753375039470203
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.21855174394308,
                17.755622964607177
              ],
              [
                -91.21752177568136,
                17.756767352010872
              ],
              [
                -91.2199250349587,
                17.756399514000766
              ],
              [
                -91.21988211961447,
                17.75566383571193
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.26814109832385,
                17.74814374425191
              ],
              [
                -91.26462204009631,
                17.748470726492805
              ],
              [
                -91.26517993957141,
                17.750146501102847
              ],
              [
                -91.268527336422,
                17.749574287146263
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.29660073765535,
                17.752703453068225
              ],
              [
                -91.29393998631258,
                17.751477295581253
              ],
              [
                -91.29411164768953,
                17.75298955527307
              ],
              [
                -91.29685822972078,
                17.753561758310592
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.35563195493187,
                17.750391672742655
              ],
              [
                -91.35519207265342,
                17.750534725750025
              ],
              [
                -91.35592163350547,
                17.750667560583075
              ],
              [
                -91.35593236234153,
                17.750463199260633
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.36940678753751,
                17.754101579412993
              ],
              [
                -91.36953553357023,
                17.754326372284762
              ],
              [
                -91.370393840455,
                17.754592036223684
              ],
              [
                -91.370393840455,
                17.75434680798638
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.45651739725974,
                17.772247079070237
              ],
              [
                -91.45274084696678,
                17.773554828220583
              ],
              [
                -91.45952147135642,
                17.780910738892658
              ],
              [
                -91.46226805338767,
                17.778703997485355
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.80802266163445,
                17.751586999038192
              ],
              [
                -91.80046956104852,
                17.74995211032374
              ],
              [
                -91.80029789967156,
                17.761559496753517
              ],
              [
                -91.80870930714227,
                17.761477757228498
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.8047181801281,
                17.772757458515454
              ],
              [
                -91.80072705311395,
                17.77194011277164
              ],
              [
                -91.80038373036004,
                17.77447387241203
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.81394497913934,
                17.771531438498265
              ],
              [
                -91.80961052937127,
                17.77189924538635
              ],
              [
                -91.81003968281365,
                17.773084395766514
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.82894113190787,
                17.85010321508086
              ],
              [
                -91.82104470856802,
                17.8525541665718
              ],
              [
                -91.82567956574576,
                17.868402837477618
              ],
              [
                -91.83460595734732,
                17.863501337576132
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Point",
          "coordinates": [
            -91.90807702668326,
            17.876735077067572
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.88950959454186,
            17.852474201475996
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.9494194150985,
            17.863421377402634
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.92538781514372,
            17.876284644962453
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.94538636555876,
            17.89384646328617
          ]
        }
      ],
      "displayProperties": [
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        }
      ],
      "properties": {
        "clase": 1
      },
      "color": "#1e63ff",
      "mode": "FeatureCollection",
      "shown": true,
      "locked": true
    }) || 
    /* color: #1e63ff */
    /* locked: true */
    /* displayProperties: [
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      }
    ] */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([-91.54480203491892, 17.733630227104065]),
            {
              "clase": 1,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.47711913937057, 17.746401881376443]),
            {
              "clase": 1,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.45911574033799, 17.745759728410825]),
            {
              "clase": 1,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.42558512008505, 17.742479103577214]),
            {
              "clase": 1,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.5319504343897, 17.765183580934266]),
            {
              "clase": 1,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.56302114361822, 17.754639087476335]),
            {
              "clase": 1,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.48708663224635, 17.786698004866167]),
            {
              "clase": 1,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.45016064136026, 17.699993997213397]),
            {
              "clase": 1,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.42102330566703, 17.682824754834492]),
            {
              "clase": 1,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.40608876587211, 17.692719306960477]),
            {
              "clase": 1,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.7598380319128, 17.749866929116617]),
            {
              "clase": 1,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.75168411650753, 17.75550723474821]),
            {
              "clase": 1,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.61704527220394, 17.733325198522877]),
            {
              "clase": 1,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.62069503581722, 17.8091449118929]),
            {
              "clase": 1,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.50623646902767, 17.784354580979663]),
            {
              "clase": 1,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.48101408991343, 17.76384136872748]),
            {
              "clase": 1,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.24466209019612, 17.748027770996327],
                  [-91.24466209019612, 17.747332931301155],
                  [-91.24247340763996, 17.747332931301155],
                  [-91.24247340763996, 17.748027770996327]]], null, false),
            {
              "clase": 1,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.24972610081623, 17.7463111033208],
                  [-91.24964027012776, 17.74880435334636],
                  [-91.25187186802815, 17.749253952114415],
                  [-91.25251559819172, 17.748436498968932]]]),
            {
              "clase": 1,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.23649035783468, 17.755949933183675],
                  [-91.23846446366964, 17.757339542967898],
                  [-91.23940860124289, 17.754069855709595],
                  [-91.23816405625998, 17.753375039470203]]]),
            {
              "clase": 1,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.21855174394308, 17.755622964607177],
                  [-91.21752177568136, 17.756767352010872],
                  [-91.2199250349587, 17.756399514000766],
                  [-91.21988211961447, 17.75566383571193]]]),
            {
              "clase": 1,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.26814109832385, 17.74814374425191],
                  [-91.26462204009631, 17.748470726492805],
                  [-91.26517993957141, 17.750146501102847],
                  [-91.268527336422, 17.749574287146263]]]),
            {
              "clase": 1,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.29660073765535, 17.752703453068225],
                  [-91.29393998631258, 17.751477295581253],
                  [-91.29411164768953, 17.75298955527307],
                  [-91.29685822972078, 17.753561758310592]]]),
            {
              "clase": 1,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.35563195493187, 17.750391672742655],
                  [-91.35519207265342, 17.750534725750025],
                  [-91.35592163350547, 17.750667560583075],
                  [-91.35593236234153, 17.750463199260633]]]),
            {
              "clase": 1,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.36940678753751, 17.754101579412993],
                  [-91.36953553357023, 17.754326372284762],
                  [-91.370393840455, 17.754592036223684],
                  [-91.370393840455, 17.75434680798638]]]),
            {
              "clase": 1,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.45651739725974, 17.772247079070237],
                  [-91.45274084696678, 17.773554828220583],
                  [-91.45952147135642, 17.780910738892658],
                  [-91.46226805338767, 17.778703997485355]]]),
            {
              "clase": 1,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.80802266163445, 17.751586999038192],
                  [-91.80046956104852, 17.74995211032374],
                  [-91.80029789967156, 17.761559496753517],
                  [-91.80870930714227, 17.761477757228498]]]),
            {
              "clase": 1,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.8047181801281, 17.772757458515454],
                  [-91.80072705311395, 17.77194011277164],
                  [-91.80038373036004, 17.77447387241203]]]),
            {
              "clase": 1,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.81394497913934, 17.771531438498265],
                  [-91.80961052937127, 17.77189924538635],
                  [-91.81003968281365, 17.773084395766514]]]),
            {
              "clase": 1,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.82894113190787, 17.85010321508086],
                  [-91.82104470856802, 17.8525541665718],
                  [-91.82567956574576, 17.868402837477618],
                  [-91.83460595734732, 17.863501337576132]]]),
            {
              "clase": 1,
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.90807702668326, 17.876735077067572]),
            {
              "clase": 1,
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.88950959454186, 17.852474201475996]),
            {
              "clase": 1,
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.9494194150985, 17.863421377402634]),
            {
              "clase": 1,
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.92538781514372, 17.876284644962453]),
            {
              "clase": 1,
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.94538636555876, 17.89384646328617]),
            {
              "clase": 1,
              "system:index": "33"
            })]),
    Poblado = ui.import && ui.import("Poblado", "geometry", {
      "geometries": [
        {
          "type": "Point",
          "coordinates": [
            -91.7720695163919,
            17.739595406516266
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.76855045816436,
            17.74143476166626
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.75803619882598,
            17.73955453174281
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.71948267036376,
            17.689296815603857
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.37878542519076,
            17.688547088032408
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.37994413948519,
            17.690141650661396
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.37848501778109,
            17.683190889442816
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.4249627319658,
            17.473546160709887
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.42106435746983,
            17.474109566911018
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.41261787939523,
            17.470447395431005
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.42354514124,
            17.469602268472794
          ]
        }
      ],
      "displayProperties": [],
      "properties": {
        "clase": 2
      },
      "color": "#8b1276",
      "mode": "FeatureCollection",
      "shown": true,
      "locked": true
    }) || 
    /* color: #8b1276 */
    /* locked: true */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([-91.7720695163919, 17.739595406516266]),
            {
              "clase": 2,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.76855045816436, 17.74143476166626]),
            {
              "clase": 2,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.75803619882598, 17.73955453174281]),
            {
              "clase": 2,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.71948267036376, 17.689296815603857]),
            {
              "clase": 2,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.37878542519076, 17.688547088032408]),
            {
              "clase": 2,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.37994413948519, 17.690141650661396]),
            {
              "clase": 2,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.37848501778109, 17.683190889442816]),
            {
              "clase": 2,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.4249627319658, 17.473546160709887]),
            {
              "clase": 2,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.42106435746983, 17.474109566911018]),
            {
              "clase": 2,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.41261787939523, 17.470447395431005]),
            {
              "clase": 2,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.42354514124, 17.469602268472794]),
            {
              "clase": 2,
              "system:index": "10"
            })]),
    cultivos = ui.import && ui.import("cultivos", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.54296749334087,
                17.727894423090916
              ],
              [
                -91.54002779226055,
                17.726095806781
              ],
              [
                -91.53781765203227,
                17.729468197556045
              ],
              [
                -91.54107921819438,
                17.730796697710947
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.54371850486632,
                17.72488989061135
              ],
              [
                -91.54406183592567,
                17.726218446628206
              ],
              [
                -91.54459828271222,
                17.725748344972136
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.54088767427825,
                17.73227639945685
              ],
              [
                -91.53683217424773,
                17.730416511840122
              ],
              [
                -91.53404267687225,
                17.73505597573346
              ],
              [
                -91.53878482241058,
                17.73630268343685
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.53282947734151,
                17.735652663890193
              ],
              [
                -91.5319282551125,
                17.73777818604181
              ],
              [
                -91.53310842707906,
                17.739045312247885
              ],
              [
                -91.535618974717,
                17.739678871989334
              ],
              [
                -91.53675623133931,
                17.736572364070422
              ],
              [
                -91.53300113871846,
                17.735693539554013
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.52773855602886,
                17.742601730301775
              ],
              [
                -91.52718065655377,
                17.747343061111476
              ],
              [
                -91.53130052960064,
                17.747670044814893
              ],
              [
                -91.53142927563336,
                17.74538114634925
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.55861375596892,
                17.72696520381301
              ],
              [
                -91.55565259721648,
                17.725697992176435
              ],
              [
                -91.55509469774138,
                17.726515549096447
              ],
              [
                -91.55698297288787,
                17.72749661247823
              ],
              [
                -91.55831334855925,
                17.726924326158112
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Point",
          "coordinates": [
            -91.55238747534075,
            17.732307131501184
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.55273079809466,
            17.745060124250568
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.54991804415214,
            17.733132878341035
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.56890823373642,
            17.73400814593179
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.53187229165879,
            17.749499496541475
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.568650741671,
            17.739199328267674
          ]
        }
      ],
      "displayProperties": [],
      "properties": {
        "clase": 3
      },
      "color": "#34ff0f",
      "mode": "FeatureCollection",
      "shown": true,
      "locked": true
    }) || 
    /* color: #34ff0f */
    /* locked: true */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.54296749334087, 17.727894423090916],
                  [-91.54002779226055, 17.726095806781],
                  [-91.53781765203227, 17.729468197556045],
                  [-91.54107921819438, 17.730796697710947]]]),
            {
              "clase": 3,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.54371850486632, 17.72488989061135],
                  [-91.54406183592567, 17.726218446628206],
                  [-91.54459828271222, 17.725748344972136]]]),
            {
              "clase": 3,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.54088767427825, 17.73227639945685],
                  [-91.53683217424773, 17.730416511840122],
                  [-91.53404267687225, 17.73505597573346],
                  [-91.53878482241058, 17.73630268343685]]]),
            {
              "clase": 3,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.53282947734151, 17.735652663890193],
                  [-91.5319282551125, 17.73777818604181],
                  [-91.53310842707906, 17.739045312247885],
                  [-91.535618974717, 17.739678871989334],
                  [-91.53675623133931, 17.736572364070422],
                  [-91.53300113871846, 17.735693539554013]]]),
            {
              "clase": 3,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.52773855602886, 17.742601730301775],
                  [-91.52718065655377, 17.747343061111476],
                  [-91.53130052960064, 17.747670044814893],
                  [-91.53142927563336, 17.74538114634925]]]),
            {
              "clase": 3,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.55861375596892, 17.72696520381301],
                  [-91.55565259721648, 17.725697992176435],
                  [-91.55509469774138, 17.726515549096447],
                  [-91.55698297288787, 17.72749661247823],
                  [-91.55831334855925, 17.726924326158112]]]),
            {
              "clase": 3,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.55238747534075, 17.732307131501184]),
            {
              "clase": 3,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.55273079809466, 17.745060124250568]),
            {
              "clase": 3,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.54991804415214, 17.733132878341035]),
            {
              "clase": 3,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.56890823373642, 17.73400814593179]),
            {
              "clase": 3,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.53187229165879, 17.749499496541475]),
            {
              "clase": 3,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.568650741671, 17.739199328267674]),
            {
              "clase": 3,
              "system:index": "11"
            })]),
    boscosa = ui.import && ui.import("boscosa", "geometry", {
      "geometries": [
        {
          "type": "Point",
          "coordinates": [
            -91.47728881518789,
            17.734562142536152
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.48057183902212,
            17.736094982877642
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.48790799682328,
            17.734888870458217
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.47552711130515,
            17.742486153726663
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.46898252130882,
            17.740299375543145
          ]
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.65524418649183,
                17.80792967163098
              ],
              [
                -91.65254051980482,
                17.809155441757103
              ],
              [
                -91.65391381082044,
                17.812138113873647
              ],
              [
                -91.65575917062269,
                17.810994081150934
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.64541657266126,
                17.809686606195637
              ],
              [
                -91.64292748269544,
                17.810708071823527
              ],
              [
                -91.64485867318616,
                17.812914417612742
              ],
              [
                -91.64618904885755,
                17.811811248130333
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.64868159360748,
                17.82617003839799
              ],
              [
                -91.64739413328033,
                17.82625174830771
              ],
              [
                -91.64756579465728,
                17.827109700097466
              ],
              [
                -91.64855284757476,
                17.82727311901758
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.68352821339396,
                17.827507463837847
              ],
              [
                -91.68352821339396,
                17.828242846156094
              ],
              [
                -91.68490150440958,
                17.828733099348558
              ],
              [
                -91.6853735731962,
                17.827956864504145
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.70768955220011,
                17.83490200337629
              ],
              [
                -91.70863368977335,
                17.833227024075754
              ],
              [
                -91.70408466328409,
                17.831552029022426
              ],
              [
                -91.70253971089151,
                17.834003235954157
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.6992781447294,
                17.841234099826192
              ],
              [
                -91.7024109648588,
                17.8412749513302
              ],
              [
                -91.70528629292276,
                17.836822082217772
              ],
              [
                -91.70120933522013,
                17.836168440681178
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Point",
          "coordinates": [
            -91.6945574568632,
            17.851079041130745
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.73048552745087,
            17.847484270918514
          ]
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.73773822062714,
                17.846217914114316
              ],
              [
                -91.74057063334686,
                17.8502620542781
              ],
              [
                -91.74649295085175,
                17.847484270918514
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.74439009898407,
                17.853366584358653
              ],
              [
                -91.7437463688205,
                17.85520476742174
              ],
              [
                -91.7466646122287,
                17.856716148153662
              ],
              [
                -91.7477804111789,
                17.85557240175481
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.76087599018089,
                17.811852100755374
              ],
              [
                -91.75486784198753,
                17.81405843238995
              ],
              [
                -91.75675611713402,
                17.816836737094405
              ],
              [
                -91.76276426532738,
                17.817163593624986
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.75890188434593,
                17.825416522390817
              ],
              [
                -91.76207761981956,
                17.825416522390817
              ],
              [
                -91.764137556343,
                17.819533285548758
              ],
              [
                -91.76113348224632,
                17.819124720223154
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.72102360122345,
                17.79366652347891
              ],
              [
                -91.72235397689484,
                17.794974115828484
              ],
              [
                -91.72327665679596,
                17.794177302880396
              ],
              [
                -91.72269729964874,
                17.793176173878596
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.71431731115159,
                17.79699203657273
              ],
              [
                -91.71249340902146,
                17.796603850482004
              ],
              [
                -91.71189259420213,
                17.796706004798263
              ],
              [
                -91.71187113653001,
                17.797564098746538
              ],
              [
                -91.71350191961106,
                17.798156589779335
              ],
              [
                -91.71446751485642,
                17.797032898217374
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.59885802578887,
                17.847286195581916
              ],
              [
                -91.59435191464385,
                17.846428341002387
              ],
              [
                -91.59392276120147,
                17.848879343114948
              ],
              [
                -91.59722724270782,
                17.84908359176709
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Point",
          "coordinates": [
            -91.61825576138457,
            17.85026822932593
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.71324408964405,
            17.845944053893316
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.80345279780971,
            17.838950572513383
          ]
        }
      ],
      "displayProperties": [],
      "properties": {
        "clase": 4
      },
      "color": "#19a208",
      "mode": "FeatureCollection",
      "shown": true,
      "locked": true
    }) || 
    /* color: #19a208 */
    /* locked: true */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([-91.47728881518789, 17.734562142536152]),
            {
              "clase": 4,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.48057183902212, 17.736094982877642]),
            {
              "clase": 4,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.48790799682328, 17.734888870458217]),
            {
              "clase": 4,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.47552711130515, 17.742486153726663]),
            {
              "clase": 4,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.46898252130882, 17.740299375543145]),
            {
              "clase": 4,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.65524418649183, 17.80792967163098],
                  [-91.65254051980482, 17.809155441757103],
                  [-91.65391381082044, 17.812138113873647],
                  [-91.65575917062269, 17.810994081150934]]]),
            {
              "clase": 4,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.64541657266126, 17.809686606195637],
                  [-91.64292748269544, 17.810708071823527],
                  [-91.64485867318616, 17.812914417612742],
                  [-91.64618904885755, 17.811811248130333]]]),
            {
              "clase": 4,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.64868159360748, 17.82617003839799],
                  [-91.64739413328033, 17.82625174830771],
                  [-91.64756579465728, 17.827109700097466],
                  [-91.64855284757476, 17.82727311901758]]]),
            {
              "clase": 4,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.68352821339396, 17.827507463837847],
                  [-91.68352821339396, 17.828242846156094],
                  [-91.68490150440958, 17.828733099348558],
                  [-91.6853735731962, 17.827956864504145]]]),
            {
              "clase": 4,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.70768955220011, 17.83490200337629],
                  [-91.70863368977335, 17.833227024075754],
                  [-91.70408466328409, 17.831552029022426],
                  [-91.70253971089151, 17.834003235954157]]]),
            {
              "clase": 4,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.6992781447294, 17.841234099826192],
                  [-91.7024109648588, 17.8412749513302],
                  [-91.70528629292276, 17.836822082217772],
                  [-91.70120933522013, 17.836168440681178]]]),
            {
              "clase": 4,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.6945574568632, 17.851079041130745]),
            {
              "clase": 4,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.73048552745087, 17.847484270918514]),
            {
              "clase": 4,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.73773822062714, 17.846217914114316],
                  [-91.74057063334686, 17.8502620542781],
                  [-91.74649295085175, 17.847484270918514]]]),
            {
              "clase": 4,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.74439009898407, 17.853366584358653],
                  [-91.7437463688205, 17.85520476742174],
                  [-91.7466646122287, 17.856716148153662],
                  [-91.7477804111789, 17.85557240175481]]]),
            {
              "clase": 4,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.76087599018089, 17.811852100755374],
                  [-91.75486784198753, 17.81405843238995],
                  [-91.75675611713402, 17.816836737094405],
                  [-91.76276426532738, 17.817163593624986]]]),
            {
              "clase": 4,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.75890188434593, 17.825416522390817],
                  [-91.76207761981956, 17.825416522390817],
                  [-91.764137556343, 17.819533285548758],
                  [-91.76113348224632, 17.819124720223154]]]),
            {
              "clase": 4,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.72102360122345, 17.79366652347891],
                  [-91.72235397689484, 17.794974115828484],
                  [-91.72327665679596, 17.794177302880396],
                  [-91.72269729964874, 17.793176173878596]]]),
            {
              "clase": 4,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.71431731115159, 17.79699203657273],
                  [-91.71249340902146, 17.796603850482004],
                  [-91.71189259420213, 17.796706004798263],
                  [-91.71187113653001, 17.797564098746538],
                  [-91.71350191961106, 17.798156589779335],
                  [-91.71446751485642, 17.797032898217374]]]),
            {
              "clase": 4,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.59885802578887, 17.847286195581916],
                  [-91.59435191464385, 17.846428341002387],
                  [-91.59392276120147, 17.848879343114948],
                  [-91.59722724270782, 17.84908359176709]]]),
            {
              "clase": 4,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.61825576138457, 17.85026822932593]),
            {
              "clase": 4,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.71324408964405, 17.845944053893316]),
            {
              "clase": 4,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.80345279780971, 17.838950572513383]),
            {
              "clase": 4,
              "system:index": "22"
            })]);
//Mascara de nubes 
function maskS2clouds(image) {
  var qa = image.select('QA60');
  // Los bits 10 y 11 son nubes y nubes grises, respectivamente. 
  var cloudBitMask = ee.Number(2).pow(10).int();
  var cirrusBitMask = ee.Number(2).pow(11).int();
  // Ambas banderas deben establecerse en cero, lo que indica condiciones claras
  var mask = qa.bitwiseAnd(cloudBitMask).eq(0).and(
             qa.bitwiseAnd(cirrusBitMask).eq(0));
  // Devuelve los datos enmascarados y escalados.
  return image.updateMask(mask).divide(10000);
}
//Área de estudio
var Perímetro = ee.FeatureCollection(zona_Estudio);//Zona Ríos
//Importar coleccion de imagenes (Sentinel-2 )
var imagen = ee.ImageCollection(Sentinel_2
.filterDate("2018-01-01","2018-03-31")
.filterBounds(Perímetro)
.filter(ee.Filter.lt('CLOUDY_PIXEL_PERCENTAGE', 20))
.map(maskS2clouds)
.sort("CLOUD_COVERAGE_ASSESSMENT")
.median()
);
Map.addLayer(imagen, {bands: ['B4','B3','B2'], min: 0, max: 0.3},'clip',false);
//Selección de bandas
var bands = ['B2', 'B3', 'B4','B5','B6','B7','B8','B8A'];
//Preprocesamiento
var mosaic = imagen.mosaic()
var clip = mosaic.clip(Perímetro);
print(clip);
//FCC creación y visualización de AOI    
//Map.addLayer(clip, {bands: ['B8','B4','B3'], min: 0, max: 0.3},'clip');
//Cálculo de NDVI (Índice de vegetación de diferencia normalizada)
var ndvi = clip.expression(
    ' ((NIR - RED) / (NIR + RED))', {
      'NIR': clip.select('B8'),
      'RED': clip.select('B4'),
}).rename('nd');
clip = clip.addBands(ndvi)
print(ndvi);
//Paleta de colores
var palette = ['FFFFFF', 'CE7E45', 'DF923D', 'F1B555', 'FCD163', '99B718',
               '74A901', '66A000', '529400', '3E8601', '207401', '056201',
               '004C00', '023B01', '012E01', '011D01', '011301'];
// Visualización de NDVI en el mapa
Map.addLayer(ndvi, {min:0, max:1, palette: palette},"NDVI");
// Clases de entrenamiento
 var newfc = Cuerpos_de_Agua.merge(Poblado).merge(cultivos).merge(boscosa);
    var bands = ['nd'];
    var training = clip.select(bands).sampleRegions({
    collection: newfc, 
    properties: ['clase'], 
    scale: 20,
    geometries:true
    });
var classifier = ee.Classifier.cart().train({
  features: training, 
  classProperty: 'clase', 
  inputProperties: bands
});
var classified = clip.select(bands).classify(classifier);
Map.addLayer(classified, 
{min: 1, max: 7, palette: ['#1e63ff', '#8b1276','#34ff0f','#19a208']}, 
'classification');
var trainAccuracy = classifier.confusionMatrix();
print('Matriz de error de restitución: ', trainAccuracy);
print('Entrenamiento de precisión general: ', trainAccuracy.accuracy());
Map.centerObject(Perímetro, 10);