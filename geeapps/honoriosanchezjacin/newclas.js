var zona_Estudio = ui.import && ui.import("zona_Estudio", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -92.17207439407021,
                18.167103606715102
              ],
              [
                -92.17207439407021,
                17.25661140950432
              ],
              [
                -90.99104412063271,
                17.25661140950432
              ],
              [
                -90.99104412063271,
                18.167103606715102
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        }
      ],
      "displayProperties": [
        {
          "type": "rectangle"
        }
      ],
      "properties": {},
      "color": "#d63000",
      "mode": "Geometry",
      "shown": false,
      "locked": false
    }) || 
    /* color: #d63000 */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      }
    ] */
    ee.Geometry.Polygon(
        [[[-92.17207439407021, 18.167103606715102],
          [-92.17207439407021, 17.25661140950432],
          [-90.99104412063271, 17.25661140950432],
          [-90.99104412063271, 18.167103606715102]]], null, false),
    Sentinel_2 = ui.import && ui.import("Sentinel_2", "imageCollection", {
      "id": "COPERNICUS/S2"
    }) || ee.ImageCollection("COPERNICUS/S2"),
    Cuerpos_de_Agua = ui.import && ui.import("Cuerpos_de_Agua", "geometry", {
      "geometries": [
        {
          "type": "Point",
          "coordinates": [
            -91.54480203491892,
            17.733630227104065
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.47711913937057,
            17.746401881376443
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.45911574033799,
            17.745759728410825
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.42558512008505,
            17.742479103577214
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.5319504343897,
            17.765183580934266
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.56302114361822,
            17.754639087476335
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.48708663224635,
            17.786698004866167
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.45016064136026,
            17.699993997213397
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.42102330566703,
            17.682824754834492
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.40608876587211,
            17.692719306960477
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.7598380319128,
            17.749866929116617
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.75168411650753,
            17.75550723474821
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.61704527220394,
            17.733325198522877
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.62069503581722,
            17.8091449118929
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.50623646902767,
            17.784354580979663
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.48101408991343,
            17.76384136872748
          ]
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.24466209019612,
                17.748027770996327
              ],
              [
                -91.24466209019612,
                17.747332931301155
              ],
              [
                -91.24247340763996,
                17.747332931301155
              ],
              [
                -91.24247340763996,
                17.748027770996327
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.24972610081623,
                17.7463111033208
              ],
              [
                -91.24964027012776,
                17.74880435334636
              ],
              [
                -91.25187186802815,
                17.749253952114415
              ],
              [
                -91.25251559819172,
                17.748436498968932
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.23649035783468,
                17.755949933183675
              ],
              [
                -91.23846446366964,
                17.757339542967898
              ],
              [
                -91.23940860124289,
                17.754069855709595
              ],
              [
                -91.23816405625998,
                17.753375039470203
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.21855174394308,
                17.755622964607177
              ],
              [
                -91.21752177568136,
                17.756767352010872
              ],
              [
                -91.2199250349587,
                17.756399514000766
              ],
              [
                -91.21988211961447,
                17.75566383571193
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.26814109832385,
                17.74814374425191
              ],
              [
                -91.26462204009631,
                17.748470726492805
              ],
              [
                -91.26517993957141,
                17.750146501102847
              ],
              [
                -91.268527336422,
                17.749574287146263
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.29660073765535,
                17.752703453068225
              ],
              [
                -91.29393998631258,
                17.751477295581253
              ],
              [
                -91.29411164768953,
                17.75298955527307
              ],
              [
                -91.29685822972078,
                17.753561758310592
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.35563195493187,
                17.750391672742655
              ],
              [
                -91.35519207265342,
                17.750534725750025
              ],
              [
                -91.35592163350547,
                17.750667560583075
              ],
              [
                -91.35593236234153,
                17.750463199260633
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.36940678753751,
                17.754101579412993
              ],
              [
                -91.36953553357023,
                17.754326372284762
              ],
              [
                -91.370393840455,
                17.754592036223684
              ],
              [
                -91.370393840455,
                17.75434680798638
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.45651739725974,
                17.772247079070237
              ],
              [
                -91.45274084696678,
                17.773554828220583
              ],
              [
                -91.45952147135642,
                17.780910738892658
              ],
              [
                -91.46226805338767,
                17.778703997485355
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.80802266163445,
                17.751586999038192
              ],
              [
                -91.80046956104852,
                17.74995211032374
              ],
              [
                -91.80029789967156,
                17.761559496753517
              ],
              [
                -91.80870930714227,
                17.761477757228498
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.8047181801281,
                17.772757458515454
              ],
              [
                -91.80072705311395,
                17.77194011277164
              ],
              [
                -91.80038373036004,
                17.77447387241203
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.81394497913934,
                17.771531438498265
              ],
              [
                -91.80961052937127,
                17.77189924538635
              ],
              [
                -91.81003968281365,
                17.773084395766514
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.82894113190787,
                17.85010321508086
              ],
              [
                -91.82104470856802,
                17.8525541665718
              ],
              [
                -91.82567956574576,
                17.868402837477618
              ],
              [
                -91.83460595734732,
                17.863501337576132
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Point",
          "coordinates": [
            -91.90807702668326,
            17.876735077067572
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.88950959454186,
            17.852474201475996
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.9494194150985,
            17.863421377402634
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.92538781514372,
            17.876284644962453
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.94538636555876,
            17.89384646328617
          ]
        }
      ],
      "displayProperties": [
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        }
      ],
      "properties": {
        "clase": 1
      },
      "color": "#1e82ff",
      "mode": "FeatureCollection",
      "shown": true,
      "locked": false
    }) || 
    /* color: #1e82ff */
    /* displayProperties: [
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      }
    ] */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([-91.54480203491892, 17.733630227104065]),
            {
              "clase": 1,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.47711913937057, 17.746401881376443]),
            {
              "clase": 1,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.45911574033799, 17.745759728410825]),
            {
              "clase": 1,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.42558512008505, 17.742479103577214]),
            {
              "clase": 1,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.5319504343897, 17.765183580934266]),
            {
              "clase": 1,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.56302114361822, 17.754639087476335]),
            {
              "clase": 1,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.48708663224635, 17.786698004866167]),
            {
              "clase": 1,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.45016064136026, 17.699993997213397]),
            {
              "clase": 1,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.42102330566703, 17.682824754834492]),
            {
              "clase": 1,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.40608876587211, 17.692719306960477]),
            {
              "clase": 1,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.7598380319128, 17.749866929116617]),
            {
              "clase": 1,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.75168411650753, 17.75550723474821]),
            {
              "clase": 1,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.61704527220394, 17.733325198522877]),
            {
              "clase": 1,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.62069503581722, 17.8091449118929]),
            {
              "clase": 1,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.50623646902767, 17.784354580979663]),
            {
              "clase": 1,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.48101408991343, 17.76384136872748]),
            {
              "clase": 1,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.24466209019612, 17.748027770996327],
                  [-91.24466209019612, 17.747332931301155],
                  [-91.24247340763996, 17.747332931301155],
                  [-91.24247340763996, 17.748027770996327]]], null, false),
            {
              "clase": 1,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.24972610081623, 17.7463111033208],
                  [-91.24964027012776, 17.74880435334636],
                  [-91.25187186802815, 17.749253952114415],
                  [-91.25251559819172, 17.748436498968932]]]),
            {
              "clase": 1,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.23649035783468, 17.755949933183675],
                  [-91.23846446366964, 17.757339542967898],
                  [-91.23940860124289, 17.754069855709595],
                  [-91.23816405625998, 17.753375039470203]]]),
            {
              "clase": 1,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.21855174394308, 17.755622964607177],
                  [-91.21752177568136, 17.756767352010872],
                  [-91.2199250349587, 17.756399514000766],
                  [-91.21988211961447, 17.75566383571193]]]),
            {
              "clase": 1,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.26814109832385, 17.74814374425191],
                  [-91.26462204009631, 17.748470726492805],
                  [-91.26517993957141, 17.750146501102847],
                  [-91.268527336422, 17.749574287146263]]]),
            {
              "clase": 1,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.29660073765535, 17.752703453068225],
                  [-91.29393998631258, 17.751477295581253],
                  [-91.29411164768953, 17.75298955527307],
                  [-91.29685822972078, 17.753561758310592]]]),
            {
              "clase": 1,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.35563195493187, 17.750391672742655],
                  [-91.35519207265342, 17.750534725750025],
                  [-91.35592163350547, 17.750667560583075],
                  [-91.35593236234153, 17.750463199260633]]]),
            {
              "clase": 1,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.36940678753751, 17.754101579412993],
                  [-91.36953553357023, 17.754326372284762],
                  [-91.370393840455, 17.754592036223684],
                  [-91.370393840455, 17.75434680798638]]]),
            {
              "clase": 1,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.45651739725974, 17.772247079070237],
                  [-91.45274084696678, 17.773554828220583],
                  [-91.45952147135642, 17.780910738892658],
                  [-91.46226805338767, 17.778703997485355]]]),
            {
              "clase": 1,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.80802266163445, 17.751586999038192],
                  [-91.80046956104852, 17.74995211032374],
                  [-91.80029789967156, 17.761559496753517],
                  [-91.80870930714227, 17.761477757228498]]]),
            {
              "clase": 1,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.8047181801281, 17.772757458515454],
                  [-91.80072705311395, 17.77194011277164],
                  [-91.80038373036004, 17.77447387241203]]]),
            {
              "clase": 1,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.81394497913934, 17.771531438498265],
                  [-91.80961052937127, 17.77189924538635],
                  [-91.81003968281365, 17.773084395766514]]]),
            {
              "clase": 1,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.82894113190787, 17.85010321508086],
                  [-91.82104470856802, 17.8525541665718],
                  [-91.82567956574576, 17.868402837477618],
                  [-91.83460595734732, 17.863501337576132]]]),
            {
              "clase": 1,
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.90807702668326, 17.876735077067572]),
            {
              "clase": 1,
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.88950959454186, 17.852474201475996]),
            {
              "clase": 1,
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.9494194150985, 17.863421377402634]),
            {
              "clase": 1,
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.92538781514372, 17.876284644962453]),
            {
              "clase": 1,
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.94538636555876, 17.89384646328617]),
            {
              "clase": 1,
              "system:index": "33"
            })]),
    plantacion = ui.import && ui.import("plantacion", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.65437198487474,
                17.890003819915414
              ],
              [
                -91.65295577851488,
                17.889554576024224
              ],
              [
                -91.65256954041674,
                17.890330542031197
              ],
              [
                -91.6539857467766,
                17.890534743048164
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.67683816758348,
                17.897702049885808
              ],
              [
                -91.6759584030266,
                17.89721198684412
              ],
              [
                -91.67525029984667,
                17.897865403932236
              ],
              [
                -91.67617297974779,
                17.89860049527981
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.69606794154203,
                17.895115057958208
              ],
              [
                -91.69568170344388,
                17.895339673008245
              ],
              [
                -91.69597138201749,
                17.895645965800057
              ],
              [
                -91.69638980662381,
                17.89534988277649
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.6759272856388,
                17.89273793366049
              ],
              [
                -91.67551958986854,
                17.892666464218483
              ],
              [
                -91.67543375918007,
                17.89310549033616
              ],
              [
                -91.67572343775367,
                17.89317695960137
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.66571729822545,
                17.888350323697132
              ],
              [
                -91.66570656938939,
                17.888615787934857
              ],
              [
                -91.66610353632359,
                17.88880978078061
              ],
              [
                -91.66620009584813,
                17.888625998089942
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.66565557264876,
                17.88529980704501
              ],
              [
                -91.66562338614058,
                17.885044548209834
              ],
              [
                -91.66531224989485,
                17.885054758570284
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.67241051997159,
                17.88971445125404
              ],
              [
                -91.67217448557828,
                17.89004117390248
              ],
              [
                -91.67244270647977,
                17.890143274606764
              ],
              [
                -91.67258218134855,
                17.889918652979787
              ],
              [
                -91.67247489298795,
                17.889785921884776
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.67380526865934,
                17.88921415603313
              ],
              [
                -91.67349413241361,
                17.88898953323038
              ],
              [
                -91.67356923426603,
                17.88921415603313
              ],
              [
                -91.67383745516752,
                17.88928562686531
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.66991070116971,
                17.88851986645158
              ],
              [
                -91.6696746667764,
                17.88856070709037
              ],
              [
                -91.66986778582547,
                17.889009953496917
              ]
            ]
          ],
          "evenOdd": true
        }
      ],
      "displayProperties": [],
      "properties": {
        "clase": 2
      },
      "color": "#7e8b4c",
      "mode": "FeatureCollection",
      "shown": true,
      "locked": false
    }) || /* color: #7e8b4c */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.65437198487474, 17.890003819915414],
                  [-91.65295577851488, 17.889554576024224],
                  [-91.65256954041674, 17.890330542031197],
                  [-91.6539857467766, 17.890534743048164]]]),
            {
              "clase": 2,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.67683816758348, 17.897702049885808],
                  [-91.6759584030266, 17.89721198684412],
                  [-91.67525029984667, 17.897865403932236],
                  [-91.67617297974779, 17.89860049527981]]]),
            {
              "clase": 2,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.69606794154203, 17.895115057958208],
                  [-91.69568170344388, 17.895339673008245],
                  [-91.69597138201749, 17.895645965800057],
                  [-91.69638980662381, 17.89534988277649]]]),
            {
              "clase": 2,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.6759272856388, 17.89273793366049],
                  [-91.67551958986854, 17.892666464218483],
                  [-91.67543375918007, 17.89310549033616],
                  [-91.67572343775367, 17.89317695960137]]]),
            {
              "clase": 2,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.66571729822545, 17.888350323697132],
                  [-91.66570656938939, 17.888615787934857],
                  [-91.66610353632359, 17.88880978078061],
                  [-91.66620009584813, 17.888625998089942]]]),
            {
              "clase": 2,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.66565557264876, 17.88529980704501],
                  [-91.66562338614058, 17.885044548209834],
                  [-91.66531224989485, 17.885054758570284]]]),
            {
              "clase": 2,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.67241051997159, 17.88971445125404],
                  [-91.67217448557828, 17.89004117390248],
                  [-91.67244270647977, 17.890143274606764],
                  [-91.67258218134855, 17.889918652979787],
                  [-91.67247489298795, 17.889785921884776]]]),
            {
              "clase": 2,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.67380526865934, 17.88921415603313],
                  [-91.67349413241361, 17.88898953323038],
                  [-91.67356923426603, 17.88921415603313],
                  [-91.67383745516752, 17.88928562686531]]]),
            {
              "clase": 2,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.66991070116971, 17.88851986645158],
                  [-91.6696746667764, 17.88856070709037],
                  [-91.66986778582547, 17.889009953496917]]]),
            {
              "clase": 2,
              "system:index": "8"
            })]),
    barbecho = ui.import && ui.import("barbecho", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.65392473544095,
                17.863918661417966
              ],
              [
                -91.65662840212796,
                17.86612434792131
              ],
              [
                -91.65916040743802,
                17.864572201012898
              ],
              [
                -91.65559843386625,
                17.862489035177994
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.65542677248929,
                17.8677173267078
              ],
              [
                -91.65383890475248,
                17.866818725045043
              ],
              [
                -91.6531951745889,
                17.867962399100076
              ],
              [
                -91.6540963968179,
                17.8686976142493
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.66925390082753,
                17.87029056997187
              ],
              [
                -91.66577775794423,
                17.868207471154424
              ],
              [
                -91.6660781653539,
                17.87024972513171
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.66976888495839,
                17.873149685452944
              ],
              [
                -91.67084176856434,
                17.873925723145156
              ],
              [
                -91.67161424476063,
                17.872577866037123
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.65740926581776,
                17.868942685289827
              ],
              [
                -91.65603597480214,
                17.870372259624027
              ],
              [
                -91.65702302771962,
                17.87073986259403
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.67388289001754,
                17.874449103944563
              ],
              [
                -91.67353956726363,
                17.875306823344438
              ],
              [
                -91.67534201172164,
                17.876164538603227
              ],
              [
                -91.67542784241012,
                17.87551104163881
              ]
            ]
          ],
          "evenOdd": true
        }
      ],
      "displayProperties": [],
      "properties": {
        "clase": 3
      },
      "color": "#88ff72",
      "mode": "FeatureCollection",
      "shown": true,
      "locked": false
    }) || /* color: #88ff72 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.65392473544095, 17.863918661417966],
                  [-91.65662840212796, 17.86612434792131],
                  [-91.65916040743802, 17.864572201012898],
                  [-91.65559843386625, 17.862489035177994]]]),
            {
              "clase": 3,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.65542677248929, 17.8677173267078],
                  [-91.65383890475248, 17.866818725045043],
                  [-91.6531951745889, 17.867962399100076],
                  [-91.6540963968179, 17.8686976142493]]]),
            {
              "clase": 3,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.66925390082753, 17.87029056997187],
                  [-91.66577775794423, 17.868207471154424],
                  [-91.6660781653539, 17.87024972513171]]]),
            {
              "clase": 3,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.66976888495839, 17.873149685452944],
                  [-91.67084176856434, 17.873925723145156],
                  [-91.67161424476063, 17.872577866037123]]]),
            {
              "clase": 3,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.65740926581776, 17.868942685289827],
                  [-91.65603597480214, 17.870372259624027],
                  [-91.65702302771962, 17.87073986259403]]]),
            {
              "clase": 3,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.67388289001754, 17.874449103944563],
                  [-91.67353956726363, 17.875306823344438],
                  [-91.67534201172164, 17.876164538603227],
                  [-91.67542784241012, 17.87551104163881]]]),
            {
              "clase": 3,
              "system:index": "5"
            })]),
    tierra_agricola = ui.import && ui.import("tierra_agricola", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.67655919788446,
                17.88114143702334
              ],
              [
                -91.67655919788446,
                17.880161218140973
              ],
              [
                -91.6754863142785,
                17.880161218140973
              ],
              [
                -91.6754863142785,
                17.88114143702334
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.6723534941491,
                17.879099308246655
              ],
              [
                -91.6723534941491,
                17.878078235053184
              ],
              [
                -91.67102311847772,
                17.878078235053184
              ],
              [
                -91.67102311847772,
                17.879099308246655
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.67788957355585,
                17.88404121953843
              ],
              [
                -91.6771600127038,
                17.885552355037596
              ],
              [
                -91.67943452594842,
                17.886736749546056
              ],
              [
                -91.68033574817743,
                17.88551151370672
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.66600202320184,
                17.873217846190677
              ],
              [
                -91.66355584858026,
                17.872482649742935
              ],
              [
                -91.66252588031854,
                17.87505582400046
              ],
              [
                -91.66437124012079,
                17.876076914567406
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.6890400410878,
                17.891689506911582
              ],
              [
                -91.68899712574355,
                17.892506303315674
              ],
              [
                -91.68985543262832,
                17.891362787297382
              ],
              [
                -91.68929753315322,
                17.890913546845823
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.54940642914944,
                17.735214066512125
              ],
              [
                -91.54882707200223,
                17.737073904327577
              ],
              [
                -91.55127324662381,
                17.737462219676555
              ],
              [
                -91.55200280747586,
                17.736195082271646
              ],
              [
                -91.54944934449368,
                17.73537756951178
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.55155219636136,
                17.734253483375653
              ],
              [
                -91.55243196091824,
                17.73317026642632
              ],
              [
                -91.55017890534573,
                17.7318622221363
              ],
              [
                -91.54919185242825,
                17.732843256249033
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.55455627045804,
                17.735520634514057
              ],
              [
                -91.5554145773428,
                17.737012591300797
              ],
              [
                -91.55661620698147,
                17.736317708863854
              ],
              [
                -91.55511416993313,
                17.735214066512125
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.54964999968203,
                17.74123414540488
              ],
              [
                -91.54893116766604,
                17.740825400990666
              ],
              [
                -91.54830889517459,
                17.741530484521828
              ],
              [
                -91.54902772719058,
                17.741755293180002
              ]
            ]
          ],
          "evenOdd": true
        }
      ],
      "displayProperties": [
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        }
      ],
      "properties": {
        "clase": 4
      },
      "color": "#ff1455",
      "mode": "FeatureCollection",
      "shown": true,
      "locked": false
    }) || 
    /* color: #ff1455 */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      }
    ] */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.67655919788446, 17.88114143702334],
                  [-91.67655919788446, 17.880161218140973],
                  [-91.6754863142785, 17.880161218140973],
                  [-91.6754863142785, 17.88114143702334]]], null, false),
            {
              "clase": 4,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.6723534941491, 17.879099308246655],
                  [-91.6723534941491, 17.878078235053184],
                  [-91.67102311847772, 17.878078235053184],
                  [-91.67102311847772, 17.879099308246655]]], null, false),
            {
              "clase": 4,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.67788957355585, 17.88404121953843],
                  [-91.6771600127038, 17.885552355037596],
                  [-91.67943452594842, 17.886736749546056],
                  [-91.68033574817743, 17.88551151370672]]]),
            {
              "clase": 4,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.66600202320184, 17.873217846190677],
                  [-91.66355584858026, 17.872482649742935],
                  [-91.66252588031854, 17.87505582400046],
                  [-91.66437124012079, 17.876076914567406]]]),
            {
              "clase": 4,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.6890400410878, 17.891689506911582],
                  [-91.68899712574355, 17.892506303315674],
                  [-91.68985543262832, 17.891362787297382],
                  [-91.68929753315322, 17.890913546845823]]]),
            {
              "clase": 4,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.54940642914944, 17.735214066512125],
                  [-91.54882707200223, 17.737073904327577],
                  [-91.55127324662381, 17.737462219676555],
                  [-91.55200280747586, 17.736195082271646],
                  [-91.54944934449368, 17.73537756951178]]]),
            {
              "clase": 4,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.55155219636136, 17.734253483375653],
                  [-91.55243196091824, 17.73317026642632],
                  [-91.55017890534573, 17.7318622221363],
                  [-91.54919185242825, 17.732843256249033]]]),
            {
              "clase": 4,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.55455627045804, 17.735520634514057],
                  [-91.5554145773428, 17.737012591300797],
                  [-91.55661620698147, 17.736317708863854],
                  [-91.55511416993313, 17.735214066512125]]]),
            {
              "clase": 4,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.54964999968203, 17.74123414540488],
                  [-91.54893116766604, 17.740825400990666],
                  [-91.54830889517459, 17.741530484521828],
                  [-91.54902772719058, 17.741755293180002]]]),
            {
              "clase": 4,
              "system:index": "8"
            })]),
    vivienda = ui.import && ui.import("vivienda", "geometry", {
      "geometries": [
        {
          "type": "Point",
          "coordinates": [
            -91.53622425318186,
            17.80386107053249
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.53809107065622,
            17.80326859843972
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.53463638544504,
            17.801062133339833
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.53702580094709,
            17.803357449770576
          ]
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.5371545469798,
                17.80325529926178
              ],
              [
                -91.53656446099653,
                17.803234869153002
              ],
              [
                -91.53662883401289,
                17.80358218068407
              ],
              [
                -91.53707944512739,
                17.803633255852205
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Point",
          "coordinates": [
            -91.53552943451172,
            17.802370247415485
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.5394587707639,
            17.80219814185578
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.53333120176714,
            17.799020616679737
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.5331809980623,
            17.79733508484367
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.53426461050432,
            17.79887760247531
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.53359942266863,
            17.79987869949957
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.53752617666643,
            17.798663080953787
          ]
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.53370671102923,
                17.798775449401987
              ],
              [
                -91.53370671102923,
                17.798438343845156
              ],
              [
                -91.53320245573443,
                17.798438343845156
              ],
              [
                -91.53320245573443,
                17.798775449401987
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.53197936842363,
                17.796125149796005
              ],
              [
                -91.53211884329241,
                17.79578803923349
              ],
              [
                -91.53157167265337,
                17.79564953708996
              ],
              [
                -91.53149657080095,
                17.79596621697313
              ],
              [
                -91.53201155493181,
                17.79605815618882
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.53838760441424,
                17.80485557517115
              ],
              [
                -91.53762585705401,
                17.80469213570141
              ],
              [
                -91.53756148403765,
                17.805162023773352
              ],
              [
                -91.53828031605364,
                17.805274388128943
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.76804945871939,
                17.742191892898884
              ],
              [
                -91.76753447458853,
                17.74217145580964
              ],
              [
                -91.76734135553946,
                17.742518886009748
              ],
              [
                -91.76802800104727,
                17.742580197151568
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.75738499567618,
                17.73920805318067
              ],
              [
                -91.7576424877416,
                17.73877886666603
              ],
              [
                -91.75721333429922,
                17.738410991692092
              ],
              [
                -91.75699875757803,
                17.739064991123385
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.76086113855948,
                17.738840179088225
              ],
              [
                -91.75991700098623,
                17.738165741289716
              ],
              [
                -91.75948784754385,
                17.738656241758665
              ],
              [
                -91.76053927347769,
                17.739351115123668
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.76729844019522,
                17.736735107250016
              ],
              [
                -91.76665471003164,
                17.737470863326088
              ],
              [
                -91.76740572855581,
                17.73767523947757
              ],
              [
                -91.7679421703588,
                17.736980359611152
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.76858590052237,
                17.738901491489433
              ],
              [
                -91.76777050898184,
                17.73847230424021
              ],
              [
                -91.76731989786734,
                17.739228490608095
              ],
              [
                -91.76811383173575,
                17.73959636390297
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.7624806443408,
                17.741426022835167
              ],
              [
                -91.76368227397947,
                17.741998262834656
              ],
              [
                -91.76374664699583,
                17.74126252535661
              ],
              [
                -91.76275959407835,
                17.740915092719042
              ]
            ]
          ],
          "evenOdd": true
        }
      ],
      "displayProperties": [
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "polygon"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "marker"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        },
        {
          "type": "polygon"
        }
      ],
      "properties": {
        "clase": 5
      },
      "color": "#c2b2bc",
      "mode": "FeatureCollection",
      "shown": true,
      "locked": false
    }) || 
    /* color: #c2b2bc */
    /* displayProperties: [
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "polygon"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "marker"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      }
    ] */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([-91.53622425318186, 17.80386107053249]),
            {
              "clase": 5,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.53809107065622, 17.80326859843972]),
            {
              "clase": 5,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.53463638544504, 17.801062133339833]),
            {
              "clase": 5,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.53702580094709, 17.803357449770576]),
            {
              "clase": 5,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.5371545469798, 17.80325529926178],
                  [-91.53656446099653, 17.803234869153002],
                  [-91.53662883401289, 17.80358218068407],
                  [-91.53707944512739, 17.803633255852205]]]),
            {
              "clase": 5,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.53552943451172, 17.802370247415485]),
            {
              "clase": 5,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.5394587707639, 17.80219814185578]),
            {
              "clase": 5,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.53333120176714, 17.799020616679737]),
            {
              "clase": 5,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.5331809980623, 17.79733508484367]),
            {
              "clase": 5,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.53426461050432, 17.79887760247531]),
            {
              "clase": 5,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.53359942266863, 17.79987869949957]),
            {
              "clase": 5,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.53752617666643, 17.798663080953787]),
            {
              "clase": 5,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.53370671102923, 17.798775449401987],
                  [-91.53370671102923, 17.798438343845156],
                  [-91.53320245573443, 17.798438343845156],
                  [-91.53320245573443, 17.798775449401987]]], null, false),
            {
              "clase": 5,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.53197936842363, 17.796125149796005],
                  [-91.53211884329241, 17.79578803923349],
                  [-91.53157167265337, 17.79564953708996],
                  [-91.53149657080095, 17.79596621697313],
                  [-91.53201155493181, 17.79605815618882]]]),
            {
              "clase": 5,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.53838760441424, 17.80485557517115],
                  [-91.53762585705401, 17.80469213570141],
                  [-91.53756148403765, 17.805162023773352],
                  [-91.53828031605364, 17.805274388128943]]]),
            {
              "clase": 5,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.76804945871939, 17.742191892898884],
                  [-91.76753447458853, 17.74217145580964],
                  [-91.76734135553946, 17.742518886009748],
                  [-91.76802800104727, 17.742580197151568]]]),
            {
              "clase": 5,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.75738499567618, 17.73920805318067],
                  [-91.7576424877416, 17.73877886666603],
                  [-91.75721333429922, 17.738410991692092],
                  [-91.75699875757803, 17.739064991123385]]]),
            {
              "clase": 5,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.76086113855948, 17.738840179088225],
                  [-91.75991700098623, 17.738165741289716],
                  [-91.75948784754385, 17.738656241758665],
                  [-91.76053927347769, 17.739351115123668]]]),
            {
              "clase": 5,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.76729844019522, 17.736735107250016],
                  [-91.76665471003164, 17.737470863326088],
                  [-91.76740572855581, 17.73767523947757],
                  [-91.7679421703588, 17.736980359611152]]]),
            {
              "clase": 5,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.76858590052237, 17.738901491489433],
                  [-91.76777050898184, 17.73847230424021],
                  [-91.76731989786734, 17.739228490608095],
                  [-91.76811383173575, 17.73959636390297]]]),
            {
              "clase": 5,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.7624806443408, 17.741426022835167],
                  [-91.76368227397947, 17.741998262834656],
                  [-91.76374664699583, 17.74126252535661],
                  [-91.76275959407835, 17.740915092719042]]]),
            {
              "clase": 5,
              "system:index": "20"
            })]),
    zona_arenosa = ui.import && ui.import("zona_arenosa", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.782361317599,
                17.751044166033957
              ],
              [
                -91.78209309669751,
                17.751268962746135
              ],
              [
                -91.7829192170741,
                17.75182073529714
              ],
              [
                -91.7834234723689,
                17.751687901319958
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.7722031159682,
                17.74715582753945
              ],
              [
                -91.77244987919757,
                17.746348583120188
              ],
              [
                -91.77117314770648,
                17.746348583120188
              ],
              [
                -91.77106585934588,
                17.74705364490278
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.64025952029745,
                17.74829668535635
              ],
              [
                -91.6338222186617,
                17.7459873582488
              ],
              [
                -91.63326431918661,
                17.746825259138333
              ],
              [
                -91.63980890918295,
                17.748807594408795
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Point",
          "coordinates": [
            -91.63747002292196,
            17.747724465486478
          ]
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.62008653539823,
                17.773656196549915
              ],
              [
                -91.62154565710233,
                17.775066102084388
              ],
              [
                -91.62358413595365,
                17.7714697993055
              ],
              [
                -91.62279020208524,
                17.77104069016495
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Point",
          "coordinates": [
            -91.6284491611286,
            17.768407504697045
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.6260888171955,
            17.770185262044077
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.62413056435649,
            17.798593476385218
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.62409837784831,
            17.799604790266354
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.78336425542024,
            17.85394497437064
          ]
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.7900831520505,
                17.8273409116832
              ],
              [
                -91.790533763165,
                17.827279629629047
              ],
              [
                -91.79076979755831,
                17.82521645483876
              ],
              [
                -91.7901904404111,
                17.8248079025416
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.78569787128382,
                17.775870716374836
              ],
              [
                -91.78458207233362,
                17.776606311535307
              ],
              [
                -91.78441041095667,
                17.777382769808725
              ],
              [
                -91.78539746387415,
                17.776974107980095
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.71807514222131,
                17.72007722858437
              ],
              [
                -91.71766744645105,
                17.72036338290174
              ],
              [
                -91.71904073746667,
                17.721518215327904
              ],
              [
                -91.71982394249902,
                17.721211623373602
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.49989501714295,
                17.78797632687459
              ],
              [
                -91.5014185118634,
                17.788640360973204
              ],
              [
                -91.50122539281433,
                17.78733272223809
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.52685362415076,
                17.781276714197798
              ],
              [
                -91.52736860828162,
                17.781532121799852
              ],
              [
                -91.52763682918311,
                17.779979237940637
              ],
              [
                -91.52691799716712,
                17.7800405362436
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.47407327071484,
                17.7841740860407
              ],
              [
                -91.47400889769848,
                17.784664460360617
              ],
              [
                -91.4746955432063,
                17.785481747902097
              ],
              [
                -91.47491011992749,
                17.78542045146621
              ]
            ]
          ],
          "evenOdd": true
        }
      ],
      "displayProperties": [],
      "properties": {
        "clase": 6
      },
      "color": "#fbff2a",
      "mode": "FeatureCollection",
      "shown": true,
      "locked": false
    }) || /* color: #fbff2a */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.782361317599, 17.751044166033957],
                  [-91.78209309669751, 17.751268962746135],
                  [-91.7829192170741, 17.75182073529714],
                  [-91.7834234723689, 17.751687901319958]]]),
            {
              "clase": 6,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.7722031159682, 17.74715582753945],
                  [-91.77244987919757, 17.746348583120188],
                  [-91.77117314770648, 17.746348583120188],
                  [-91.77106585934588, 17.74705364490278]]]),
            {
              "clase": 6,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.64025952029745, 17.74829668535635],
                  [-91.6338222186617, 17.7459873582488],
                  [-91.63326431918661, 17.746825259138333],
                  [-91.63980890918295, 17.748807594408795]]]),
            {
              "clase": 6,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.63747002292196, 17.747724465486478]),
            {
              "clase": 6,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.62008653539823, 17.773656196549915],
                  [-91.62154565710233, 17.775066102084388],
                  [-91.62358413595365, 17.7714697993055],
                  [-91.62279020208524, 17.77104069016495]]]),
            {
              "clase": 6,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.6284491611286, 17.768407504697045]),
            {
              "clase": 6,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.6260888171955, 17.770185262044077]),
            {
              "clase": 6,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.62413056435649, 17.798593476385218]),
            {
              "clase": 6,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.62409837784831, 17.799604790266354]),
            {
              "clase": 6,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.78336425542024, 17.85394497437064]),
            {
              "clase": 6,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.7900831520505, 17.8273409116832],
                  [-91.790533763165, 17.827279629629047],
                  [-91.79076979755831, 17.82521645483876],
                  [-91.7901904404111, 17.8248079025416]]]),
            {
              "clase": 6,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.78569787128382, 17.775870716374836],
                  [-91.78458207233362, 17.776606311535307],
                  [-91.78441041095667, 17.777382769808725],
                  [-91.78539746387415, 17.776974107980095]]]),
            {
              "clase": 6,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.71807514222131, 17.72007722858437],
                  [-91.71766744645105, 17.72036338290174],
                  [-91.71904073746667, 17.721518215327904],
                  [-91.71982394249902, 17.721211623373602]]]),
            {
              "clase": 6,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.49989501714295, 17.78797632687459],
                  [-91.5014185118634, 17.788640360973204],
                  [-91.50122539281433, 17.78733272223809]]]),
            {
              "clase": 6,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.52685362415076, 17.781276714197798],
                  [-91.52736860828162, 17.781532121799852],
                  [-91.52763682918311, 17.779979237940637],
                  [-91.52691799716712, 17.7800405362436]]]),
            {
              "clase": 6,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.47407327071484, 17.7841740860407],
                  [-91.47400889769848, 17.784664460360617],
                  [-91.4746955432063, 17.785481747902097],
                  [-91.47491011992749, 17.78542045146621]]]),
            {
              "clase": 6,
              "system:index": "15"
            })]),
    plantacion_profunda = ui.import && ui.import("plantacion_profunda", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.47529635802563,
                17.782600792676416
              ],
              [
                -91.47574696914013,
                17.783132036141108
              ],
              [
                -91.47617612258252,
                17.782621225146578
              ],
              [
                -91.4754894770747,
                17.78229430534353
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Point",
          "coordinates": [
            -91.58002594408838,
            17.800849345526604
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.57294491228906,
            17.800154711149748
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.5542067754593,
            17.7990546436096
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.52789364649547,
            17.800225635154415
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.74332103236328,
            17.81241803885674
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.74160441859375,
            17.811560016349613
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.76537951930176,
            17.822142005362117
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -91.76061591609131,
            17.826636096344995
          ]
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.7496536595015,
                17.82613881731404
              ],
              [
                -91.74879535261674,
                17.825934542339994
              ],
              [
                -91.74845202986283,
                17.827487026269
              ],
              [
                -91.74928887907548,
                17.827487026269
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.64993095083835,
                17.884208888002068
              ],
              [
                -91.64752769156101,
                17.88424972963259
              ],
              [
                -91.64722728415134,
                17.885760863357138
              ],
              [
                -91.64945888205173,
                17.88612843448054
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.20075990632753,
                17.58823813631475
              ],
              [
                -91.19715501741152,
                17.588892681827016
              ],
              [
                -91.19930078462343,
                17.592492639771443
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.1400177575011,
                17.62475388797177
              ],
              [
                -91.13761449822375,
                17.625162896463703
              ],
              [
                -91.13727117546985,
                17.62892573106401
              ],
              [
                -91.1389019585509,
                17.627453326875912
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -91.08603468865986,
                17.62920817126303
              ],
              [
                -91.0826014611208,
                17.62978076874759
              ],
              [
                -91.08363142938252,
                17.634279685702598
              ],
              [
                -91.08620635003682,
                17.63362530475998
              ]
            ]
          ],
          "evenOdd": true
        }
      ],
      "displayProperties": [],
      "properties": {
        "clase": 7
      },
      "color": "#008800",
      "mode": "FeatureCollection",
      "shown": true,
      "locked": false
    }) || /* color: #008800 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.47529635802563, 17.782600792676416],
                  [-91.47574696914013, 17.783132036141108],
                  [-91.47617612258252, 17.782621225146578],
                  [-91.4754894770747, 17.78229430534353]]]),
            {
              "clase": 7,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.58002594408838, 17.800849345526604]),
            {
              "clase": 7,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.57294491228906, 17.800154711149748]),
            {
              "clase": 7,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.5542067754593, 17.7990546436096]),
            {
              "clase": 7,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.52789364649547, 17.800225635154415]),
            {
              "clase": 7,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.74332103236328, 17.81241803885674]),
            {
              "clase": 7,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.74160441859375, 17.811560016349613]),
            {
              "clase": 7,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.76537951930176, 17.822142005362117]),
            {
              "clase": 7,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([-91.76061591609131, 17.826636096344995]),
            {
              "clase": 7,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.7496536595015, 17.82613881731404],
                  [-91.74879535261674, 17.825934542339994],
                  [-91.74845202986283, 17.827487026269],
                  [-91.74928887907548, 17.827487026269]]]),
            {
              "clase": 7,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.64993095083835, 17.884208888002068],
                  [-91.64752769156101, 17.88424972963259],
                  [-91.64722728415134, 17.885760863357138],
                  [-91.64945888205173, 17.88612843448054]]]),
            {
              "clase": 7,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.20075990632753, 17.58823813631475],
                  [-91.19715501741152, 17.588892681827016],
                  [-91.19930078462343, 17.592492639771443]]]),
            {
              "clase": 7,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.1400177575011, 17.62475388797177],
                  [-91.13761449822375, 17.625162896463703],
                  [-91.13727117546985, 17.62892573106401],
                  [-91.1389019585509, 17.627453326875912]]]),
            {
              "clase": 7,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-91.08603468865986, 17.62920817126303],
                  [-91.0826014611208, 17.62978076874759],
                  [-91.08363142938252, 17.634279685702598],
                  [-91.08620635003682, 17.63362530475998]]]),
            {
              "clase": 7,
              "system:index": "13"
            })]);
//Mascara de nubes 
function maskS2clouds(image) {
  var qa = image.select('QA60');
  // Los bits 10 y 11 son nubes y nubes grises, respectivamente. 
  var cloudBitMask = ee.Number(2).pow(10).int();
  var cirrusBitMask = ee.Number(2).pow(11).int();
  // Ambas banderas deben establecerse en cero, lo que indica condiciones claras
  var mask = qa.bitwiseAnd(cloudBitMask).eq(0).and(
             qa.bitwiseAnd(cirrusBitMask).eq(0));
  // Devuelve los datos enmascarados y escalados.
  return image.updateMask(mask).divide(10000);
}
//Área de estudio
var Perímetro = ee.FeatureCollection(zona_Estudio);//Zona Ríos
//Importar coleccion de imagenes (Sentinel-2 )
var imagen = ee.ImageCollection(Sentinel_2
.filterDate("2018-04-01","2018-06-30")
.filterBounds(Perímetro)
.filter(ee.Filter.lt('CLOUDY_PIXEL_PERCENTAGE', 20))
.map(maskS2clouds)
.sort("CLOUD_COVERAGE_ASSESSMENT")
.median()
);
var imageVisParam = {"opacity":1,"bands":["B8","B4","B3"],"max":0.3,"gamma":1};
Map.setCenter(-91.41, 17.59, 10);
Map.addLayer(imagen, imageVisParam,'clip', false);
//Selección de bandas
//var bands = ['B2', 'B3', 'B4','B5','B6','B7','B8','B8A'];
//Preprocesamiento
var mosaic = imagen.mosaic()
var clip = mosaic.clip(Perímetro);
print(clip);
//FCC creación y visualización de AOI    
//Map.addLayer(clip, {bands: ['B8','B4','B3'], min: 0, max: 0.3},'clip');
//Cálculo de NDVI (Índice de vegetación de diferencia normalizada)
var ndvi = clip.expression(
    ' ((NIR - RED) / (NIR + RED))', {
      'NIR': clip.select('B8'),
      'RED': clip.select('B4'),
}).rename('nd');
var ndbi = clip.expression(
    ' ((SWIR - NIR) / (SWIR + NIR))', {
      'NIR': clip.select('B8'),
      'SWIR': clip.select('B11'),
}).rename('nb');
clip = clip.addBands(ndvi);
clip = clip.addBands(ndbi);
print(ndbi)
print(ndvi);
//Paleta de colores
var palette = ['196fda', 'CE7E45', 'DF923D', 'F1B555', 'FCD163', '99B718',
               '74A901', '66A000', '529400', '3E8601', '207401', '056201',
               '004C00', '023B01', '012E01', '011D01', '011301'];
// Visualización de NDVI en el mapa
Map.addLayer(ndvi, {min:0, max:1, palette: palette},"NDVI");
// Clases de entrenamiento
 var newfc = Cuerpos_de_Agua.merge(barbecho).merge(tierra_agricola).merge(vivienda).merge(zona_arenosa).merge(plantacion_profunda)
    var bands = ['nd'];
    var classProperty = 'clase';
   var training = clip.select(bands).sampleRegions({
    collection: newfc, 
    properties: ['clase'], 
    scale: 20,
    geometries:true
    });
var classifier = ee.Classifier.cart().train({
  features: training, 
  classProperty: 'clase', 
  inputProperties: bands
});
var classified = clip.select(bands).classify(classifier);
var imaParam = {min: 1, max: 7, palette: ['#1e82ff', '#7e8b4c', '#88ff72','#ff1455','#c2b2bc','#fbff2a','#008800']};
Map.addLayer(classified, imaParam, 'classification');
var withRandom =training.randomColumn('random');
// We want to reserve some of the data for testing, to avoid overfitting the model.
var split = 0.7;  // Roughly 70% training, 30% testing.
var trainingPartition = withRandom.filter(ee.Filter.lt('random', split));
var testingPartition = withRandom.filter(ee.Filter.gte('random', split));
// Trained with 70% of our data.
var trainedClassifier = ee.Classifier.cart().train({
  features: trainingPartition,
 classProperty: 'clase',
  inputProperties: bands
});
var classified1 = clip.select(bands).classify(trainedClassifier);
Map.addLayer(classified1, imaParam, 'clasificacion 70%');
// Classify the test FeatureCollection.
var test = testingPartition.classify(trainedClassifier);
print(test);
// Print the confusion matrix.
var confusionMatrix = test.errorMatrix(classProperty, 'classification');
print('Confusion Matrix', confusionMatrix);
//print('Resubstitution error matrix: ', trainAccuracy);
print('Training overall accuracy: ', confusionMatrix.accuracy());
Export.table.toAsset({
  collection: training, 
  description: 'Jorhat_NewNdviClass', 
  assetId: 'Jorhat_NDVIClass'
});
var trainAccuracy = classifier.confusionMatrix();
print('Matriz de error de restitución: ', trainAccuracy);
print('Entrenamiento de precisión general: ', trainAccuracy.accuracy());