var port = ui.import && ui.import("port", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                124.16960234914787,
                7.3832882179868315
              ],
              [
                124.16960234914787,
                7.313938525927466
              ],
              [
                124.24943152826883,
                7.313938525927466
              ],
              [
                124.24943152826883,
                7.3832882179868315
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        }
      ],
      "displayProperties": [
        {
          "type": "rectangle"
        }
      ],
      "properties": {},
      "color": "#c5dcae",
      "mode": "Geometry",
      "shown": false,
      "locked": false
    }) || 
    /* color: #c5dcae */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      }
    ] */
    ee.Geometry.Polygon(
        [[[124.16960234914787, 7.3832882179868315],
          [124.16960234914787, 7.313938525927466],
          [124.24943152826883, 7.313938525927466],
          [124.24943152826883, 7.3832882179868315]]], null, false),
    pt = ui.import && ui.import("pt", "geometry", {
      "geometries": [
        {
          "type": "Point",
          "coordinates": [
            124.22162807563487,
            7.204156131792879
          ]
        }
      ],
      "displayProperties": [],
      "properties": {},
      "color": "#dff4f3",
      "mode": "Geometry",
      "shown": false,
      "locked": false
    }) || 
    /* color: #dff4f3 */
    /* shown: false */
    ee.Geometry.Point([124.22162807563487, 7.204156131792879]),
    areaofinterest1 = ui.import && ui.import("areaofinterest1", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                124.10009182075206,
                7.310074160028696
              ],
              [
                124.10009182075206,
                7.185422061387517
              ],
              [
                124.24703395942393,
                7.185422061387517
              ],
              [
                124.24703395942393,
                7.310074160028696
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        }
      ],
      "displayProperties": [
        {
          "type": "rectangle"
        }
      ],
      "properties": {},
      "color": "#ffc82d",
      "mode": "Geometry",
      "shown": false,
      "locked": false
    }) || 
    /* color: #ffc82d */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      }
    ] */
    ee.Geometry.Polygon(
        [[[124.10009182075206, 7.310074160028696],
          [124.10009182075206, 7.185422061387517],
          [124.24703395942393, 7.185422061387517],
          [124.24703395942393, 7.310074160028696]]], null, false),
    areaofinterest2 = ui.import && ui.import("areaofinterest2", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                124.31775844672862,
                7.222889427948055
              ],
              [
                124.31775844672862,
                7.093443642691891
              ],
              [
                124.46401393989268,
                7.093443642691891
              ],
              [
                124.46401393989268,
                7.222889427948055
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        }
      ],
      "displayProperties": [
        {
          "type": "rectangle"
        }
      ],
      "properties": {},
      "color": "#00ffff",
      "mode": "Geometry",
      "shown": false,
      "locked": false
    }) || 
    /* color: #00ffff */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      }
    ] */
    ee.Geometry.Polygon(
        [[[124.31775844672862, 7.222889427948055],
          [124.31775844672862, 7.093443642691891],
          [124.46401393989268, 7.093443642691891],
          [124.46401393989268, 7.222889427948055]]], null, false),
    water_stressed = ui.import && ui.import("water_stressed", "geometry", {
      "geometries": [
        {
          "type": "Point",
          "coordinates": [
            124.43380153754893,
            7.205007662066132
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.43551815131846,
            7.205007662066132
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.437234765088,
            7.204837356139457
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.4375780878419,
            7.203474906422493
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.43345821479502,
            7.203134293353408
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.43517482856456,
            7.203474906422493
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.43689144233409,
            7.20143122416947
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.43843639472666,
            7.200409379588742
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.43820636262538,
            7.198931095400706
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.43494479646327,
            7.197738936594702
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.43236987580897,
            7.199782635486759
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.44009463777186,
            7.198590478918683
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.44266955842616,
            7.19824986218089
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.44678943147304,
            7.202337246151742
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.44095294465663,
            7.209490079423505
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.44696109284999,
            7.210000991764781
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.45193927278163,
            7.202337246151742
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.45434253205897,
            7.200804481479667
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.47438169109044,
            7.213236756540482
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.47661328899083,
            7.212214938583109
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.47678495036779,
            7.217834908802376
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.48141980754552,
            7.217664607699966
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.48056150066076,
            7.214939781343952
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.48210645305333,
            7.214088269743138
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.47970319377599,
            7.21306645370775
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.47644162761388,
            7.212555544825148
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.48502469646154,
            7.203018473231687
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.48502469646154,
            7.201315403612713
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.48674131023107,
            7.19961232759744
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.4694035111588,
            7.195354609585197
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.46991849528966,
            7.192629649093082
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.46871686565099,
            7.190415606650156
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.47266507732091,
            7.191267162713432
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.45275235759435,
            7.222603313637496
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.45601392375646,
            7.223795406989415
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.45395398723302,
            7.22209241552443
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.42597318278966,
            7.212555544825148
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.43163800822911,
            7.215450687535475
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.42871976482091,
            7.214428874575695
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.43077970134435,
            7.214769479151949
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.42974973308263,
            7.213747664654294
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.428376442067,
            7.2128961508109475
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.42614484416661,
            7.2111931183196685
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.43438459026036,
            7.21800520984069
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.43524289714513,
            7.2171537040080675
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.43627286540685,
            7.21800520984069
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.4554989396256,
            7.223114211173227
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.4554989396256,
            7.22226271495958
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.45429730998693,
            7.220219117504406
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.45086408244786,
            7.22209241552443
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.45206571208654,
            7.2214112171423235
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.48536801921544,
            7.213917967230751
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.48742795573888,
            7.213236756540482
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.48794293986974,
            7.212555544825148
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.48983121501622,
            7.216642799739293
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.49120450603185,
            7.207957338942003
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.48794293986974,
            7.225328093822402
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.49051786052404,
            7.226860775457484
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.48948789226232,
            7.225328093822402
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.49360776530919,
            7.216131894893629
          ]
        }
      ],
      "displayProperties": [],
      "properties": {
        "presence": 1
      },
      "color": "#bf04c2",
      "mode": "FeatureCollection",
      "shown": false,
      "locked": false
    }) || 
    /* color: #bf04c2 */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([124.43380153754893, 7.205007662066132]),
            {
              "presence": 1,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([124.43551815131846, 7.205007662066132]),
            {
              "presence": 1,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([124.437234765088, 7.204837356139457]),
            {
              "presence": 1,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([124.4375780878419, 7.203474906422493]),
            {
              "presence": 1,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Point([124.43345821479502, 7.203134293353408]),
            {
              "presence": 1,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Point([124.43517482856456, 7.203474906422493]),
            {
              "presence": 1,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([124.43689144233409, 7.20143122416947]),
            {
              "presence": 1,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([124.43843639472666, 7.200409379588742]),
            {
              "presence": 1,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([124.43820636262538, 7.198931095400706]),
            {
              "presence": 1,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Point([124.43494479646327, 7.197738936594702]),
            {
              "presence": 1,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Point([124.43236987580897, 7.199782635486759]),
            {
              "presence": 1,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Point([124.44009463777186, 7.198590478918683]),
            {
              "presence": 1,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Point([124.44266955842616, 7.19824986218089]),
            {
              "presence": 1,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Point([124.44678943147304, 7.202337246151742]),
            {
              "presence": 1,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Point([124.44095294465663, 7.209490079423505]),
            {
              "presence": 1,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Point([124.44696109284999, 7.210000991764781]),
            {
              "presence": 1,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Point([124.45193927278163, 7.202337246151742]),
            {
              "presence": 1,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Point([124.45434253205897, 7.200804481479667]),
            {
              "presence": 1,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Point([124.47438169109044, 7.213236756540482]),
            {
              "presence": 1,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Point([124.47661328899083, 7.212214938583109]),
            {
              "presence": 1,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Point([124.47678495036779, 7.217834908802376]),
            {
              "presence": 1,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Point([124.48141980754552, 7.217664607699966]),
            {
              "presence": 1,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Point([124.48056150066076, 7.214939781343952]),
            {
              "presence": 1,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Point([124.48210645305333, 7.214088269743138]),
            {
              "presence": 1,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Point([124.47970319377599, 7.21306645370775]),
            {
              "presence": 1,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Point([124.47644162761388, 7.212555544825148]),
            {
              "presence": 1,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Point([124.48502469646154, 7.203018473231687]),
            {
              "presence": 1,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Point([124.48502469646154, 7.201315403612713]),
            {
              "presence": 1,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Point([124.48674131023107, 7.19961232759744]),
            {
              "presence": 1,
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Point([124.4694035111588, 7.195354609585197]),
            {
              "presence": 1,
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Point([124.46991849528966, 7.192629649093082]),
            {
              "presence": 1,
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Point([124.46871686565099, 7.190415606650156]),
            {
              "presence": 1,
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Point([124.47266507732091, 7.191267162713432]),
            {
              "presence": 1,
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Point([124.45275235759435, 7.222603313637496]),
            {
              "presence": 1,
              "system:index": "33"
            }),
        ee.Feature(
            ee.Geometry.Point([124.45601392375646, 7.223795406989415]),
            {
              "presence": 1,
              "system:index": "34"
            }),
        ee.Feature(
            ee.Geometry.Point([124.45395398723302, 7.22209241552443]),
            {
              "presence": 1,
              "system:index": "35"
            }),
        ee.Feature(
            ee.Geometry.Point([124.42597318278966, 7.212555544825148]),
            {
              "presence": 1,
              "system:index": "36"
            }),
        ee.Feature(
            ee.Geometry.Point([124.43163800822911, 7.215450687535475]),
            {
              "presence": 1,
              "system:index": "37"
            }),
        ee.Feature(
            ee.Geometry.Point([124.42871976482091, 7.214428874575695]),
            {
              "presence": 1,
              "system:index": "38"
            }),
        ee.Feature(
            ee.Geometry.Point([124.43077970134435, 7.214769479151949]),
            {
              "presence": 1,
              "system:index": "39"
            }),
        ee.Feature(
            ee.Geometry.Point([124.42974973308263, 7.213747664654294]),
            {
              "presence": 1,
              "system:index": "40"
            }),
        ee.Feature(
            ee.Geometry.Point([124.428376442067, 7.2128961508109475]),
            {
              "presence": 1,
              "system:index": "41"
            }),
        ee.Feature(
            ee.Geometry.Point([124.42614484416661, 7.2111931183196685]),
            {
              "presence": 1,
              "system:index": "42"
            }),
        ee.Feature(
            ee.Geometry.Point([124.43438459026036, 7.21800520984069]),
            {
              "presence": 1,
              "system:index": "43"
            }),
        ee.Feature(
            ee.Geometry.Point([124.43524289714513, 7.2171537040080675]),
            {
              "presence": 1,
              "system:index": "44"
            }),
        ee.Feature(
            ee.Geometry.Point([124.43627286540685, 7.21800520984069]),
            {
              "presence": 1,
              "system:index": "45"
            }),
        ee.Feature(
            ee.Geometry.Point([124.4554989396256, 7.223114211173227]),
            {
              "presence": 1,
              "system:index": "46"
            }),
        ee.Feature(
            ee.Geometry.Point([124.4554989396256, 7.22226271495958]),
            {
              "presence": 1,
              "system:index": "47"
            }),
        ee.Feature(
            ee.Geometry.Point([124.45429730998693, 7.220219117504406]),
            {
              "presence": 1,
              "system:index": "48"
            }),
        ee.Feature(
            ee.Geometry.Point([124.45086408244786, 7.22209241552443]),
            {
              "presence": 1,
              "system:index": "49"
            }),
        ee.Feature(
            ee.Geometry.Point([124.45206571208654, 7.2214112171423235]),
            {
              "presence": 1,
              "system:index": "50"
            }),
        ee.Feature(
            ee.Geometry.Point([124.48536801921544, 7.213917967230751]),
            {
              "presence": 1,
              "system:index": "51"
            }),
        ee.Feature(
            ee.Geometry.Point([124.48742795573888, 7.213236756540482]),
            {
              "presence": 1,
              "system:index": "52"
            }),
        ee.Feature(
            ee.Geometry.Point([124.48794293986974, 7.212555544825148]),
            {
              "presence": 1,
              "system:index": "53"
            }),
        ee.Feature(
            ee.Geometry.Point([124.48983121501622, 7.216642799739293]),
            {
              "presence": 1,
              "system:index": "54"
            }),
        ee.Feature(
            ee.Geometry.Point([124.49120450603185, 7.207957338942003]),
            {
              "presence": 1,
              "system:index": "55"
            }),
        ee.Feature(
            ee.Geometry.Point([124.48794293986974, 7.225328093822402]),
            {
              "presence": 1,
              "system:index": "56"
            }),
        ee.Feature(
            ee.Geometry.Point([124.49051786052404, 7.226860775457484]),
            {
              "presence": 1,
              "system:index": "57"
            }),
        ee.Feature(
            ee.Geometry.Point([124.48948789226232, 7.225328093822402]),
            {
              "presence": 1,
              "system:index": "58"
            }),
        ee.Feature(
            ee.Geometry.Point([124.49360776530919, 7.216131894893629]),
            {
              "presence": 1,
              "system:index": "59"
            })]),
    water_notstressed = ui.import && ui.import("water_notstressed", "geometry", {
      "geometries": [
        {
          "type": "Point",
          "coordinates": [
            124.40949369060216,
            7.185987489386435
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.40657544719396,
            7.183092158613408
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.4089787064713,
            7.179174917042362
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.4118969498795,
            7.18121869946333
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.4144718705338,
            7.179004601426076
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.41086698161779,
            7.175768592602165
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.40259557085263,
            7.176647459398386
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.40105061846005,
            7.186014772119838
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.39933400469052,
            7.2038972873005855
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.40190892534481,
            7.206792485355376
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.40293889360653,
            7.214626457908127
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.40901002420179,
            7.2040222577428485
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.40729341043226,
            7.198913041007896
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.39750871194593,
            7.182563160931582
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.44214066995374,
            7.175580220390775
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.4368191672682,
            7.172344187217301
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.44660386575453,
            7.175239586403271
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.40798005594007,
            7.157355944306913
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.40111360086195,
            7.156674648831798
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.39716538919203,
            7.1633172363100215
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.40489015115492,
            7.152927505538769
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.4093533469557,
            7.150031964656379
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.3851490928053,
            7.153097830901204
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.3767376853346,
            7.154630756303602
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.3713813351847,
            7.162112657269123
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.3552451657511,
            7.176419477757008
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.35871215875132,
            7.176078844397689
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.34944244439585,
            7.182891463123231
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.34770229820063,
            7.195177266627157
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.33997753623774,
            7.194496027771575
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.34495571616938,
            7.192111683725773
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.35680035117915,
            7.191260129246197
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.53646937159643,
            7.189837257798794
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.5350960805808,
            7.1876232017431825
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.53269282130346,
            7.18626070034587
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.53870096949682,
            7.187112264197994
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.54127589015111,
            7.20414320583693
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.53887263087377,
            7.200055838144373
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.38120766467463,
            7.125480441397866
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.3791477281512,
            7.142854344476681
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.38069268054377,
            7.125480441397866
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.40640096431034,
            7.11112525302624
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.4101775146033,
            7.109932864872053
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.41361074214237,
            7.116235452902375
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.47854160284825,
            7.114138162260759
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.47596668219396,
            7.109879646861537
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.47937041303258,
            7.110648821506851
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.37788869155169,
            7.101220726876823
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.37325383437395,
            7.103946232636121
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.37943364394427,
            7.093555155354299
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.39848805678606,
            7.114337075063268
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.39162160170794,
            7.119106563344111
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.27098481432405,
            7.170394916024218
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.34067933336702,
            7.160856959483274
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.33467118517366,
            7.155406609021633
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.34394089952913,
            7.158472439168448
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.18354896910705,
            7.193968213181806
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.1862955511383,
            7.193457282775016
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.18801216490783,
            7.191413555397772
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            124.16123299010314,
            7.21099889741457
          ]
        }
      ],
      "displayProperties": [],
      "properties": {
        "presence": 0
      },
      "color": "#ff0000",
      "mode": "FeatureCollection",
      "shown": false,
      "locked": false
    }) || 
    /* color: #ff0000 */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([124.40949369060216, 7.185987489386435]),
            {
              "presence": 0,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([124.40657544719396, 7.183092158613408]),
            {
              "presence": 0,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([124.4089787064713, 7.179174917042362]),
            {
              "presence": 0,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([124.4118969498795, 7.18121869946333]),
            {
              "presence": 0,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Point([124.4144718705338, 7.179004601426076]),
            {
              "presence": 0,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Point([124.41086698161779, 7.175768592602165]),
            {
              "presence": 0,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([124.40259557085263, 7.176647459398386]),
            {
              "presence": 0,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([124.40105061846005, 7.186014772119838]),
            {
              "presence": 0,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([124.39933400469052, 7.2038972873005855]),
            {
              "presence": 0,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Point([124.40190892534481, 7.206792485355376]),
            {
              "presence": 0,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Point([124.40293889360653, 7.214626457908127]),
            {
              "presence": 0,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Point([124.40901002420179, 7.2040222577428485]),
            {
              "presence": 0,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Point([124.40729341043226, 7.198913041007896]),
            {
              "presence": 0,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Point([124.39750871194593, 7.182563160931582]),
            {
              "presence": 0,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Point([124.44214066995374, 7.175580220390775]),
            {
              "presence": 0,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Point([124.4368191672682, 7.172344187217301]),
            {
              "presence": 0,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Point([124.44660386575453, 7.175239586403271]),
            {
              "presence": 0,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Point([124.40798005594007, 7.157355944306913]),
            {
              "presence": 0,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Point([124.40111360086195, 7.156674648831798]),
            {
              "presence": 0,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Point([124.39716538919203, 7.1633172363100215]),
            {
              "presence": 0,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Point([124.40489015115492, 7.152927505538769]),
            {
              "presence": 0,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Point([124.4093533469557, 7.150031964656379]),
            {
              "presence": 0,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Point([124.3851490928053, 7.153097830901204]),
            {
              "presence": 0,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Point([124.3767376853346, 7.154630756303602]),
            {
              "presence": 0,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Point([124.3713813351847, 7.162112657269123]),
            {
              "presence": 0,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Point([124.3552451657511, 7.176419477757008]),
            {
              "presence": 0,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Point([124.35871215875132, 7.176078844397689]),
            {
              "presence": 0,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Point([124.34944244439585, 7.182891463123231]),
            {
              "presence": 0,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Point([124.34770229820063, 7.195177266627157]),
            {
              "presence": 0,
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Point([124.33997753623774, 7.194496027771575]),
            {
              "presence": 0,
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Point([124.34495571616938, 7.192111683725773]),
            {
              "presence": 0,
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Point([124.35680035117915, 7.191260129246197]),
            {
              "presence": 0,
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Point([124.53646937159643, 7.189837257798794]),
            {
              "presence": 0,
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Point([124.5350960805808, 7.1876232017431825]),
            {
              "presence": 0,
              "system:index": "33"
            }),
        ee.Feature(
            ee.Geometry.Point([124.53269282130346, 7.18626070034587]),
            {
              "presence": 0,
              "system:index": "34"
            }),
        ee.Feature(
            ee.Geometry.Point([124.53870096949682, 7.187112264197994]),
            {
              "presence": 0,
              "system:index": "35"
            }),
        ee.Feature(
            ee.Geometry.Point([124.54127589015111, 7.20414320583693]),
            {
              "presence": 0,
              "system:index": "36"
            }),
        ee.Feature(
            ee.Geometry.Point([124.53887263087377, 7.200055838144373]),
            {
              "presence": 0,
              "system:index": "37"
            }),
        ee.Feature(
            ee.Geometry.Point([124.38120766467463, 7.125480441397866]),
            {
              "presence": 0,
              "system:index": "38"
            }),
        ee.Feature(
            ee.Geometry.Point([124.3791477281512, 7.142854344476681]),
            {
              "presence": 0,
              "system:index": "39"
            }),
        ee.Feature(
            ee.Geometry.Point([124.38069268054377, 7.125480441397866]),
            {
              "presence": 0,
              "system:index": "40"
            }),
        ee.Feature(
            ee.Geometry.Point([124.40640096431034, 7.11112525302624]),
            {
              "presence": 0,
              "system:index": "41"
            }),
        ee.Feature(
            ee.Geometry.Point([124.4101775146033, 7.109932864872053]),
            {
              "presence": 0,
              "system:index": "42"
            }),
        ee.Feature(
            ee.Geometry.Point([124.41361074214237, 7.116235452902375]),
            {
              "presence": 0,
              "system:index": "43"
            }),
        ee.Feature(
            ee.Geometry.Point([124.47854160284825, 7.114138162260759]),
            {
              "presence": 0,
              "system:index": "44"
            }),
        ee.Feature(
            ee.Geometry.Point([124.47596668219396, 7.109879646861537]),
            {
              "presence": 0,
              "system:index": "45"
            }),
        ee.Feature(
            ee.Geometry.Point([124.47937041303258, 7.110648821506851]),
            {
              "presence": 0,
              "system:index": "46"
            }),
        ee.Feature(
            ee.Geometry.Point([124.37788869155169, 7.101220726876823]),
            {
              "presence": 0,
              "system:index": "47"
            }),
        ee.Feature(
            ee.Geometry.Point([124.37325383437395, 7.103946232636121]),
            {
              "presence": 0,
              "system:index": "48"
            }),
        ee.Feature(
            ee.Geometry.Point([124.37943364394427, 7.093555155354299]),
            {
              "presence": 0,
              "system:index": "49"
            }),
        ee.Feature(
            ee.Geometry.Point([124.39848805678606, 7.114337075063268]),
            {
              "presence": 0,
              "system:index": "50"
            }),
        ee.Feature(
            ee.Geometry.Point([124.39162160170794, 7.119106563344111]),
            {
              "presence": 0,
              "system:index": "51"
            }),
        ee.Feature(
            ee.Geometry.Point([124.27098481432405, 7.170394916024218]),
            {
              "presence": 0,
              "system:index": "52"
            }),
        ee.Feature(
            ee.Geometry.Point([124.34067933336702, 7.160856959483274]),
            {
              "presence": 0,
              "system:index": "53"
            }),
        ee.Feature(
            ee.Geometry.Point([124.33467118517366, 7.155406609021633]),
            {
              "presence": 0,
              "system:index": "54"
            }),
        ee.Feature(
            ee.Geometry.Point([124.34394089952913, 7.158472439168448]),
            {
              "presence": 0,
              "system:index": "55"
            }),
        ee.Feature(
            ee.Geometry.Point([124.18354896910705, 7.193968213181806]),
            {
              "presence": 0,
              "system:index": "56"
            }),
        ee.Feature(
            ee.Geometry.Point([124.1862955511383, 7.193457282775016]),
            {
              "presence": 0,
              "system:index": "57"
            }),
        ee.Feature(
            ee.Geometry.Point([124.18801216490783, 7.191413555397772]),
            {
              "presence": 0,
              "system:index": "58"
            }),
        ee.Feature(
            ee.Geometry.Point([124.16123299010314, 7.21099889741457]),
            {
              "presence": 0,
              "system:index": "59"
            })]);
//SAR Coastal Monitoring
var collection = ee.ImageCollection("COPERNICUS/S1_GRD")
.filterDate('2020-06-01','2020-12-31')
.filterBounds(port).select('VV')
;
print(collection);
var viz = {
  region: port,
  min :-21,
  max : 5,
}
var thumb = ui.Thumbnail({
    image: collection, 
    params: viz,
    style: {
      position: 'bottom-left',
      width: '325px'
  }});
Map.add(thumb);
Map.addLayer(collection, {bands: ['VV'], min: -21, max: 5}, 'SAR', false)
Map.centerObject(pt,9.5)
//print(collection.getVideoThumbURL(viz));
// Filter by metadata properties.
// var vh = sentinel1
//   // Filter to get images with VV and VH dual polarization.
//   .filter(ee.Filter.listContains('transmitterReceiverPolarisation', 'VV'))
//   .filter(ee.Filter.listContains('transmitterReceiverPolarisation', 'VH'))
//   // Filter to get images collected in interferometric wide swath mode.
//   .filter(ee.Filter.eq('instrumentMode', 'IW'));
// // Filter to get images from different look angles.
// var vhAscending = vh.filter(ee.Filter.eq('orbitProperties_pass', 'ASCENDING'));
// var vhDescending = vh.filter(ee.Filter.eq('orbitProperties_pass', 'DESCENDING'));
// // Create a composite from means at different polarizations and look angles.
// var composite = ee.Image.cat([
//   vhAscending.select('VH').mean(),
//   ee.ImageCollection(vhAscending.select('VV').merge(vhDescending.select('VV'))).mean(),
//   vhDescending.select('VH').mean()
// ]).focal_median();
// // Display as a composite of polarization and backscattering characteristics.
// Map.addLayer(composite, {min: [-25, -20, -25], max: [0, 10, 0]}, 'composite');
//VIRS
var dataset = ee.ImageCollection('NOAA/VIIRS/DNB/MONTHLY_V1/VCMCFG')
                  .filter(ee.Filter.date('2020-06-01', '2020-12-31'));
var nighttime = dataset.select('avg_rad');
var nighttimeVis = {min: 0.0, max: 60.0};
var viz2 = {
  region: areaofinterest1,
  min :-21,
  max : 5,
}
var thumb2 = ui.Thumbnail({
    image: collection, 
    params: viz2,
    style: {
      position: 'bottom-right',
      width: '325px'
  }});
Map.add(thumb2);
Map.centerObject(areaofinterest1, 9.5)
//Map.addLayer(nighttime, nighttimeVis, 'Nighttime', false);
//print(collection.getVideoThumbURL(viz2));
//Sentinel 2 SM and Agri Monitoring
// Function to mask clouds using the Sentinel-2 QA band.
function maskS2clouds(image) {
  var qa = image.select('QA60')
  // Bits 10 and 11 are clouds and cirrus, respectively.
  var cloudBitMask = 1 << 10;
  var cirrusBitMask = 1 << 11;
  // Both flags should be set to zero, indicating clear conditions.
  var mask = qa.bitwiseAnd(cloudBitMask).eq(0).and(
             qa.bitwiseAnd(cirrusBitMask).eq(0))
  // Return the masked and scaled data, without the QA bands.
  return image.updateMask(mask).divide(10000)
      .select("B.*")
      .copyProperties(image, ["system:time_start"])
}
// Map the function over one year of data and take the median.
// Load Sentinel-2 TOA reflectance data.
var collection = ee.ImageCollection('COPERNICUS/S2')
    .filterDate('2020-01-01', '2020-12-31')
    .filterBounds(pt)
    // Pre-filter to get less cloudy granules.
    .filter(ee.Filter.lt('CLOUDY_PIXEL_PERCENTAGE', 20))
    .map(maskS2clouds)
var composite = collection.median()
// First define individual bands as variables.
var red = composite.select('B4').rename("red")
var green= composite.select('B3').rename("green")
var blue = composite.select('B2').rename("blue")
var nir = composite.select('B8').rename("nir")
var vnir = composite.select('B8A').rename("vnir")
var swir1 = composite.select('B11').rename("swir1")
var swir2 = composite.select('B12').rename("swir2")
// Then, calculate three different vegetation indices: NDVI, NDWI, SM, BSI, and TCB.
var ndvi = nir.subtract(red).divide(nir.add(red)).rename('ndvi');
var ndwi = green.subtract(nir).divide(green.add(nir)).rename('ndwi');
var SM = vnir.subtract(swir1).divide(vnir.add(swir1)).rename('SM');
var BSI = ((swir1.add(red)).subtract(nir.add(blue))).divide((swir1.add(red)).add(nir.add(blue))).rename('BSI')
var TCB = composite.expression(
  "0.3029 * B2 + 0.2786 * B3 + 0.4733 * B4 + 0.5599 * B8 + 0.508 * B11 + 0.1872 * B12" , {
  'B2': blue,
  'B3': green,
  'B4': red,
  'B8': nir,
  'B11': swir1,
  'B12': swir1
  }).rename("TCB");
// Combine the predictors into a single image.
var predictors = nir
.addBands(blue)
.addBands(green)
.addBands(red)
.addBands(swir1)
.addBands(swir2)
.addBands(ndvi)
.addBands(TCB)
.addBands(ndwi)
.addBands(SM)
.addBands(BSI)
print('predictors: ', predictors);
// var training = predictors.sample({
//   region: areaofinterest, numPixels: 5000
// });
//var training = predictors.sample(roi, 5000)
//var training = predictors.sample(ee.FeatureCollection.RandomPoints(5000))
var combinedsamples = water_stressed.merge(water_notstressed);
var samples = predictors.sampleRegions({
  collection: combinedsamples,
  properties: ['presence'],
  scale: 30 });
// var aoi1 = ee.FeatureCollection.randomPoints(areaofinterest1, 1000, 12).set('Class', 0);
// var aoi2 = ee.FeatureCollection.randomPoints(areaofinterest1, 1000, 1).set('Class', 1);
// var randomPoints = aoi1.merge(aoi2);
// //var simpleJoined = simpleJoin.apply(aoi1, aoi2);
// Display the points.
//Map.addLayer(randomPoints, {}, 'random points', false);
// print(randomPoints, aoi1, aoi2);
// var samples = predictors.sampleRegions({
//   collection: randomPoints,
//   properties: ['Class'],
//   scale: 30 });
// Using the sampled data, build a randomForest model.
// Using a specific seed (random number) exactly replicates your model each time you run it.
var trainingclassifier = ee.Classifier.randomForest({
                  numberOfTrees: 10,
                  // variablesPerSplit: null,
                  // minLeafPopulation: 1,
                  // bagFraction: 0.5,
                  // maxNodes: null,
                  seed: 7})
.train({
features: samples,
classProperty: 'presence'});
print(trainingclassifier);
//Print Confusion Matrix and Overall Accuracy.
var confusionMatrix = trainingclassifier.confusionMatrix();
print('Error matrix: ', confusionMatrix);
print('Training overall accuracy: ', confusionMatrix.accuracy());
// Apply the model to the extent of the loaded predictor image.
var classified = predictors.classify(trainingclassifier);
// // Make the training dataset.
// var unsupervised = predictors.sample({
//   region: roi,
//   scale: 30,
//   numPixels: 5000
// });
// // Instantiate the clusterer and train it.
// var clusterer = ee.Clusterer.wekaKMeans(15).train(unsupervised);
// // Cluster the input using the trained clusterer.
// var result = predictors.cluster(clusterer);
// Display the results.
Map.centerObject(pt, 11);
Map.addLayer(composite, {bands: ['B4', 'B3', 'B2'], min: 0, max: 0.3}, 'RGB', false)
Map.addLayer(composite, {bands: ['B8', 'B4', 'B3'], min: 0, max: 0.3}, 'FALSE COLOR', false)
Map.addLayer(composite, {bands: ['B11', 'B8', 'B2'], min: 0, max: 0.3}, 'AGRICULTURE', false)
Map.addLayer(ndvi, {bands: ['ndvi'], min: 0, max: 1.0, palette: ["red", "orange", "yellow", "green"]}, 'NDVI', false)
Map.addLayer(SM, {bands: ['SM'], min: 0, max: 0.5, palette: ["darkred", "red", "salmon", "orange", "yellow", "LightCyan", "aqua", "blue"]}, 'SOIL MOISTURE', false)
Map.addLayer(classified, {min:0, max:1, palette:['white', 'blue']}, 'Classified', false)
//Map.addLayer(BSI, {bands: ['BSI'], min: -1.0, max: 0, palette: ["red", "orange", "yellow", "green"]}, 'BARE SOIL INDEX', false)
// Map.addLayer(result.randomVisualizer())
// Display the clusters with random colors.
//Map.addLayer(result, {bands: ['cluster'], min: 0, max: 1, palette: ["darkred", "red", "salmon", "orange", "yellow", "LightCyan", "aqua", "blue"]},'Unsupervised Classification');
//print(ndvi, SM);
//ui.root.widgets().reset(composite)
//var linker = ui.Map.Linker(composite)
//composite[0].centerObject(roi, 11)
//references: 
//https://ecodata.nrel.colostate.edu/gdpe-gee-remote-sensing-lessons/module7.html
//https://gisgeography.com/sentinel-2-bands-combinations/
//https://giscrack.com/list-of-spectral-indices-for-sentinel-and-landsat/
//https://developers.google.com/earth-engine/guides/clustering