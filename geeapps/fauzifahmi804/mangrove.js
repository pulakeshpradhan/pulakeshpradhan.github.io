var L8 = ui.import && ui.import("L8", "imageCollection", {
      "id": "LANDSAT/LC08/C01/T1_SR"
    }) || ee.ImageCollection("LANDSAT/LC08/C01/T1_SR"),
    SRTM = ui.import && ui.import("SRTM", "image", {
      "id": "USGS/SRTMGL1_003"
    }) || ee.Image("USGS/SRTMGL1_003"),
    geometry = ui.import && ui.import("geometry", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.13030819433915,
                -6.338160640615036
              ],
              [
                108.14060787695634,
                -6.334407160270285
              ],
              [
                108.16395382422196,
                -6.324511490378533
              ],
              [
                108.16773037451493,
                -6.319392966085586
              ],
              [
                108.1773434116243,
                -6.316663065754151
              ],
              [
                108.18180660742509,
                -6.30813203444661
              ],
              [
                108.1879864169954,
                -6.3050608287915955
              ],
              [
                108.20068935888993,
                -6.308473278396198
              ],
              [
                108.20034603613603,
                -6.3016483567307375
              ],
              [
                108.20103268164384,
                -6.289704527847339
              ],
              [
                108.20892910498368,
                -6.283903140482026
              ],
              [
                108.21888546484696,
                -6.282196837767668
              ],
              [
                108.21991543310868,
                -6.271958904059105
              ],
              [
                108.21442226904618,
                -6.261720769288228
              ],
              [
                108.21236233252274,
                -6.251141152474278
              ],
              [
                108.20892910498368,
                -6.241243897851449
              ],
              [
                108.21613888281571,
                -6.2453393362513685
              ],
              [
                108.22540859717118,
                -6.250117307227038
              ],
              [
                108.2315884067415,
                -6.255577792050157
              ],
              [
                108.25527767676103,
                -6.257966736225476
              ],
              [
                108.27175716894853,
                -6.257625459154775
              ],
              [
                108.28549007910478,
                -6.260355669478094
              ],
              [
                108.29716305273759,
                -6.260696944765152
              ],
              [
                108.3088360263704,
                -6.261720769288228
              ],
              [
                108.3201656772493,
                -6.259673118235006
              ],
              [
                108.3363018466829,
                -6.254895234565854
              ],
              [
                108.34969143408524,
                -6.25523651341942
              ],
              [
                108.35106472510087,
                -6.263085865529666
              ],
              [
                108.35449795263993,
                -6.271276367992746
              ],
              [
                108.35518459814774,
                -6.281855576553457
              ],
              [
                108.3582745029329,
                -6.295505850469599
              ],
              [
                108.36481183563104,
                -6.318724606460286
              ],
              [
                108.36927503143183,
                -6.339539649326456
              ],
              [
                108.37236493621698,
                -6.355918108970464
              ],
              [
                108.37682813201776,
                -6.366836792427458
              ],
              [
                108.3898743966662,
                -6.382873187725952
              ],
              [
                108.40189069305292,
                -6.394473671420271
              ],
              [
                108.41116040740839,
                -6.40027381459123
              ],
              [
                108.42043012176386,
                -6.39481485813481
              ],
              [
                108.4173402169787,
                -6.385261544098366
              ],
              [
                108.40429395233026,
                -6.368884019740596
              ],
              [
                108.3898743966662,
                -6.350458680301312
              ],
              [
                108.38129132781854,
                -6.333738820062742
              ],
              [
                108.37820142303339,
                -6.319748316693832
              ],
              [
                108.37923139129511,
                -6.310193609113626
              ],
              [
                108.37751477752558,
                -6.294496207128058
              ],
              [
                108.3675584176623,
                -6.260028509669119
              ],
              [
                108.36446851287714,
                -6.2419405893311275
              ],
              [
                108.36000531707636,
                -6.232384454630057
              ],
              [
                108.33974927459589,
                -6.241258014059049
              ],
              [
                108.32601636443964,
                -6.2443295957787415
              ],
              [
                108.3071336129748,
                -6.2443295957787415
              ],
              [
                108.29031079803339,
                -6.243305737206974
              ],
              [
                108.27932446990839,
                -6.243305737206974
              ],
              [
                108.2576951364123,
                -6.241258014059049
              ],
              [
                108.23778241668573,
                -6.239210282907361
              ],
              [
                108.22542279754511,
                -6.2364799622593035
              ],
              [
                108.21340650115839,
                -6.228630211217809
              ],
              [
                108.20516675506464,
                -6.221462944709431
              ],
              [
                108.20173352752558,
                -6.215660800229285
              ],
              [
                108.19418042693964,
                -6.215319495619357
              ],
              [
                108.18525403533808,
                -6.220097740003777
              ],
              [
                108.18044751678339,
                -6.215319495619357
              ],
              [
                108.17255109344354,
                -6.21429558046116
              ],
              [
                108.16602796111933,
                -6.219073834147861
              ],
              [
                108.16053479705683,
                -6.226241133248502
              ],
              [
                108.16499799285761,
                -6.235456088350329
              ],
              [
                108.17495435272089,
                -6.238868993604121
              ],
              [
                108.18319409881464,
                -6.240575437897665
              ],
              [
                108.18285077606073,
                -6.246036022282819
              ],
              [
                108.19006055389276,
                -6.24876629311904
              ],
              [
                108.19555371795526,
                -6.25149654970952
              ],
              [
                108.19830029998651,
                -6.255933186269787
              ],
              [
                108.19967359100214,
                -6.262076159328927
              ],
              [
                108.20070355926386,
                -6.271290483389202
              ],
              [
                108.19795697723261,
                -6.271973019437076
              ],
              [
                108.19315045867792,
                -6.276409481962214
              ],
              [
                108.18868726287714,
                -6.282210952868205
              ],
              [
                108.1807908395373,
                -6.290401154630934
              ],
              [
                108.1698045114123,
                -6.299956226901567
              ],
              [
                108.16259473358026,
                -6.305074943270933
              ],
              [
                108.15092175994745,
                -6.309852366296864
              ],
              [
                108.14336865936151,
                -6.3122410612941815
              ],
              [
                108.13753217254511,
                -6.314288505381434
              ],
              [
                108.13409894500604,
                -6.319748316693832
              ],
              [
                108.1316956857287,
                -6.324525604327646
              ],
              [
                108.12757581268183,
                -6.330667766410378
              ],
              [
                108.12259763275019,
                -6.332373909583521
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        }
      ],
      "displayProperties": [],
      "properties": {},
      "color": "#d63000",
      "mode": "FeatureCollection",
      "shown": false,
      "locked": false
    }) || 
    /* color: #d63000 */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[108.13030819433915, -6.338160640615036],
                  [108.14060787695634, -6.334407160270285],
                  [108.16395382422196, -6.324511490378533],
                  [108.16773037451493, -6.319392966085586],
                  [108.1773434116243, -6.316663065754151],
                  [108.18180660742509, -6.30813203444661],
                  [108.1879864169954, -6.3050608287915955],
                  [108.20068935888993, -6.308473278396198],
                  [108.20034603613603, -6.3016483567307375],
                  [108.20103268164384, -6.289704527847339],
                  [108.20892910498368, -6.283903140482026],
                  [108.21888546484696, -6.282196837767668],
                  [108.21991543310868, -6.271958904059105],
                  [108.21442226904618, -6.261720769288228],
                  [108.21236233252274, -6.251141152474278],
                  [108.20892910498368, -6.241243897851449],
                  [108.21613888281571, -6.2453393362513685],
                  [108.22540859717118, -6.250117307227038],
                  [108.2315884067415, -6.255577792050157],
                  [108.25527767676103, -6.257966736225476],
                  [108.27175716894853, -6.257625459154775],
                  [108.28549007910478, -6.260355669478094],
                  [108.29716305273759, -6.260696944765152],
                  [108.3088360263704, -6.261720769288228],
                  [108.3201656772493, -6.259673118235006],
                  [108.3363018466829, -6.254895234565854],
                  [108.34969143408524, -6.25523651341942],
                  [108.35106472510087, -6.263085865529666],
                  [108.35449795263993, -6.271276367992746],
                  [108.35518459814774, -6.281855576553457],
                  [108.3582745029329, -6.295505850469599],
                  [108.36481183563104, -6.318724606460286],
                  [108.36927503143183, -6.339539649326456],
                  [108.37236493621698, -6.355918108970464],
                  [108.37682813201776, -6.366836792427458],
                  [108.3898743966662, -6.382873187725952],
                  [108.40189069305292, -6.394473671420271],
                  [108.41116040740839, -6.40027381459123],
                  [108.42043012176386, -6.39481485813481],
                  [108.4173402169787, -6.385261544098366],
                  [108.40429395233026, -6.368884019740596],
                  [108.3898743966662, -6.350458680301312],
                  [108.38129132781854, -6.333738820062742],
                  [108.37820142303339, -6.319748316693832],
                  [108.37923139129511, -6.310193609113626],
                  [108.37751477752558, -6.294496207128058],
                  [108.3675584176623, -6.260028509669119],
                  [108.36446851287714, -6.2419405893311275],
                  [108.36000531707636, -6.232384454630057],
                  [108.33974927459589, -6.241258014059049],
                  [108.32601636443964, -6.2443295957787415],
                  [108.3071336129748, -6.2443295957787415],
                  [108.29031079803339, -6.243305737206974],
                  [108.27932446990839, -6.243305737206974],
                  [108.2576951364123, -6.241258014059049],
                  [108.23778241668573, -6.239210282907361],
                  [108.22542279754511, -6.2364799622593035],
                  [108.21340650115839, -6.228630211217809],
                  [108.20516675506464, -6.221462944709431],
                  [108.20173352752558, -6.215660800229285],
                  [108.19418042693964, -6.215319495619357],
                  [108.18525403533808, -6.220097740003777],
                  [108.18044751678339, -6.215319495619357],
                  [108.17255109344354, -6.21429558046116],
                  [108.16602796111933, -6.219073834147861],
                  [108.16053479705683, -6.226241133248502],
                  [108.16499799285761, -6.235456088350329],
                  [108.17495435272089, -6.238868993604121],
                  [108.18319409881464, -6.240575437897665],
                  [108.18285077606073, -6.246036022282819],
                  [108.19006055389276, -6.24876629311904],
                  [108.19555371795526, -6.25149654970952],
                  [108.19830029998651, -6.255933186269787],
                  [108.19967359100214, -6.262076159328927],
                  [108.20070355926386, -6.271290483389202],
                  [108.19795697723261, -6.271973019437076],
                  [108.19315045867792, -6.276409481962214],
                  [108.18868726287714, -6.282210952868205],
                  [108.1807908395373, -6.290401154630934],
                  [108.1698045114123, -6.299956226901567],
                  [108.16259473358026, -6.305074943270933],
                  [108.15092175994745, -6.309852366296864],
                  [108.14336865936151, -6.3122410612941815],
                  [108.13753217254511, -6.314288505381434],
                  [108.13409894500604, -6.319748316693832],
                  [108.1316956857287, -6.324525604327646],
                  [108.12757581268183, -6.330667766410378],
                  [108.12259763275019, -6.332373909583521]]]),
            {
              "system:index": "0"
            })]),
    Mangrove = ui.import && ui.import("Mangrove", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.15606918834077,
                -6.316236591991213
              ],
              [
                108.15606918834077,
                -6.316791104618401
              ],
              [
                108.1568845798813,
                -6.316791104618401
              ],
              [
                108.1568845798813,
                -6.316236591991213
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.14267960093842,
                -6.319478349703015
              ],
              [
                108.14267960093842,
                -6.320118167904214
              ],
              [
                108.14392414592133,
                -6.320118167904214
              ],
              [
                108.14392414592133,
                -6.319478349703015
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.13911762736664,
                -6.321141875380143
              ],
              [
                108.13911762736664,
                -6.321824345905142
              ],
              [
                108.13980427287446,
                -6.321824345905142
              ],
              [
                108.13980427287446,
                -6.321141875380143
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.13238883505456,
                -6.330574576461229
              ],
              [
                108.13238883505456,
                -6.331129073710881
              ],
              [
                108.13273215780846,
                -6.331129073710881
              ],
              [
                108.13273215780846,
                -6.330574576461229
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.12690639982812,
                -6.33480793461247
              ],
              [
                108.12690639982812,
                -6.334914567870803
              ],
              [
                108.1281831313192,
                -6.334914567870803
              ],
              [
                108.1281831313192,
                -6.33480793461247
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.13096189985863,
                -6.333773590863382
              ],
              [
                108.13096189985863,
                -6.334114817896311
              ],
              [
                108.13121939192406,
                -6.334114817896311
              ],
              [
                108.13121939192406,
                -6.333773590863382
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.17175906723568,
                -6.30458175566786
              ],
              [
                108.17175906723568,
                -6.304986985608018
              ],
              [
                108.17210238998959,
                -6.304986985608018
              ],
              [
                108.17210238998959,
                -6.30458175566786
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.16454928940365,
                -6.310532205596583
              ],
              [
                108.16454928940365,
                -6.310980086159823
              ],
              [
                108.16499990051815,
                -6.310980086159823
              ],
              [
                108.16499990051815,
                -6.310532205596583
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.17027848785946,
                -6.30746101416301
              ],
              [
                108.17027848785946,
                -6.308122174967256
              ],
              [
                108.17090076035092,
                -6.308122174967256
              ],
              [
                108.17090076035092,
                -6.30746101416301
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.19806508972404,
                -6.299007563193088
              ],
              [
                108.19806508972404,
                -6.2991995163191765
              ],
              [
                108.1984727854943,
                -6.2991995163191765
              ],
              [
                108.1984727854943,
                -6.299007563193088
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.18645648910758,
                -6.2938461303047495
              ],
              [
                108.18645648910758,
                -6.294166055322123
              ],
              [
                108.18679981186149,
                -6.294166055322123
              ],
              [
                108.18679981186149,
                -6.2938461303047495
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.19323711349723,
                -6.286491864309853
              ],
              [
                108.19323711349723,
                -6.28717438043234
              ],
              [
                108.19349460556266,
                -6.28717438043234
              ],
              [
                108.19349460556266,
                -6.286491864309853
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.19639139129875,
                -6.295321847447638
              ],
              [
                108.19639139129875,
                -6.295663099822959
              ],
              [
                108.19664888336418,
                -6.295663099822959
              ],
              [
                108.19664888336418,
                -6.295321847447638
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.1970746149861,
                -6.280747349713188
              ],
              [
                108.1970746149861,
                -6.281408544520247
              ],
              [
                108.19769688747755,
                -6.281408544520247
              ],
              [
                108.19769688747755,
                -6.280747349713188
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.20293255947462,
                -6.2767801632382865
              ],
              [
                108.20293255947462,
                -6.277057440694612
              ],
              [
                108.2032544245564,
                -6.277057440694612
              ],
              [
                108.2032544245564,
                -6.2767801632382865
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.21647584166338,
                -6.2736086868599905
              ],
              [
                108.21647584166338,
                -6.274099257552977
              ],
              [
                108.21699082579424,
                -6.274099257552977
              ],
              [
                108.21699082579424,
                -6.2736086868599905
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.20941626753618,
                -6.27117715573987
              ],
              [
                108.20941626753618,
                -6.271582411714165
              ],
              [
                108.20995270933916,
                -6.271582411714165
              ],
              [
                108.20995270933916,
                -6.27117715573987
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.1648461871551,
                -6.226593168602981
              ],
              [
                108.1648461871551,
                -6.2270624523187985
              ],
              [
                108.16574740938411,
                -6.2270624523187985
              ],
              [
                108.16574740938411,
                -6.226593168602981
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.17184138826595,
                -6.230987354244052
              ],
              [
                108.17184138826595,
                -6.23137131046507
              ],
              [
                108.17244220308528,
                -6.23137131046507
              ],
              [
                108.17244220308528,
                -6.230987354244052
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.17454505495296,
                -6.231541957584235
              ],
              [
                108.17454505495296,
                -6.232011236875773
              ],
              [
                108.17523170046077,
                -6.232011236875773
              ],
              [
                108.17523170046077,
                -6.231541957584235
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.16918063692317,
                -6.230518074036857
              ],
              [
                108.16918063692317,
                -6.23137131046507
              ],
              [
                108.16952395967708,
                -6.23137131046507
              ],
              [
                108.16952395967708,
                -6.230518074036857
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.17883658937679,
                -6.225739924408922
              ],
              [
                108.17883658937679,
                -6.226251871091708
              ],
              [
                108.17922282747493,
                -6.226251871091708
              ],
              [
                108.17922282747493,
                -6.225739924408922
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.17274261049495,
                -6.224886678828726
              ],
              [
                108.17274261049495,
                -6.225270639511336
              ],
              [
                108.1731288485931,
                -6.225270639511336
              ],
              [
                108.1731288485931,
                -6.224886678828726
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.18943667940364,
                -6.224972003449119
              ],
              [
                108.18943667940364,
                -6.225227977227132
              ],
              [
                108.1899516635345,
                -6.225227977227132
              ],
              [
                108.1899516635345,
                -6.224972003449119
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.19329906038509,
                -6.2236921326880985
              ],
              [
                108.19329906038509,
                -6.224332068458373
              ],
              [
                108.19377112917171,
                -6.224332068458373
              ],
              [
                108.19377112917171,
                -6.2236921326880985
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.23970876832081,
                -6.24947957908852
              ],
              [
                108.23970876832081,
                -6.2505247556978745
              ],
              [
                108.23979459900929,
                -6.2505247556978745
              ],
              [
                108.23979459900929,
                -6.24947957908852
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.24537359376026,
                -6.2487543532754195
              ],
              [
                108.24537359376026,
                -6.24905297579079
              ],
              [
                108.24659668107105,
                -6.24905297579079
              ],
              [
                108.24659668107105,
                -6.2487543532754195
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.28341080029541,
                -6.249147646399284
              ],
              [
                108.28341080029541,
                -6.2494249385322025
              ],
              [
                108.28379703839356,
                -6.2494249385322025
              ],
              [
                108.28379703839356,
                -6.249147646399284
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.29005059741478,
                -6.250580039240115
              ],
              [
                108.29005059741478,
                -6.250963981103028
              ],
              [
                108.29050120852928,
                -6.250963981103028
              ],
              [
                108.29050120852928,
                -6.250580039240115
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.3028071834896,
                -6.252745041058793
              ],
              [
                108.3028071834896,
                -6.253107651324586
              ],
              [
                108.30310759089927,
                -6.253107651324586
              ],
              [
                108.30310759089927,
                -6.252745041058793
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        }
      ],
      "displayProperties": [
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        }
      ],
      "properties": {
        "landcover": 1
      },
      "color": "#98ff00",
      "mode": "FeatureCollection",
      "shown": false,
      "locked": false
    }) || 
    /* color: #98ff00 */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[108.15606918834077, -6.316236591991213],
                  [108.15606918834077, -6.316791104618401],
                  [108.1568845798813, -6.316791104618401],
                  [108.1568845798813, -6.316236591991213]]], null, false),
            {
              "landcover": 1,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.14267960093842, -6.319478349703015],
                  [108.14267960093842, -6.320118167904214],
                  [108.14392414592133, -6.320118167904214],
                  [108.14392414592133, -6.319478349703015]]], null, false),
            {
              "landcover": 1,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.13911762736664, -6.321141875380143],
                  [108.13911762736664, -6.321824345905142],
                  [108.13980427287446, -6.321824345905142],
                  [108.13980427287446, -6.321141875380143]]], null, false),
            {
              "landcover": 1,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.13238883505456, -6.330574576461229],
                  [108.13238883505456, -6.331129073710881],
                  [108.13273215780846, -6.331129073710881],
                  [108.13273215780846, -6.330574576461229]]], null, false),
            {
              "landcover": 1,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.12690639982812, -6.33480793461247],
                  [108.12690639982812, -6.334914567870803],
                  [108.1281831313192, -6.334914567870803],
                  [108.1281831313192, -6.33480793461247]]], null, false),
            {
              "landcover": 1,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.13096189985863, -6.333773590863382],
                  [108.13096189985863, -6.334114817896311],
                  [108.13121939192406, -6.334114817896311],
                  [108.13121939192406, -6.333773590863382]]], null, false),
            {
              "landcover": 1,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.17175906723568, -6.30458175566786],
                  [108.17175906723568, -6.304986985608018],
                  [108.17210238998959, -6.304986985608018],
                  [108.17210238998959, -6.30458175566786]]], null, false),
            {
              "landcover": 1,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.16454928940365, -6.310532205596583],
                  [108.16454928940365, -6.310980086159823],
                  [108.16499990051815, -6.310980086159823],
                  [108.16499990051815, -6.310532205596583]]], null, false),
            {
              "landcover": 1,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.17027848785946, -6.30746101416301],
                  [108.17027848785946, -6.308122174967256],
                  [108.17090076035092, -6.308122174967256],
                  [108.17090076035092, -6.30746101416301]]], null, false),
            {
              "landcover": 1,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.19806508972404, -6.299007563193088],
                  [108.19806508972404, -6.2991995163191765],
                  [108.1984727854943, -6.2991995163191765],
                  [108.1984727854943, -6.299007563193088]]], null, false),
            {
              "landcover": 1,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.18645648910758, -6.2938461303047495],
                  [108.18645648910758, -6.294166055322123],
                  [108.18679981186149, -6.294166055322123],
                  [108.18679981186149, -6.2938461303047495]]], null, false),
            {
              "landcover": 1,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.19323711349723, -6.286491864309853],
                  [108.19323711349723, -6.28717438043234],
                  [108.19349460556266, -6.28717438043234],
                  [108.19349460556266, -6.286491864309853]]], null, false),
            {
              "landcover": 1,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.19639139129875, -6.295321847447638],
                  [108.19639139129875, -6.295663099822959],
                  [108.19664888336418, -6.295663099822959],
                  [108.19664888336418, -6.295321847447638]]], null, false),
            {
              "landcover": 1,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.1970746149861, -6.280747349713188],
                  [108.1970746149861, -6.281408544520247],
                  [108.19769688747755, -6.281408544520247],
                  [108.19769688747755, -6.280747349713188]]], null, false),
            {
              "landcover": 1,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.20293255947462, -6.2767801632382865],
                  [108.20293255947462, -6.277057440694612],
                  [108.2032544245564, -6.277057440694612],
                  [108.2032544245564, -6.2767801632382865]]], null, false),
            {
              "landcover": 1,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.21647584166338, -6.2736086868599905],
                  [108.21647584166338, -6.274099257552977],
                  [108.21699082579424, -6.274099257552977],
                  [108.21699082579424, -6.2736086868599905]]], null, false),
            {
              "landcover": 1,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.20941626753618, -6.27117715573987],
                  [108.20941626753618, -6.271582411714165],
                  [108.20995270933916, -6.271582411714165],
                  [108.20995270933916, -6.27117715573987]]], null, false),
            {
              "landcover": 1,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.1648461871551, -6.226593168602981],
                  [108.1648461871551, -6.2270624523187985],
                  [108.16574740938411, -6.2270624523187985],
                  [108.16574740938411, -6.226593168602981]]], null, false),
            {
              "landcover": 1,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.17184138826595, -6.230987354244052],
                  [108.17184138826595, -6.23137131046507],
                  [108.17244220308528, -6.23137131046507],
                  [108.17244220308528, -6.230987354244052]]], null, false),
            {
              "landcover": 1,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.17454505495296, -6.231541957584235],
                  [108.17454505495296, -6.232011236875773],
                  [108.17523170046077, -6.232011236875773],
                  [108.17523170046077, -6.231541957584235]]], null, false),
            {
              "landcover": 1,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.16918063692317, -6.230518074036857],
                  [108.16918063692317, -6.23137131046507],
                  [108.16952395967708, -6.23137131046507],
                  [108.16952395967708, -6.230518074036857]]], null, false),
            {
              "landcover": 1,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.17883658937679, -6.225739924408922],
                  [108.17883658937679, -6.226251871091708],
                  [108.17922282747493, -6.226251871091708],
                  [108.17922282747493, -6.225739924408922]]], null, false),
            {
              "landcover": 1,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.17274261049495, -6.224886678828726],
                  [108.17274261049495, -6.225270639511336],
                  [108.1731288485931, -6.225270639511336],
                  [108.1731288485931, -6.224886678828726]]], null, false),
            {
              "landcover": 1,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.18943667940364, -6.224972003449119],
                  [108.18943667940364, -6.225227977227132],
                  [108.1899516635345, -6.225227977227132],
                  [108.1899516635345, -6.224972003449119]]], null, false),
            {
              "landcover": 1,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.19329906038509, -6.2236921326880985],
                  [108.19329906038509, -6.224332068458373],
                  [108.19377112917171, -6.224332068458373],
                  [108.19377112917171, -6.2236921326880985]]], null, false),
            {
              "landcover": 1,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.23970876832081, -6.24947957908852],
                  [108.23970876832081, -6.2505247556978745],
                  [108.23979459900929, -6.2505247556978745],
                  [108.23979459900929, -6.24947957908852]]], null, false),
            {
              "landcover": 1,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.24537359376026, -6.2487543532754195],
                  [108.24537359376026, -6.24905297579079],
                  [108.24659668107105, -6.24905297579079],
                  [108.24659668107105, -6.2487543532754195]]], null, false),
            {
              "landcover": 1,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.28341080029541, -6.249147646399284],
                  [108.28341080029541, -6.2494249385322025],
                  [108.28379703839356, -6.2494249385322025],
                  [108.28379703839356, -6.249147646399284]]], null, false),
            {
              "landcover": 1,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.29005059741478, -6.250580039240115],
                  [108.29005059741478, -6.250963981103028],
                  [108.29050120852928, -6.250963981103028],
                  [108.29050120852928, -6.250580039240115]]], null, false),
            {
              "landcover": 1,
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.3028071834896, -6.252745041058793],
                  [108.3028071834896, -6.253107651324586],
                  [108.30310759089927, -6.253107651324586],
                  [108.30310759089927, -6.252745041058793]]], null, false),
            {
              "landcover": 1,
              "system:index": "29"
            })]),
    NonMangrove = ui.import && ui.import("NonMangrove", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.32132449732889,
                -6.254197392675707
              ],
              [
                108.32132449732889,
                -6.254325372442732
              ],
              [
                108.32207551585306,
                -6.254325372442732
              ],
              [
                108.32207551585306,
                -6.254197392675707
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.32289090739359,
                -6.2543040424837395
              ],
              [
                108.32289090739359,
                -6.254645321723246
              ],
              [
                108.32289090739359,
                -6.254645321723246
              ],
              [
                108.32289090739359,
                -6.2543040424837395
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.32070222483743,
                -6.2544746821313355
              ],
              [
                108.32070222483743,
                -6.254901281006671
              ],
              [
                108.32104554759134,
                -6.254901281006671
              ],
              [
                108.32104554759134,
                -6.2544746821313355
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.36813331133052,
                -6.3057484934917305
              ],
              [
                108.36813331133052,
                -6.306004427651763
              ],
              [
                108.36841226106807,
                -6.306004427651763
              ],
              [
                108.36841226106807,
                -6.3057484934917305
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.37948251605437,
                -6.351875033036544
              ],
              [
                108.37948251605437,
                -6.352173596217319
              ],
              [
                108.37986875415251,
                -6.352173596217319
              ],
              [
                108.37986875415251,
                -6.351875033036544
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.3862416827719,
                -6.358720616698689
              ],
              [
                108.3862416827719,
                -6.359040501557413
              ],
              [
                108.38656354785368,
                -6.359040501557413
              ],
              [
                108.38656354785368,
                -6.358720616698689
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.38782955050871,
                -6.36004280615919
              ],
              [
                108.38782955050871,
                -6.3604266669784915
              ],
              [
                108.38800121188567,
                -6.3604266669784915
              ],
              [
                108.38800121188567,
                -6.36004280615919
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.37737966418669,
                -6.356630697391109
              ],
              [
                108.37737966418669,
                -6.356822629110271
              ],
              [
                108.37793756366179,
                -6.356822629110271
              ],
              [
                108.37793756366179,
                -6.356630697391109
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.37768007159636,
                -6.350510170576194
              ],
              [
                108.37768007159636,
                -6.350830060540012
              ],
              [
                108.37795902133391,
                -6.350830060540012
              ],
              [
                108.37795902133391,
                -6.350510170576194
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        }
      ],
      "displayProperties": [
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        }
      ],
      "properties": {
        "landcover": 0
      },
      "color": "#0b4a8b",
      "mode": "FeatureCollection",
      "shown": false,
      "locked": false
    }) || 
    /* color: #0b4a8b */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[108.32132449732889, -6.254197392675707],
                  [108.32132449732889, -6.254325372442732],
                  [108.32207551585306, -6.254325372442732],
                  [108.32207551585306, -6.254197392675707]]], null, false),
            {
              "landcover": 0,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.32289090739359, -6.2543040424837395],
                  [108.32289090739359, -6.254645321723246],
                  [108.32289090739359, -6.254645321723246],
                  [108.32289090739359, -6.2543040424837395]]], null, false),
            {
              "landcover": 0,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.32070222483743, -6.2544746821313355],
                  [108.32070222483743, -6.254901281006671],
                  [108.32104554759134, -6.254901281006671],
                  [108.32104554759134, -6.2544746821313355]]], null, false),
            {
              "landcover": 0,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.36813331133052, -6.3057484934917305],
                  [108.36813331133052, -6.306004427651763],
                  [108.36841226106807, -6.306004427651763],
                  [108.36841226106807, -6.3057484934917305]]], null, false),
            {
              "landcover": 0,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.37948251605437, -6.351875033036544],
                  [108.37948251605437, -6.352173596217319],
                  [108.37986875415251, -6.352173596217319],
                  [108.37986875415251, -6.351875033036544]]], null, false),
            {
              "landcover": 0,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.3862416827719, -6.358720616698689],
                  [108.3862416827719, -6.359040501557413],
                  [108.38656354785368, -6.359040501557413],
                  [108.38656354785368, -6.358720616698689]]], null, false),
            {
              "landcover": 0,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.38782955050871, -6.36004280615919],
                  [108.38782955050871, -6.3604266669784915],
                  [108.38800121188567, -6.3604266669784915],
                  [108.38800121188567, -6.36004280615919]]], null, false),
            {
              "landcover": 0,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.37737966418669, -6.356630697391109],
                  [108.37737966418669, -6.356822629110271],
                  [108.37793756366179, -6.356822629110271],
                  [108.37793756366179, -6.356630697391109]]], null, false),
            {
              "landcover": 0,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.37768007159636, -6.350510170576194],
                  [108.37768007159636, -6.350830060540012],
                  [108.37795902133391, -6.350830060540012],
                  [108.37795902133391, -6.350510170576194]]], null, false),
            {
              "landcover": 0,
              "system:index": "8"
            })]),
    L7 = ui.import && ui.import("L7", "imageCollection", {
      "id": "LANDSAT/LE07/C01/T1_SR"
    }) || ee.ImageCollection("LANDSAT/LE07/C01/T1_SR"),
    Mangrove2012 = ui.import && ui.import("Mangrove2012", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.16192159016002,
                -6.311414644745845
              ],
              [
                108.16192159016002,
                -6.311713231322423
              ],
              [
                108.1622434552418,
                -6.311713231322423
              ],
              [
                108.1622434552418,
                -6.311414644745845
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.15971144993175,
                -6.314080590229847
              ],
              [
                108.15971144993175,
                -6.314571122703978
              ],
              [
                108.16007623035777,
                -6.314571122703978
              ],
              [
                108.16007623035777,
                -6.314080590229847
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.15638551075328,
                -6.316597230172767
              ],
              [
                108.15638551075328,
                -6.317087760262269
              ],
              [
                108.15677174885143,
                -6.317087760262269
              ],
              [
                108.15677174885143,
                -6.316597230172767
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.17157754261363,
                -6.308983290502387
              ],
              [
                108.17157754261363,
                -6.309367189299305
              ],
              [
                108.17192086536754,
                -6.309367189299305
              ],
              [
                108.17192086536754,
                -6.308983290502387
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.17116984684337,
                -6.310625522250761
              ],
              [
                108.17116984684337,
                -6.311180040886386
              ],
              [
                108.1715346272694,
                -6.311180040886386
              ],
              [
                108.1715346272694,
                -6.310625522250761
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.13924583898905,
                -6.322175327602413
              ],
              [
                108.13924583898905,
                -6.322431253643405
              ],
              [
                108.13958916174296,
                -6.322431253643405
              ],
              [
                108.13958916174296,
                -6.322175327602413
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.15254959570292,
                -6.318485713105642
              ],
              [
                108.15254959570292,
                -6.31916818713485
              ],
              [
                108.15293583380107,
                -6.31916818713485
              ],
              [
                108.15293583380107,
                -6.318485713105642
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.1610468338621,
                -6.316992798028755
              ],
              [
                108.1610468338621,
                -6.317611291940272
              ],
              [
                108.16143307196025,
                -6.317611291940272
              ],
              [
                108.16143307196025,
                -6.316992798028755
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.18151155108752,
                -6.295088532029264
              ],
              [
                108.18151155108752,
                -6.295515097655004
              ],
              [
                108.18194070452991,
                -6.295515097655004
              ],
              [
                108.18194070452991,
                -6.295088532029264
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.17653337115588,
                -6.299012922568613
              ],
              [
                108.17653337115588,
                -6.299524797408444
              ],
              [
                108.17709127063098,
                -6.299524797408444
              ],
              [
                108.17709127063098,
                -6.299012922568613
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.20306032455781,
                -6.276627575381705
              ],
              [
                108.20306032455781,
                -6.2770541561475595
              ],
              [
                108.20331781662324,
                -6.2770541561475595
              ],
              [
                108.20331781662324,
                -6.276627575381705
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.19791048324922,
                -6.278888449459687
              ],
              [
                108.19791048324922,
                -6.279656291253384
              ],
              [
                108.19842546738008,
                -6.279656291253384
              ],
              [
                108.19842546738008,
                -6.278888449459687
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.18386230173402,
                -6.232865910885429
              ],
              [
                108.18386230173402,
                -6.233399181429398
              ],
              [
                108.18424853983217,
                -6.233399181429398
              ],
              [
                108.18424853983217,
                -6.232865910885429
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.19894704523378,
                -6.227117220012473
              ],
              [
                108.19894704523378,
                -6.228333089380145
              ],
              [
                108.19918307962709,
                -6.228333089380145
              ],
              [
                108.19918307962709,
                -6.227117220012473
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.20896777811342,
                -6.236300163691299
              ],
              [
                108.20896777811342,
                -6.236812100071582
              ],
              [
                108.20946130457216,
                -6.236812100071582
              ],
              [
                108.20946130457216,
                -6.236300163691299
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.23992846937804,
                -6.247729178161539
              ],
              [
                108.23992846937804,
                -6.248198442957063
              ],
              [
                108.24005721541076,
                -6.248198442957063
              ],
              [
                108.24005721541076,
                -6.247729178161539
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.23973535032897,
                -6.24945692374023
              ],
              [
                108.23973535032897,
                -6.251419294514306
              ],
              [
                108.23979972334533,
                -6.251419294514306
              ],
              [
                108.23979972334533,
                -6.24945692374023
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.23610900374084,
                -6.245553490430481
              ],
              [
                108.23610900374084,
                -6.246214729815087
              ],
              [
                108.23649524183898,
                -6.246214729815087
              ],
              [
                108.23649524183898,
                -6.245553490430481
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.3492982241693,
                -6.253509637892645
              ],
              [
                108.3492982241693,
                -6.254149537256294
              ],
              [
                108.35011361570983,
                -6.254149537256294
              ],
              [
                108.35011361570983,
                -6.253509637892645
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.35492013426452,
                -6.2612310379025296
              ],
              [
                108.35492013426452,
                -6.2625108169337835
              ],
              [
                108.355005964953,
                -6.2625108169337835
              ],
              [
                108.355005964953,
                -6.2612310379025296
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.31990121336608,
                -6.258458172576377
              ],
              [
                108.31990121336608,
                -6.259140725406969
              ],
              [
                108.32028745146422,
                -6.259140725406969
              ],
              [
                108.32028745146422,
                -6.258458172576377
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.36930904392045,
                -6.3034203393487225
              ],
              [
                108.36930904392045,
                -6.304145489062945
              ],
              [
                108.36978111270707,
                -6.304145489062945
              ],
              [
                108.36978111270707,
                -6.3034203393487225
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.36724910739701,
                -6.291049982282282
              ],
              [
                108.36724910739701,
                -6.291988433491654
              ],
              [
                108.36780700687211,
                -6.291988433491654
              ],
              [
                108.36780700687211,
                -6.291049982282282
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.36686286929887,
                -6.292287031248313
              ],
              [
                108.36686286929887,
                -6.292884226246882
              ],
              [
                108.36754951480668,
                -6.292884226246882
              ],
              [
                108.36754951480668,
                -6.292287031248313
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        }
      ],
      "displayProperties": [
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        }
      ],
      "properties": {
        "landcover": 1
      },
      "color": "#ffc82d",
      "mode": "FeatureCollection",
      "shown": false,
      "locked": false
    }) || 
    /* color: #ffc82d */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[108.16192159016002, -6.311414644745845],
                  [108.16192159016002, -6.311713231322423],
                  [108.1622434552418, -6.311713231322423],
                  [108.1622434552418, -6.311414644745845]]], null, false),
            {
              "landcover": 1,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.15971144993175, -6.314080590229847],
                  [108.15971144993175, -6.314571122703978],
                  [108.16007623035777, -6.314571122703978],
                  [108.16007623035777, -6.314080590229847]]], null, false),
            {
              "landcover": 1,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.15638551075328, -6.316597230172767],
                  [108.15638551075328, -6.317087760262269],
                  [108.15677174885143, -6.317087760262269],
                  [108.15677174885143, -6.316597230172767]]], null, false),
            {
              "landcover": 1,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.17157754261363, -6.308983290502387],
                  [108.17157754261363, -6.309367189299305],
                  [108.17192086536754, -6.309367189299305],
                  [108.17192086536754, -6.308983290502387]]], null, false),
            {
              "landcover": 1,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.17116984684337, -6.310625522250761],
                  [108.17116984684337, -6.311180040886386],
                  [108.1715346272694, -6.311180040886386],
                  [108.1715346272694, -6.310625522250761]]], null, false),
            {
              "landcover": 1,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.13924583898905, -6.322175327602413],
                  [108.13924583898905, -6.322431253643405],
                  [108.13958916174296, -6.322431253643405],
                  [108.13958916174296, -6.322175327602413]]], null, false),
            {
              "landcover": 1,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.15254959570292, -6.318485713105642],
                  [108.15254959570292, -6.31916818713485],
                  [108.15293583380107, -6.31916818713485],
                  [108.15293583380107, -6.318485713105642]]], null, false),
            {
              "landcover": 1,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.1610468338621, -6.316992798028755],
                  [108.1610468338621, -6.317611291940272],
                  [108.16143307196025, -6.317611291940272],
                  [108.16143307196025, -6.316992798028755]]], null, false),
            {
              "landcover": 1,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.18151155108752, -6.295088532029264],
                  [108.18151155108752, -6.295515097655004],
                  [108.18194070452991, -6.295515097655004],
                  [108.18194070452991, -6.295088532029264]]], null, false),
            {
              "landcover": 1,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.17653337115588, -6.299012922568613],
                  [108.17653337115588, -6.299524797408444],
                  [108.17709127063098, -6.299524797408444],
                  [108.17709127063098, -6.299012922568613]]], null, false),
            {
              "landcover": 1,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.20306032455781, -6.276627575381705],
                  [108.20306032455781, -6.2770541561475595],
                  [108.20331781662324, -6.2770541561475595],
                  [108.20331781662324, -6.276627575381705]]], null, false),
            {
              "landcover": 1,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.19791048324922, -6.278888449459687],
                  [108.19791048324922, -6.279656291253384],
                  [108.19842546738008, -6.279656291253384],
                  [108.19842546738008, -6.278888449459687]]], null, false),
            {
              "landcover": 1,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.18386230173402, -6.232865910885429],
                  [108.18386230173402, -6.233399181429398],
                  [108.18424853983217, -6.233399181429398],
                  [108.18424853983217, -6.232865910885429]]], null, false),
            {
              "landcover": 1,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.19894704523378, -6.227117220012473],
                  [108.19894704523378, -6.228333089380145],
                  [108.19918307962709, -6.228333089380145],
                  [108.19918307962709, -6.227117220012473]]], null, false),
            {
              "landcover": 1,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.20896777811342, -6.236300163691299],
                  [108.20896777811342, -6.236812100071582],
                  [108.20946130457216, -6.236812100071582],
                  [108.20946130457216, -6.236300163691299]]], null, false),
            {
              "landcover": 1,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.23992846937804, -6.247729178161539],
                  [108.23992846937804, -6.248198442957063],
                  [108.24005721541076, -6.248198442957063],
                  [108.24005721541076, -6.247729178161539]]], null, false),
            {
              "landcover": 1,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.23973535032897, -6.24945692374023],
                  [108.23973535032897, -6.251419294514306],
                  [108.23979972334533, -6.251419294514306],
                  [108.23979972334533, -6.24945692374023]]], null, false),
            {
              "landcover": 1,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.23610900374084, -6.245553490430481],
                  [108.23610900374084, -6.246214729815087],
                  [108.23649524183898, -6.246214729815087],
                  [108.23649524183898, -6.245553490430481]]], null, false),
            {
              "landcover": 1,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.3492982241693, -6.253509637892645],
                  [108.3492982241693, -6.254149537256294],
                  [108.35011361570983, -6.254149537256294],
                  [108.35011361570983, -6.253509637892645]]], null, false),
            {
              "landcover": 1,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.35492013426452, -6.2612310379025296],
                  [108.35492013426452, -6.2625108169337835],
                  [108.355005964953, -6.2625108169337835],
                  [108.355005964953, -6.2612310379025296]]], null, false),
            {
              "landcover": 1,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.31990121336608, -6.258458172576377],
                  [108.31990121336608, -6.259140725406969],
                  [108.32028745146422, -6.259140725406969],
                  [108.32028745146422, -6.258458172576377]]], null, false),
            {
              "landcover": 1,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.36930904392045, -6.3034203393487225],
                  [108.36930904392045, -6.304145489062945],
                  [108.36978111270707, -6.304145489062945],
                  [108.36978111270707, -6.3034203393487225]]], null, false),
            {
              "landcover": 1,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.36724910739701, -6.291049982282282],
                  [108.36724910739701, -6.291988433491654],
                  [108.36780700687211, -6.291988433491654],
                  [108.36780700687211, -6.291049982282282]]], null, false),
            {
              "landcover": 1,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.36686286929887, -6.292287031248313],
                  [108.36686286929887, -6.292884226246882],
                  [108.36754951480668, -6.292884226246882],
                  [108.36754951480668, -6.292287031248313]]], null, false),
            {
              "landcover": 1,
              "system:index": "23"
            })]),
    NonMangrove2012 = ui.import && ui.import("NonMangrove2012", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.31303475828796,
                -6.255088054906205
              ],
              [
                108.31303475828796,
                -6.255727952337806
              ],
              [
                108.31337808104186,
                -6.255727952337806
              ],
              [
                108.31337808104186,
                -6.255088054906205
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.31385014982848,
                -6.2559839110910955
              ],
              [
                108.31385014982848,
                -6.256325189233821
              ],
              [
                108.31427930327087,
                -6.256325189233821
              ],
              [
                108.31427930327087,
                -6.2559839110910955
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.37878453201668,
                -6.350751524944474
              ],
              [
                108.37878453201668,
                -6.35168986783475
              ],
              [
                108.37929951614754,
                -6.35168986783475
              ],
              [
                108.37929951614754,
                -6.350751524944474
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.37509381241219,
                -6.355272615860758
              ],
              [
                108.37509381241219,
                -6.356040344334791
              ],
              [
                108.37620961136238,
                -6.356040344334791
              ],
              [
                108.37620961136238,
                -6.355272615860758
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.38513600296395,
                -6.36034813284808
              ],
              [
                108.38513600296395,
                -6.360604039940791
              ],
              [
                108.38526474899666,
                -6.360604039940791
              ],
              [
                108.38526474899666,
                -6.36034813284808
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.38547932571785,
                -6.3608599469061
              ],
              [
                108.38547932571785,
                -6.362182130863579
              ],
              [
                108.38577973312752,
                -6.362182130863579
              ],
              [
                108.38577973312752,
                -6.3608599469061
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.37985741562264,
                -6.363120452898615
              ],
              [
                108.37985741562264,
                -6.363504311419062
              ],
              [
                108.38054406113045,
                -6.363504311419062
              ],
              [
                108.38054406113045,
                -6.363120452898615
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.39011418289559,
                -6.362310083969249
              ],
              [
                108.39011418289559,
                -6.363163103859486
              ],
              [
                108.39088665909188,
                -6.363163103859486
              ],
              [
                108.39088665909188,
                -6.362310083969249
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.40015562574284,
                -6.386150712836236
              ],
              [
                108.40015562574284,
                -6.387003693073567
              ],
              [
                108.40058477918522,
                -6.387003693073567
              ],
              [
                108.40058477918522,
                -6.386150712836236
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        }
      ],
      "displayProperties": [
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        }
      ],
      "properties": {
        "landcover": 0
      },
      "color": "#00ffff",
      "mode": "FeatureCollection",
      "shown": false,
      "locked": false
    }) || 
    /* color: #00ffff */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[108.31303475828796, -6.255088054906205],
                  [108.31303475828796, -6.255727952337806],
                  [108.31337808104186, -6.255727952337806],
                  [108.31337808104186, -6.255088054906205]]], null, false),
            {
              "landcover": 0,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.31385014982848, -6.2559839110910955],
                  [108.31385014982848, -6.256325189233821],
                  [108.31427930327087, -6.256325189233821],
                  [108.31427930327087, -6.2559839110910955]]], null, false),
            {
              "landcover": 0,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.37878453201668, -6.350751524944474],
                  [108.37878453201668, -6.35168986783475],
                  [108.37929951614754, -6.35168986783475],
                  [108.37929951614754, -6.350751524944474]]], null, false),
            {
              "landcover": 0,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.37509381241219, -6.355272615860758],
                  [108.37509381241219, -6.356040344334791],
                  [108.37620961136238, -6.356040344334791],
                  [108.37620961136238, -6.355272615860758]]], null, false),
            {
              "landcover": 0,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.38513600296395, -6.36034813284808],
                  [108.38513600296395, -6.360604039940791],
                  [108.38526474899666, -6.360604039940791],
                  [108.38526474899666, -6.36034813284808]]], null, false),
            {
              "landcover": 0,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.38547932571785, -6.3608599469061],
                  [108.38547932571785, -6.362182130863579],
                  [108.38577973312752, -6.362182130863579],
                  [108.38577973312752, -6.3608599469061]]], null, false),
            {
              "landcover": 0,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.37985741562264, -6.363120452898615],
                  [108.37985741562264, -6.363504311419062],
                  [108.38054406113045, -6.363504311419062],
                  [108.38054406113045, -6.363120452898615]]], null, false),
            {
              "landcover": 0,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.39011418289559, -6.362310083969249],
                  [108.39011418289559, -6.363163103859486],
                  [108.39088665909188, -6.363163103859486],
                  [108.39088665909188, -6.362310083969249]]], null, false),
            {
              "landcover": 0,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.40015562574284, -6.386150712836236],
                  [108.40015562574284, -6.387003693073567],
                  [108.40058477918522, -6.387003693073567],
                  [108.40058477918522, -6.386150712836236]]], null, false),
            {
              "landcover": 0,
              "system:index": "8"
            })]),
    L5 = ui.import && ui.import("L5", "imageCollection", {
      "id": "LANDSAT/LT05/C01/T1_SR"
    }) || ee.ImageCollection("LANDSAT/LT05/C01/T1_SR"),
    Mangrove1995 = ui.import && ui.import("Mangrove1995", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.15197669793817,
                -6.314248018028597
              ],
              [
                108.15197669793817,
                -6.314418638017134
              ],
              [
                108.15253459741326,
                -6.314418638017134
              ],
              [
                108.15253459741326,
                -6.314248018028597
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.15296375085565,
                -6.313842795330485
              ],
              [
                108.15296375085565,
                -6.313928105398543
              ],
              [
                108.15343581964227,
                -6.313928105398543
              ],
              [
                108.15343581964227,
                -6.313842795330485
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.14418756295892,
                -6.3170419132626074
              ],
              [
                108.14418756295892,
                -6.317319169219069
              ],
              [
                108.14468108941766,
                -6.317319169219069
              ],
              [
                108.14468108941766,
                -6.3170419132626074
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.16096746255609,
                -6.317532442930662
              ],
              [
                108.16096746255609,
                -6.318086954169462
              ],
              [
                108.16133224298211,
                -6.318086954169462
              ],
              [
                108.16133224298211,
                -6.317532442930662
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.16004478265496,
                -6.314205363022673
              ],
              [
                108.16004478265496,
                -6.314567930460999
              ],
              [
                108.16021644403192,
                -6.314567930460999
              ],
              [
                108.16021644403192,
                -6.314205363022673
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.15613948632928,
                -6.318236245555321
              ],
              [
                108.15613948632928,
                -6.318748101408372
              ],
              [
                108.1565042667553,
                -6.318748101408372
              ],
              [
                108.1565042667553,
                -6.318236245555321
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.17161046792718,
                -6.311198176250596
              ],
              [
                108.17161046792718,
                -6.311923315083874
              ],
              [
                108.17206107904168,
                -6.311923315083874
              ],
              [
                108.17206107904168,
                -6.311198176250596
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.1774684124157,
                -6.3131603142800765
              ],
              [
                108.1774684124157,
                -6.313906777882853
              ],
              [
                108.17826234628411,
                -6.313906777882853
              ],
              [
                108.17826234628411,
                -6.3131603142800765
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.16609584619256,
                -6.309939844689895
              ],
              [
                108.16609584619256,
                -6.310195776780328
              ],
              [
                108.1664820842907,
                -6.310195776780328
              ],
              [
                108.1664820842907,
                -6.309939844689895
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.16373550225946,
                -6.308788148718672
              ],
              [
                108.16373550225946,
                -6.30927868620453
              ],
              [
                108.16418611337396,
                -6.30927868620453
              ],
              [
                108.16418611337396,
                -6.308788148718672
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.19879733850213,
                -6.3060581924901085
              ],
              [
                108.19879733850213,
                -6.306868649745984
              ],
              [
                108.1996556453869,
                -6.306868649745984
              ],
              [
                108.1996556453869,
                -6.3060581924901085
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.19608388220723,
                -6.296422391264473
              ],
              [
                108.19608388220723,
                -6.29710489434446
              ],
              [
                108.19681344305928,
                -6.29710489434446
              ],
              [
                108.19681344305928,
                -6.296422391264473
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.17977605139669,
                -6.296123795884895
              ],
              [
                108.17977605139669,
                -6.296422391264473
              ],
              [
                108.17999062811788,
                -6.296422391264473
              ],
              [
                108.17999062811788,
                -6.296123795884895
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.19766666585718,
                -6.278462745059276
              ],
              [
                108.19766666585718,
                -6.278761350579925
              ],
              [
                108.19816019231592,
                -6.278761350579925
              ],
              [
                108.19816019231592,
                -6.278462745059276
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.19582130605494,
                -6.2824939051382955
              ],
              [
                108.19582130605494,
                -6.282856494726234
              ],
              [
                108.19620754415308,
                -6.282856494726234
              ],
              [
                108.19620754415308,
                -6.2824939051382955
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.20332418749915,
                -6.243004865020496
              ],
              [
                108.20332418749915,
                -6.244114045686786
              ],
              [
                108.20366751025306,
                -6.244114045686786
              ],
              [
                108.20366751025306,
                -6.243004865020496
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        }
      ],
      "displayProperties": [
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        }
      ],
      "properties": {
        "landcover": 1
      },
      "color": "#bf04c2",
      "mode": "FeatureCollection",
      "shown": true,
      "locked": false
    }) || 
    /* color: #bf04c2 */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[108.15197669793817, -6.314248018028597],
                  [108.15197669793817, -6.314418638017134],
                  [108.15253459741326, -6.314418638017134],
                  [108.15253459741326, -6.314248018028597]]], null, false),
            {
              "landcover": 1,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.15296375085565, -6.313842795330485],
                  [108.15296375085565, -6.313928105398543],
                  [108.15343581964227, -6.313928105398543],
                  [108.15343581964227, -6.313842795330485]]], null, false),
            {
              "landcover": 1,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.14418756295892, -6.3170419132626074],
                  [108.14418756295892, -6.317319169219069],
                  [108.14468108941766, -6.317319169219069],
                  [108.14468108941766, -6.3170419132626074]]], null, false),
            {
              "landcover": 1,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.16096746255609, -6.317532442930662],
                  [108.16096746255609, -6.318086954169462],
                  [108.16133224298211, -6.318086954169462],
                  [108.16133224298211, -6.317532442930662]]], null, false),
            {
              "landcover": 1,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.16004478265496, -6.314205363022673],
                  [108.16004478265496, -6.314567930460999],
                  [108.16021644403192, -6.314567930460999],
                  [108.16021644403192, -6.314205363022673]]], null, false),
            {
              "landcover": 1,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.15613948632928, -6.318236245555321],
                  [108.15613948632928, -6.318748101408372],
                  [108.1565042667553, -6.318748101408372],
                  [108.1565042667553, -6.318236245555321]]], null, false),
            {
              "landcover": 1,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.17161046792718, -6.311198176250596],
                  [108.17161046792718, -6.311923315083874],
                  [108.17206107904168, -6.311923315083874],
                  [108.17206107904168, -6.311198176250596]]], null, false),
            {
              "landcover": 1,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.1774684124157, -6.3131603142800765],
                  [108.1774684124157, -6.313906777882853],
                  [108.17826234628411, -6.313906777882853],
                  [108.17826234628411, -6.3131603142800765]]], null, false),
            {
              "landcover": 1,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.16609584619256, -6.309939844689895],
                  [108.16609584619256, -6.310195776780328],
                  [108.1664820842907, -6.310195776780328],
                  [108.1664820842907, -6.309939844689895]]], null, false),
            {
              "landcover": 1,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.16373550225946, -6.308788148718672],
                  [108.16373550225946, -6.30927868620453],
                  [108.16418611337396, -6.30927868620453],
                  [108.16418611337396, -6.308788148718672]]], null, false),
            {
              "landcover": 1,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.19879733850213, -6.3060581924901085],
                  [108.19879733850213, -6.306868649745984],
                  [108.1996556453869, -6.306868649745984],
                  [108.1996556453869, -6.3060581924901085]]], null, false),
            {
              "landcover": 1,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.19608388220723, -6.296422391264473],
                  [108.19608388220723, -6.29710489434446],
                  [108.19681344305928, -6.29710489434446],
                  [108.19681344305928, -6.296422391264473]]], null, false),
            {
              "landcover": 1,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.17977605139669, -6.296123795884895],
                  [108.17977605139669, -6.296422391264473],
                  [108.17999062811788, -6.296422391264473],
                  [108.17999062811788, -6.296123795884895]]], null, false),
            {
              "landcover": 1,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.19766666585718, -6.278462745059276],
                  [108.19766666585718, -6.278761350579925],
                  [108.19816019231592, -6.278761350579925],
                  [108.19816019231592, -6.278462745059276]]], null, false),
            {
              "landcover": 1,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.19582130605494, -6.2824939051382955],
                  [108.19582130605494, -6.282856494726234],
                  [108.19620754415308, -6.282856494726234],
                  [108.19620754415308, -6.2824939051382955]]], null, false),
            {
              "landcover": 1,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.20332418749915, -6.243004865020496],
                  [108.20332418749915, -6.244114045686786],
                  [108.20366751025306, -6.244114045686786],
                  [108.20366751025306, -6.243004865020496]]], null, false),
            {
              "landcover": 1,
              "system:index": "15"
            })]),
    NonMangrove1995 = ui.import && ui.import("NonMangrove1995", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.13361527088956,
                -6.335058951124357
              ],
              [
                108.13361527088956,
                -6.335570790314458
              ],
              [
                108.13395859364347,
                -6.335570790314458
              ],
              [
                108.13395859364347,
                -6.335058951124357
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.143323798856,
                -6.3280447806469455
              ],
              [
                108.143323798856,
                -6.3282367230100105
              ],
              [
                108.14374222346233,
                -6.3282367230100105
              ],
              [
                108.14374222346233,
                -6.3280447806469455
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.14935340472148,
                -6.329708278757582
              ],
              [
                108.14935340472148,
                -6.329857566787612
              ],
              [
                108.14969672747539,
                -6.329857566787612
              ],
              [
                108.14969672747539,
                -6.329708278757582
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.14695014544414,
                -6.327820847799922
              ],
              [
                108.14695014544414,
                -6.327959472907143
              ],
              [
                108.14755096026347,
                -6.327959472907143
              ],
              [
                108.14755096026347,
                -6.327820847799922
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.39839356635164,
                -6.381580008364641
              ],
              [
                108.39839356635164,
                -6.382432996215636
              ],
              [
                108.39925187323641,
                -6.382432996215636
              ],
              [
                108.39925187323641,
                -6.381580008364641
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.39358704779696,
                -6.385119898660938
              ],
              [
                108.39358704779696,
                -6.385930231551833
              ],
              [
                108.394316608649,
                -6.385930231551833
              ],
              [
                108.394316608649,
                -6.385119898660938
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                108.40023892615389,
                -6.380471122035074
              ],
              [
                108.40023892615389,
                -6.381068214972314
              ],
              [
                108.40075391028475,
                -6.381068214972314
              ],
              [
                108.40075391028475,
                -6.380471122035074
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        }
      ],
      "displayProperties": [
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        },
        {
          "type": "rectangle"
        }
      ],
      "properties": {
        "landcover": 0
      },
      "color": "#ff0000",
      "mode": "FeatureCollection",
      "shown": true,
      "locked": false
    }) || 
    /* color: #ff0000 */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[108.13361527088956, -6.335058951124357],
                  [108.13361527088956, -6.335570790314458],
                  [108.13395859364347, -6.335570790314458],
                  [108.13395859364347, -6.335058951124357]]], null, false),
            {
              "landcover": 0,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.143323798856, -6.3280447806469455],
                  [108.143323798856, -6.3282367230100105],
                  [108.14374222346233, -6.3282367230100105],
                  [108.14374222346233, -6.3280447806469455]]], null, false),
            {
              "landcover": 0,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.14935340472148, -6.329708278757582],
                  [108.14935340472148, -6.329857566787612],
                  [108.14969672747539, -6.329857566787612],
                  [108.14969672747539, -6.329708278757582]]], null, false),
            {
              "landcover": 0,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.14695014544414, -6.327820847799922],
                  [108.14695014544414, -6.327959472907143],
                  [108.14755096026347, -6.327959472907143],
                  [108.14755096026347, -6.327820847799922]]], null, false),
            {
              "landcover": 0,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.39839356635164, -6.381580008364641],
                  [108.39839356635164, -6.382432996215636],
                  [108.39925187323641, -6.382432996215636],
                  [108.39925187323641, -6.381580008364641]]], null, false),
            {
              "landcover": 0,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.39358704779696, -6.385119898660938],
                  [108.39358704779696, -6.385930231551833],
                  [108.394316608649, -6.385930231551833],
                  [108.394316608649, -6.385119898660938]]], null, false),
            {
              "landcover": 0,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[108.40023892615389, -6.380471122035074],
                  [108.40023892615389, -6.381068214972314],
                  [108.40075391028475, -6.381068214972314],
                  [108.40075391028475, -6.380471122035074]]], null, false),
            {
              "landcover": 0,
              "system:index": "6"
            })]);
//=====================================================================================================================
//                                        NASA - University of Maryland (ESSIC)
// Mangrove Extent Mapping Tutorial for Guyana
//                                                  
// Code: Mangrove Extent Mapping Tutorial for Guyana
// Written by: Abigail Barenblitt NASA Goddard and University of Maryland 
// Objective: This code works through a tutorial for mapping mangrove extent in Guyana in 2009 and 2019
//=====================================================================================================================
///////////////////////////////////////////////////////////////
//                    1) Set up the map                      //
///////////////////////////////////////////////////////////////
//Center the map to the region of interest using the region shapefile
Map.centerObject(geometry,7)
Map.setOptions('satellite')
///////////////////////////////////////////////////////////////
//            2) Set up Filtered Landsat Composite           //
///////////////////////////////////////////////////////////////
//2.1) Cloud Masking
////////////////////
//Landsat data includes a 'pixel_qa' band which can be used to create 
//     a function to mask clouds
function maskClouds(image) {
  // Bits 3 and 5 are cloud shadow and cloud, respectively.
    var cloudShadowBitMask = ee.Number(2).pow(3).int();
    var cloudsBitMask = ee.Number(2).pow(5).int();  
    // Get the pixel QA band.
    var qa = image.select('pixel_qa');
     // Both flags should be set to zero, indicating clear conditions.
    var mask = qa.bitwiseAnd(cloudShadowBitMask).eq(0).and(qa.bitwiseAnd(cloudsBitMask).eq(0)); 
  // Return the masked image, scaled to [0, 1].
  return image.updateMask(mask).divide(10000).copyProperties(image, ["system:time_start"]);
}
//2.2) Adding Spectral Indices
///////////////////////////////
// This function maps spectral indices for Mangrove Mapping using Landsat 8 Imagery
var addIndicesL8 = function(img) {
  // NDVI
  var ndvi = img.normalizedDifference(['B5','B4']).rename('NDVI');
  // NDMI (Normalized Difference Mangrove Index - Shi et al 2016 - New spectral metrics for mangrove forest identification)
  var ndmi = img.normalizedDifference(['B7','B3']).rename('NDMI');
  // MNDWI (Modified Normalized Difference Water Index - Hanqiu Xu, 2006)
  var mndwi = img.normalizedDifference(['B3','B6']).rename('MNDWI');
  // SR (Simple Ratio)
  var sr = img.select('B5').divide(img.select('B4')).rename('SR');
  // Band Ratio 54
  var ratio54 = img.select('B6').divide(img.select('B5')).rename('R54');
  // Band Ratio 35
  var ratio35 = img.select('B4').divide(img.select('B6')).rename('R35');
  // GCVI
  var gcvi = img.expression('(NIR/GREEN)-1',{
    'NIR':img.select('B5'),
    'GREEN':img.select('B3')
  }).rename('GCVI');
  return img
    .addBands(ndvi)
    .addBands(ndmi)
    .addBands(mndwi)
    .addBands(sr)
    .addBands(ratio54)
    .addBands(ratio35)
    .addBands(gcvi);
};
//2.3) Filter Landsat data by Date and Region
/////////////////////////////////////////////
// Temporal Parameters
// Select the desired central year here
var year = 2022; 
// Start date will be set one year before the central year
var startDate = (year-1)+'-01-01'; 
// End date will be set to one year later than the central year.
var endDate = (year+1)+'-12-31'; 
//2.4) Apply filters and masks to Landsat 8 imagery
///////////////////////////////////////////////////
var l8 = L8.filterDate(startDate,endDate)
// Mask for clouds and cloud shadows
    .map(maskClouds)
//Add the indices
    .map(addIndicesL8)
//2.5) Composite the Landsat image collection
/////////////////////////////////////////////
//You can composite on a per pixel, per-band basis using .median()
// OR with quality bands like .qualityMosaic('NDVI')
var composite = l8
              // Uses the median reducer
              .median() 
              // Clips the composite to our area of interest
              .clip(geometry); 
//2.6) Mask to areas of low elevation and high NDVI and MNDWI
/////////////////////////////////////////////////////////////
// Clip SRTM data to region
var srtmClip = SRTM.clip(geometry);
//Mask to elevations less than 65 meters
var elevationMask = srtmClip.lt(65);
//Used the NDVI and MNDWI bands to create masks
var NDVIMask = composite.select('NDVI').gt(0.25);
var MNDWIMask = composite.select('MNDWI').gt(-0.50);
//Apply the masks
var compositeNew = composite
                        .updateMask(NDVIMask)
                        .updateMask(MNDWIMask)
                        .updateMask(elevationMask)
//2.7) Display results
///////////////////////
//Select bands and parameters for visualization
var visPar = {bands:['B5','B6','B4'], min: 0, max: 0.35}; 
//Add layer to map
Map.addLayer(compositeNew.clip(geometry), visPar, 'Landsat Composite 2021')
///////////////////////////////////////////////////////////////
//          3) Construct Random Forest Model                 //
///////////////////////////////////////////////////////////////
//3.1) Prepare training data and predictors
////////////////////////////////////////////
//After drawing training polygons, merge them together
var classes = Mangrove.merge(NonMangrove)
//Define the bands you want to include in the model
var bands = ['B5','B6','B4','NDVI','MNDWI','SR','GCVI']
//Create a variable called image to select the bands of interest and clip to geometry
var image = compositeNew.select(bands).clip(geometry)
//Assemble samples for the model
var samples = image.sampleRegions({
    collection: classes, // Set of geometries selected for training
    properties: ['landcover'], // Label from each geometry
    scale: 30 // Make each sample the same size as Landsat pixel
    }).randomColumn('random'); // creates a column with random numbers
//Here we randomly split our samples to set some aside for testing our model's accuracy
// using the "random" column we created
var split = 0.8; // Roughly 80% for training, 20% for testing.
var training = samples.filter(ee.Filter.lt('random', split)); //Subset training data
var testing = samples.filter(ee.Filter.gte('random', split)); //Subset testing data
//Print these variables to see how much training and testing data you are using
    print('Samples n =', samples.aggregate_count('.all'));
    print('Training n =', training.aggregate_count('.all'));
    print('Testing n =', testing.aggregate_count('.all'));
//3.2) Begin Random Forest Classification
/////////////////////////////////////////
//.smileRandomForest is used to run the model. Here we run the model using 100 trees
// and 5 randomly selected predictors per split ("(100,5)")
    var classifier = ee.Classifier.smileRandomForest(100,5).train({ 
    features: training.select(['B5','B6','B4','NDVI','MNDWI','SR','GCVI', 'landcover']), //Train using bands and landcover property
    classProperty: 'landcover', //Pull the landcover property from classes
    inputProperties: bands
    });
//3.3) Test the accuracy of the model
//////////////////////////////////////
    var validation = testing.classify(classifier);
    var testAccuracy = validation.errorMatrix('landcover', 'classification');
    print('Validation error matrix RF: ', testAccuracy);
    print('Validation overall accuracy RF: ', testAccuracy.accuracy());
//3.4) Classify the Landsat composite using the Random Forest model
///////////////////////////////////////////////////////////////////
    var classifiedrf = image.select(bands) // select the predictors
                      .classify(classifier); // .classify applies the Random Forest
//The model results may be "noisy". To reduce noise, create a mask to mask
// unconnected pixels
    var pixelcount = classifiedrf.connectedPixelCount(100, false); //Create an image that shows the number of pixels each pixel is connected to
    var countmask = pixelcount.select(0).gt(25); //filter out all pixels connected to 4 or less 
//Mask the results to only display mangrove extent
    var classMask = classifiedrf.select('classification').gt(0)
    var classed= classifiedrf.updateMask(countmask).updateMask(classMask)
//3.5) Map results
////////////////////
//Add classification to map
Map.addLayer (classed, {min: 1, max: 1, palette:'blue'}, 'Mangrove Extent 2021');
//Use reduceRegion with a Sum reducer to calculate total area
var get2019 = classed.multiply(ee.Image.pixelArea()).divide(10000).reduceRegion({
      reducer:ee.Reducer.sum(),
      geometry:geometry,
      scale: 100,
      maxPixels:1e13,
      tileScale: 16
      }).get('classification');
print(get2019, 'Mangrove Extent 2022 in ha')
//=====================================================================================================================
//                                        NASA - University of Maryland (ESSIC)
// Mangrove Extent Mapping Tutorial for Guyana
//                                                  
// Code: Mangrove Extent Mapping Tutorial for Guyana
// Written by: Abigail Barenblitt NASA Goddard and University of Maryland 
// Objective: This code works through a tutorial for mapping mangrove extent in Guyana in 2009 and 2019
//=====================================================================================================================
///////////////////////////////////////////////////////////////
//                    1) Set up the map                      //
///////////////////////////////////////////////////////////////
//Center the map to the region of interest using the region shapefile
Map.centerObject(geometry,11)
Map.setOptions('satellite')
///////////////////////////////////////////////////////////////
//            2) Set up Filtered Landsat Composite           //
///////////////////////////////////////////////////////////////
//2.1) Cloud Masking
////////////////////
//Landsat data includes a 'pixel_qa' band which can be used to create 
//     a function to mask clouds
function maskClouds(image) {
  // Bits 3 and 5 are cloud shadow and cloud, respectively.
    var cloudShadowBitMask = ee.Number(2).pow(3).int();
    var cloudsBitMask = ee.Number(2).pow(5).int();  
    // Get the pixel QA band.
    var qa = image.select('pixel_qa');
     // Both flags should be set to zero, indicating clear conditions.
    var mask = qa.bitwiseAnd(cloudShadowBitMask).eq(0).and(qa.bitwiseAnd(cloudsBitMask).eq(0)); 
  // Return the masked image, scaled to [0, 1].
  return image.updateMask(mask).divide(10000).copyProperties(image, ["system:time_start"]);
}
///////////////////////////////////////////////////////////////
//          4) Timeseries Comparison Map                     //
///////////////////////////////////////////////////////////////
//4.1) Adding Landsat 7 Spectral Indices
////////////////////////////////////////////
// Both collections have different band numbers that are different, so I created two functions in regard to each individual set of bands 
// This function maps spectral indices for Mangrove Mapping using Landsat 7 Imagery
var addIndicesL7 = function(img) {
  // NDVI
  var ndvi = img.normalizedDifference(['B4','B3']).rename('NDVI');
  // NDMI (Normalized Difference Mangrove Index - Shi et al 2016 - New spectral metrics for mangrove forest identification)
  var ndmi = img.normalizedDifference(['B7','B2']).rename('NDMI');
  // MNDWI (Modified Normalized Difference Water Index - Hanqiu Xu, 2006)
  var mndwi = img.normalizedDifference(['B2','B5']).rename('MNDWI');
  // SR (Simple Ratio)
  var sr = img.select('B4').divide(img.select('B3')).rename('SR');
  // Band Ratio 54
  var ratio54 = img.select('B5').divide(img.select('B4')).rename('R54');
  // Band Ratio 35
  var ratio35 = img.select('B3').divide(img.select('B5')).rename('R35');
  // GCVI
  var gcvi = img.expression('(NIR/GREEN)-1',{
    'NIR':img.select('B4'),
    'GREEN':img.select('B2')
  }).rename('GCVI');
  return img
    .addBands(ndvi)
    .addBands(ndmi)
    .addBands(mndwi)
    .addBands(sr)
    .addBands(ratio54)
    .addBands(ratio35)
    .addBands(gcvi);
};
//4.2) Filter Landsat data by Date and Region
/////////////////////////////////////////////
// Temporal Parameters
// Select the desired central year here
var year = 2011; 
// Start date will be set one year before the central year
var startDate = (year-1)+'-01-01'; 
// End date will be set to one year later than the central year.
var endDate = (year+1)+'-12-31'; 
//4.3) Apply filters and masks to Landsat 7 imagery
///////////////////////////////////////////////////
var l7 = L7.filterDate(startDate,endDate)
// Mask for clouds and cloud shadows
    .map(maskClouds)  //We use the same function we used for Landsat 8
//Add the indices
    .map(addIndicesL7)
//4.4) Composite the Landsat image collection
/////////////////////////////////////////////
//You can composite on a per pixel, per-band basis using .median()
// OR with quality bands like .qualityMosaic('NDVI')
var L7composite = l7
              // Uses the median reducer
              .median() 
              // Clips the composite to our area of interest
              .clip(geometry); 
//4.5) Mask to areas of low elevation and high NDVI and MNDWI
/////////////////////////////////////////////////////////////
//Used the NDVI and MNDWI bands to create masks
var L7NDVIMask = L7composite.select('NDVI').gt(0.25);
var L7MNDWIMask = L7composite.select('MNDWI').gt(-0.50);
// Clip SRTM data to region
var srtmClip = SRTM.clip(geometry);
//Mask to elevations less than 65 meters
var elevationMask = srtmClip.lt(65);
//Apply the masks
var L7compositeNew = L7composite
                        .updateMask(L7NDVIMask)
                        .updateMask(L7MNDWIMask)
                        .updateMask(elevationMask) //We can use the same mask as before
//4.6) Display results
///////////////////////
//Select bands and parameters for visualization
//We use bands 4, 5, and 3 instead
var L7visPar = {bands:['B4','B5','B3'], min: 0, max: 0.35}; 
//Add layer to map
Map.addLayer(L7compositeNew.clip(geometry), L7visPar, 'Landsat Composite 2011')
///////////////////////////////////////////////////////////////
//          5) Construct  New Random Forest Model           //
///////////////////////////////////////////////////////////////
//5.1) Prepare training data and predictors
////////////////////////////////////////////
//After drawing training polygons, merge them together
var classes2011 = Mangrove2012.merge(NonMangrove2012)
//Define the bands you want to include in the model
var L7bands = ['B4','B5','B3','NDVI','MNDWI','SR','GCVI']
//Create a variable called image to select the bands of interest and clip to geometry
var L7image = L7compositeNew.select(L7bands).clip(geometry)
//Assemble samples for the model
var L7samples = L7image.sampleRegions({
    collection: classes2011, // Set of geometries selected for training
    properties: ['landcover'], // Label from each geometry
    scale: 30 // Make each sample the same size as Landsat pixel
    }).randomColumn('random'); // creates a column with random numbers
//Here we randomly split our samples to set some aside for testing our model's accuracy
// using the "random" column we created
var split = 0.8; // Roughly 80% for training, 20% for testing.
var L7training = L7samples.filter(ee.Filter.lt('random', split)); //Subset training data
var L7testing = L7samples.filter(ee.Filter.gte('random', split)); //Subset testing data
//Print these variables to see how much training and testing data you are using
    print('Samples n =', L7samples.aggregate_count('.all'));
    print('Training n =', L7training.aggregate_count('.all'));
    print('Testing n =', L7testing.aggregate_count('.all'));
//5.2) Begin Random Forest Classification
/////////////////////////////////////////
//.smileRandomForest is used to run the model. Here we run the model using 100 trees
// and 5 randomly selected predictors per split ("(100,5)")
    var L7classifier = ee.Classifier.smileRandomForest(100,5).train({ 
    features: L7training.select(['B4','B5','B3','NDVI','MNDWI','SR','GCVI', 'landcover']), //Train using bands and landcover property
    classProperty: 'landcover', //Pull the landcover property from classes
    inputProperties: L7bands
    });
//5.3) Classify the Landsat composite using the Random Forest model
////////////////////////////////////////////////////////////////////
    var L7classifiedrf = L7image.select(L7bands) // select the predictors
                      .classify(L7classifier); // .classify applies the Random Forest
//The model results may be "noisy". To reduce noise, create a mask to mask
// unconnected pixels
    var pixelcount = L7classifiedrf.connectedPixelCount(100, false); //Create an image that shows the number of pixels each pixel is connected to
    var countmask = pixelcount.select(0).gt(25); //filter out all pixels connected to 4 or less 
//Mask the results to only display mangrove extent
    var L7classMask = L7classifiedrf.select('classification').gt(0)
    var L7classed= L7classifiedrf.updateMask(countmask).updateMask(L7classMask)
//5.5) Map results
//////////////////
//Add classification to map
Map.addLayer (L7classed, {min: 1, max: 1, palette:'red'}, 'Mangrove Extent 2011');
//Use reduceRegion with a Sum reducer to calculate total area
var get2012 = L7classed.multiply(ee.Image.pixelArea()).divide(10000).reduceRegion({
      reducer:ee.Reducer.sum(),
      geometry:geometry,
      scale: 100,
      maxPixels:1e13,
      tileScale: 16
      }).get('classification');
print(get2012, 'Mangrove Extent 2012 in ha')
//=====================================================================================================================
//                                        NASA - University of Maryland (ESSIC)
// Mangrove Extent Mapping Tutorial for Guyana
//                                                  
// Code: Mangrove Extent Mapping Tutorial for Guyana
// Written by: Abigail Barenblitt NASA Goddard and University of Maryland 
// Objective: This code works through a tutorial for mapping mangrove extent in Guyana in 2009 and 2019
//=====================================================================================================================
///////////////////////////////////////////////////////////////
//                    1) Set up the map                      //
///////////////////////////////////////////////////////////////
//Center the map to the region of interest using the region shapefile
Map.centerObject(geometry,11)
Map.setOptions('satellite')
///////////////////////////////////////////////////////////////
//            2) Set up Filtered Landsat Composite           //
///////////////////////////////////////////////////////////////
//2.1) Cloud Masking
////////////////////
//Landsat data includes a 'pixel_qa' band which can be used to create 
//     a function to mask clouds
function maskClouds(image) {
  // Bits 3 and 5 are cloud shadow and cloud, respectively.
    var cloudShadowBitMask = ee.Number(2).pow(3).int();
    var cloudsBitMask = ee.Number(2).pow(5).int();  
    // Get the pixel QA band.
    var qa = image.select('pixel_qa');
     // Both flags should be set to zero, indicating clear conditions.
    var mask = qa.bitwiseAnd(cloudShadowBitMask).eq(0).and(qa.bitwiseAnd(cloudsBitMask).eq(0)); 
  // Return the masked image, scaled to [0, 1].
  return image.updateMask(mask).divide(10000).copyProperties(image, ["system:time_start"]);
}
///////////////////////////////////////////////////////////////
//          4) Timeseries Comparison Map                     //
///////////////////////////////////////////////////////////////
//4.1) Adding Landsat 7 Spectral Indices
////////////////////////////////////////////
// Both collections have different band numbers that are different, so I created two functions in regard to each individual set of bands 
// This function maps spectral indices for Mangrove Mapping using Landsat 7 Imagery
var addIndicesL5 = function(img) {
  // NDVI
  var ndvi = img.normalizedDifference(['B4','B3']).rename('NDVI');
  // NDMI (Normalized Difference Mangrove Index - Shi et al 2016 - New spectral metrics for mangrove forest identification)
  var ndmi = img.normalizedDifference(['B7','B2']).rename('NDMI');
  // MNDWI (Modified Normalized Difference Water Index - Hanqiu Xu, 2006)
  var mndwi = img.normalizedDifference(['B2','B5']).rename('MNDWI');
  // SR (Simple Ratio)
  var sr = img.select('B4').divide(img.select('B3')).rename('SR');
  // Band Ratio 54
  var ratio54 = img.select('B5').divide(img.select('B4')).rename('R54');
  // Band Ratio 35
  var ratio35 = img.select('B3').divide(img.select('B5')).rename('R35');
  // GCVI
  var gcvi = img.expression('(NIR/GREEN)-1',{
    'NIR':img.select('B4'),
    'GREEN':img.select('B2')
  }).rename('GCVI');
  return img
    .addBands(ndvi)
    .addBands(ndmi)
    .addBands(mndwi)
    .addBands(sr)
    .addBands(ratio54)
    .addBands(ratio35)
    .addBands(gcvi);
};
//4.2) Filter Landsat data by Date and Region
/////////////////////////////////////////////
// Temporal Parameters
// Select the desired central year here
var year = 1995
// Start date will be set one year before the central year
var startDate = (year-1)+'-01-01'; 
// End date will be set to one year later than the central year.
var endDate = (year+1)+'-12-01'; 
//4.3) Apply filters and masks to Landsat 7 imagery
///////////////////////////////////////////////////
var l5 = L5.filterDate(startDate,endDate)
// Mask for clouds and cloud shadows
    .map(maskClouds)  //We use the same function we used for Landsat 8
//Add the indices
    .map(addIndicesL5)
//4.4) Composite the Landsat image collection
/////////////////////////////////////////////
//You can composite on a per pixel, per-band basis using .median()
// OR with quality bands like .qualityMosaic('NDVI')
var L5composite = l5
              // Uses the median reducer
              .median() 
              // Clips the composite to our area of interest
              .clip(geometry); 
//4.5) Mask to areas of low elevation and high NDVI and MNDWI
/////////////////////////////////////////////////////////////
//Used the NDVI and MNDWI bands to create masks
var L5NDVIMask = L5composite.select('NDVI').gt(0.25);
var L5MNDWIMask = L5composite.select('MNDWI').gt(-0.50);
// Clip SRTM data to region
var srtmClip = SRTM.clip(geometry);
//Mask to elevations less than 65 meters
var elevationMask = srtmClip.lt(65);
//Apply the masks
var L5compositeNew = L5composite
                        .updateMask(L5NDVIMask)
                        .updateMask(L5MNDWIMask)
                        .updateMask(elevationMask) //We can use the same mask as before
//4.6) Display results
///////////////////////
//Select bands and parameters for visualization
//We use bands 4, 5, and 3 instead
var L5visPar = {bands:['B4','B5','B3'], min: 0, max: 0.35}; 
//Add layer to map
Map.addLayer(L5compositeNew.clip(geometry), L5visPar, 'Landsat Composite 1995')
///////////////////////////////////////////////////////////////
//          5) Construct  New Random Forest Model           //
///////////////////////////////////////////////////////////////
//5.1) Prepare training data and predictors
////////////////////////////////////////////
//After drawing training polygons, merge them together
var classes1995 = Mangrove1995.merge(NonMangrove1995)
//Define the bands you want to include in the model
var L5bands = ['B4','B5','B3','NDVI','MNDWI','SR','GCVI']
//Create a variable called image to select the bands of interest and clip to geometry
var L5image = L5compositeNew.select(L5bands).clip(geometry)
//Assemble samples for the model
var L5samples = L5image.sampleRegions({
    collection: classes1995, // Set of geometries selected for training
    properties: ['landcover'], // Label from each geometry
    scale: 30 // Make each sample the same size as Landsat pixel
    }).randomColumn('random'); // creates a column with random numbers
//Here we randomly split our samples to set some aside for testing our model's accuracy
// using the "random" column we created
var split = 0.8; // Roughly 80% for training, 20% for testing.
var L5training = L5samples.filter(ee.Filter.lt('random', split)); //Subset training data
var L5testing = L5samples.filter(ee.Filter.gte('random', split)); //Subset testing data
//Print these variables to see how much training and testing data you are using
    print('Samples n =', L5samples.aggregate_count('.all'));
    print('Training n =', L5training.aggregate_count('.all'));
    print('Testing n =', L5testing.aggregate_count('.all'));
//5.2) Begin Random Forest Classification
/////////////////////////////////////////
//.smileRandomForest is used to run the model. Here we run the model using 100 trees
// and 5 randomly selected predictors per split ("(100,5)")
    var L5classifier = ee.Classifier.smileRandomForest(100,5).train({ 
    features: L5training.select(['B4','B5','B3','NDVI','MNDWI','SR','GCVI', 'landcover']), //Train using bands and landcover property
    classProperty: 'landcover', //Pull the landcover property from classes
    inputProperties: L5bands
    });
//5.3) Classify the Landsat composite using the Random Forest model
////////////////////////////////////////////////////////////////////
    var L5classifiedrf = L5image.select(L5bands) // select the predictors
                      .classify(L5classifier); // .classify applies the Random Forest
//The model results may be "noisy". To reduce noise, create a mask to mask
// unconnected pixels
    var pixelcount = L5classifiedrf.connectedPixelCount(100, false); //Create an image that shows the number of pixels each pixel is connected to
    var countmask = pixelcount.select(0).gt(25); //filter out all pixels connected to 4 or less 
//Mask the results to only display mangrove extent
    var L5classMask = L5classifiedrf.select('classification').gt(0)
    var L5classed= L5classifiedrf.updateMask(countmask).updateMask(L5classMask)
//5.5) Map results
//////////////////
//Add classification to map
Map.addLayer (L5classed, {min: 1, max: 1, palette:'yellow'}, 'Mangrove Extent 1995');
//Use reduceRegion with a Sum reducer to calculate total area
var get1995 = L5classed.multiply(ee.Image.pixelArea()).divide(10000).reduceRegion({
      reducer:ee.Reducer.sum(),
      geometry:geometry,
      scale: 100,
      maxPixels:1e13,
      tileScale: 16
      }).get('classification');
print(get1995, 'Mangrove Extent 1995 in ha')
//These points were created in GEE using Stratified Random Sampling (see below)
//We then used the Class Accuracy plug-in (Pete Bunting) to classify each point using
//satellie data as validation
//7.1) Creating Stratified Random Samples
////////////////////////////////////////////
var stratSamples = classifiedrf.stratifiedSample({
                      numPoints:150,        //Number of points per class
                      classBand: 'classification',
                      region:geometry,
                      scale: 30,
                      geometries:true
        });
//Add a 15m Radius buffer around each point
var stratBuff = function(feature) {
        var num = feature.get('classification');
        return feature.buffer(15).set('classification', num);
        };
//Map the buffer across all points (see export code below
////////////////////////////////////////////////////////////////////
var stratPoints = stratSamples.map(stratBuff)
///////////////////////////////////////////////////////////////
//          8) Export Layers of Interest                      //
///////////////////////////////////////////////////////////////
//8.3) Stratified Random Samples
//-------------------------
Export.table.toDrive({
  collection: stratPoints,
  description:'StratifiedrandomPoints',
  fileFormat: 'SHP',
});
//8.1) 2021 Mangrove Extent
//------------------
Export.image.toDrive({
  image: classed,
  description: 'IM_2021',
  region: geometry,
  scale: 30,
  maxPixels: 1e13
  });
//8.2) 2011 Mangrove Extent
//------------------
Export.image.toDrive({
  image: L7classed,
  description: 'IM_2011',
  region: geometry,
  scale: 30,
  maxPixels: 1e13
  });
//8.3) 1995 Mangrove Extent
//------------------
Export.image.toDrive({
  image: L5classed,
  description: 'IM_1995',
  region: geometry,
  scale: 30,
  maxPixels: 1e13
  });