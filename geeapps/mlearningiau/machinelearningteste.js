var urbano = ui.import && ui.import("urbano", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -46.81321878895483,
                -22.707247129044195
              ],
              [
                -46.81321878895483,
                -22.710889263502366
              ],
              [
                -46.81047220692358,
                -22.710889263502366
              ],
              [
                -46.81047220692358,
                -22.707247129044195
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -46.777977480441905,
                -22.712857196639625
              ],
              [
                -46.777977480441905,
                -22.716855457797053
              ],
              [
                -46.77428676083741,
                -22.716855457797053
              ],
              [
                -46.77428676083741,
                -22.712857196639625
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -46.98747004320279,
                -22.68797552125488
              ],
              [
                -46.98747004320279,
                -22.69088568716949
              ],
              [
                -46.98420847704068,
                -22.69088568716949
              ],
              [
                -46.98420847704068,
                -22.68797552125488
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -47.05553267927576,
                -22.6425434028753
              ],
              [
                -47.05553267927576,
                -22.645236695142117
              ],
              [
                -47.049309954361206,
                -22.645236695142117
              ],
              [
                -47.049309954361206,
                -22.6425434028753
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -47.05368289114563,
                -22.62136489872784
              ],
              [
                -47.05368289114563,
                -22.623167311710397
              ],
              [
                -47.052202311769406,
                -22.623167311710397
              ],
              [
                -47.052202311769406,
                -22.62136489872784
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -46.893318605388004,
                -22.730429044127874
              ],
              [
                -46.893318605388004,
                -22.733110714501795
              ],
              [
                -46.89036817547162,
                -22.733110714501795
              ],
              [
                -46.89036817547162,
                -22.730429044127874
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -46.701158769705046,
                -22.611956219004185
              ],
              [
                -46.701158769705046,
                -22.615798960192393
              ],
              [
                -46.69824052629684,
                -22.615798960192393
              ],
              [
                -46.69824052629684,
                -22.611956219004185
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        }
      ],
      "displayProperties": [],
      "properties": {
        "cobertura": 1
      },
      "color": "#d63000",
      "mode": "FeatureCollection",
      "shown": false,
      "locked": false
    }) || 
    /* color: #d63000 */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-46.81321878895483, -22.707247129044195],
                  [-46.81321878895483, -22.710889263502366],
                  [-46.81047220692358, -22.710889263502366],
                  [-46.81047220692358, -22.707247129044195]]], null, false),
            {
              "cobertura": 1,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-46.777977480441905, -22.712857196639625],
                  [-46.777977480441905, -22.716855457797053],
                  [-46.77428676083741, -22.716855457797053],
                  [-46.77428676083741, -22.712857196639625]]], null, false),
            {
              "cobertura": 1,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-46.98747004320279, -22.68797552125488],
                  [-46.98747004320279, -22.69088568716949],
                  [-46.98420847704068, -22.69088568716949],
                  [-46.98420847704068, -22.68797552125488]]], null, false),
            {
              "cobertura": 1,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-47.05553267927576, -22.6425434028753],
                  [-47.05553267927576, -22.645236695142117],
                  [-47.049309954361206, -22.645236695142117],
                  [-47.049309954361206, -22.6425434028753]]], null, false),
            {
              "cobertura": 1,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-47.05368289114563, -22.62136489872784],
                  [-47.05368289114563, -22.623167311710397],
                  [-47.052202311769406, -22.623167311710397],
                  [-47.052202311769406, -22.62136489872784]]], null, false),
            {
              "cobertura": 1,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-46.893318605388004, -22.730429044127874],
                  [-46.893318605388004, -22.733110714501795],
                  [-46.89036817547162, -22.733110714501795],
                  [-46.89036817547162, -22.730429044127874]]], null, false),
            {
              "cobertura": 1,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-46.701158769705046, -22.611956219004185],
                  [-46.701158769705046, -22.615798960192393],
                  [-46.69824052629684, -22.615798960192393],
                  [-46.69824052629684, -22.611956219004185]]], null, false),
            {
              "cobertura": 1,
              "system:index": "6"
            })]),
    vegetacao_natural = ui.import && ui.import("vegetacao_natural", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -46.77641012201212,
                -22.61928866130757
              ],
              [
                -46.77641012201212,
                -22.626339831232563
              ],
              [
                -46.77048780450724,
                -22.626339831232563
              ],
              [
                -46.77048780450724,
                -22.61928866130757
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -46.64055528983454,
                -22.472405891713958
              ],
              [
                -46.64055528983454,
                -22.474765434140473
              ],
              [
                -46.63806619986872,
                -22.474765434140473
              ],
              [
                -46.63806619986872,
                -22.472405891713958
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -46.643455968976696,
                -22.50015733735067
              ],
              [
                -46.643455968976696,
                -22.50174327078166
              ],
              [
                -46.64110635387965,
                -22.50174327078166
              ],
              [
                -46.64110635387965,
                -22.50015733735067
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -47.03619361403105,
                -22.63713949877937
              ],
              [
                -47.03619361403105,
                -22.639714071721336
              ],
              [
                -47.033318285967084,
                -22.639714071721336
              ],
              [
                -47.033318285967084,
                -22.63713949877937
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -46.8900643851951,
                -22.773770144146674
              ],
              [
                -46.8900643851951,
                -22.777450075113
              ],
              [
                -46.87993636395487,
                -22.777450075113
              ],
              [
                -46.87993636395487,
                -22.773770144146674
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -46.66904274570743,
                -22.710639353727448
              ],
              [
                -46.66904274570743,
                -22.71436057173647
              ],
              [
                -46.66747633564273,
                -22.71436057173647
              ],
              [
                -46.66747633564273,
                -22.710639353727448
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        }
      ],
      "displayProperties": [],
      "properties": {
        "cobertura": 2
      },
      "color": "#049e0b",
      "mode": "FeatureCollection",
      "shown": false,
      "locked": false
    }) || 
    /* color: #049e0b */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-46.77641012201212, -22.61928866130757],
                  [-46.77641012201212, -22.626339831232563],
                  [-46.77048780450724, -22.626339831232563],
                  [-46.77048780450724, -22.61928866130757]]], null, false),
            {
              "cobertura": 2,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-46.64055528983454, -22.472405891713958],
                  [-46.64055528983454, -22.474765434140473],
                  [-46.63806619986872, -22.474765434140473],
                  [-46.63806619986872, -22.472405891713958]]], null, false),
            {
              "cobertura": 2,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-46.643455968976696, -22.50015733735067],
                  [-46.643455968976696, -22.50174327078166],
                  [-46.64110635387965, -22.50174327078166],
                  [-46.64110635387965, -22.50015733735067]]], null, false),
            {
              "cobertura": 2,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-47.03619361403105, -22.63713949877937],
                  [-47.03619361403105, -22.639714071721336],
                  [-47.033318285967084, -22.639714071721336],
                  [-47.033318285967084, -22.63713949877937]]], null, false),
            {
              "cobertura": 2,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-46.8900643851951, -22.773770144146674],
                  [-46.8900643851951, -22.777450075113],
                  [-46.87993636395487, -22.777450075113],
                  [-46.87993636395487, -22.773770144146674]]], null, false),
            {
              "cobertura": 2,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-46.66904274570743, -22.710639353727448],
                  [-46.66904274570743, -22.71436057173647],
                  [-46.66747633564273, -22.71436057173647],
                  [-46.66747633564273, -22.710639353727448]]], null, false),
            {
              "cobertura": 2,
              "system:index": "5"
            })]),
    pastagem = ui.import && ui.import("pastagem", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -47.00864501249134,
                -22.714493524757383
              ],
              [
                -47.00864501249134,
                -22.71734374821287
              ],
              [
                -47.00469680082142,
                -22.71734374821287
              ],
              [
                -47.00469680082142,
                -22.714493524757383
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -47.04040236722767,
                -22.71346426281154
              ],
              [
                -47.04040236722767,
                -22.71631450770108
              ],
              [
                -47.03559584867298,
                -22.71631450770108
              ],
              [
                -47.03559584867298,
                -22.71346426281154
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -46.796798844649516,
                -22.692034399208573
              ],
              [
                -46.796798844649516,
                -22.6953997919264
              ],
              [
                -46.79338707478257,
                -22.6953997919264
              ],
              [
                -46.79338707478257,
                -22.692034399208573
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -46.55172607702286,
                -22.601312995395173
              ],
              [
                -46.55172607702286,
                -22.60396747672009
              ],
              [
                -46.548936579647375,
                -22.60396747672009
              ],
              [
                -46.548936579647375,
                -22.601312995395173
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -47.077063838041454,
                -22.709010734450054
              ],
              [
                -47.077063838041454,
                -22.715938535212757
              ],
              [
                -47.07217148879829,
                -22.715938535212757
              ],
              [
                -47.07217148879829,
                -22.709010734450054
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -47.01828260633857,
                -22.668781796536564
              ],
              [
                -47.01828260633857,
                -22.670959782402882
              ],
              [
                -47.01560039732368,
                -22.670959782402882
              ],
              [
                -47.01560039732368,
                -22.668781796536564
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        }
      ],
      "displayProperties": [],
      "properties": {
        "cobertura": 3
      },
      "color": "#81c350",
      "mode": "FeatureCollection",
      "shown": false,
      "locked": false
    }) || 
    /* color: #81c350 */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-47.00864501249134, -22.714493524757383],
                  [-47.00864501249134, -22.71734374821287],
                  [-47.00469680082142, -22.71734374821287],
                  [-47.00469680082142, -22.714493524757383]]], null, false),
            {
              "cobertura": 3,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-47.04040236722767, -22.71346426281154],
                  [-47.04040236722767, -22.71631450770108],
                  [-47.03559584867298, -22.71631450770108],
                  [-47.03559584867298, -22.71346426281154]]], null, false),
            {
              "cobertura": 3,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-46.796798844649516, -22.692034399208573],
                  [-46.796798844649516, -22.6953997919264],
                  [-46.79338707478257, -22.6953997919264],
                  [-46.79338707478257, -22.692034399208573]]], null, false),
            {
              "cobertura": 3,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-46.55172607702286, -22.601312995395173],
                  [-46.55172607702286, -22.60396747672009],
                  [-46.548936579647375, -22.60396747672009],
                  [-46.548936579647375, -22.601312995395173]]], null, false),
            {
              "cobertura": 3,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-47.077063838041454, -22.709010734450054],
                  [-47.077063838041454, -22.715938535212757],
                  [-47.07217148879829, -22.715938535212757],
                  [-47.07217148879829, -22.709010734450054]]], null, false),
            {
              "cobertura": 3,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-47.01828260633857, -22.668781796536564],
                  [-47.01828260633857, -22.670959782402882],
                  [-47.01560039732368, -22.670959782402882],
                  [-47.01560039732368, -22.668781796536564]]], null, false),
            {
              "cobertura": 3,
              "system:index": "5"
            })]),
    silvicultura = ui.import && ui.import("silvicultura", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -46.855437001882024,
                -22.730969393284226
              ],
              [
                -46.855437001882024,
                -22.734096342030462
              ],
              [
                -46.852411470113225,
                -22.734096342030462
              ],
              [
                -46.852411470113225,
                -22.730969393284226
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -46.75771739472333,
                -22.6582452791669
              ],
              [
                -46.75771739472333,
                -22.66119567827925
              ],
              [
                -46.75468113411847,
                -22.66119567827925
              ],
              [
                -46.75468113411847,
                -22.6582452791669
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -46.87099416430158,
                -22.773960786402238
              ],
              [
                -46.87099416430158,
                -22.775503993184863
              ],
              [
                -46.86764676745099,
                -22.775503993184863
              ],
              [
                -46.86764676745099,
                -22.773960786402238
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -46.670673528788484,
                -22.71471685326053
              ],
              [
                -46.670673528788484,
                -22.71928905049446
              ],
              [
                -46.668935457346834,
                -22.71928905049446
              ],
              [
                -46.668935457346834,
                -22.71471685326053
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        }
      ],
      "displayProperties": [],
      "properties": {
        "cobertura": 4
      },
      "color": "#aaff09",
      "mode": "FeatureCollection",
      "shown": false,
      "locked": false
    }) || 
    /* color: #aaff09 */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-46.855437001882024, -22.730969393284226],
                  [-46.855437001882024, -22.734096342030462],
                  [-46.852411470113225, -22.734096342030462],
                  [-46.852411470113225, -22.730969393284226]]], null, false),
            {
              "cobertura": 4,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-46.75771739472333, -22.6582452791669],
                  [-46.75771739472333, -22.66119567827925],
                  [-46.75468113411847, -22.66119567827925],
                  [-46.75468113411847, -22.6582452791669]]], null, false),
            {
              "cobertura": 4,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-46.87099416430158, -22.773960786402238],
                  [-46.87099416430158, -22.775503993184863],
                  [-46.86764676745099, -22.775503993184863],
                  [-46.86764676745099, -22.773960786402238]]], null, false),
            {
              "cobertura": 4,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-46.670673528788484, -22.71471685326053],
                  [-46.670673528788484, -22.71928905049446],
                  [-46.668935457346834, -22.71928905049446],
                  [-46.668935457346834, -22.71471685326053]]], null, false),
            {
              "cobertura": 4,
              "system:index": "3"
            })]),
    solo_exposto = ui.import && ui.import("solo_exposto", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -47.02652606754543,
                -22.6208578962299
              ],
              [
                -47.02652606754543,
                -22.624185421704812
              ],
              [
                -47.02051791935207,
                -22.624185421704812
              ],
              [
                -47.02051791935207,
                -22.6208578962299
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -46.77769379293238,
                -22.546403439646888
              ],
              [
                -46.77769379293238,
                -22.558253883745586
              ],
              [
                -46.77245812093531,
                -22.558253883745586
              ],
              [
                -46.77245812093531,
                -22.546403439646888
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -46.95251116176098,
                -22.667460515266406
              ],
              [
                -46.95251116176098,
                -22.6753407762298
              ],
              [
                -46.94809088130444,
                -22.6753407762298
              ],
              [
                -46.94809088130444,
                -22.667460515266406
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        }
      ],
      "displayProperties": [],
      "properties": {
        "cobertura": 5
      },
      "color": "#ffbf00",
      "mode": "FeatureCollection",
      "shown": false,
      "locked": false
    }) || 
    /* color: #ffbf00 */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-47.02652606754543, -22.6208578962299],
                  [-47.02652606754543, -22.624185421704812],
                  [-47.02051791935207, -22.624185421704812],
                  [-47.02051791935207, -22.6208578962299]]], null, false),
            {
              "cobertura": 5,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-46.77769379293238, -22.546403439646888],
                  [-46.77769379293238, -22.558253883745586],
                  [-46.77245812093531, -22.558253883745586],
                  [-46.77245812093531, -22.546403439646888]]], null, false),
            {
              "cobertura": 5,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-46.95251116176098, -22.667460515266406],
                  [-46.95251116176098, -22.6753407762298],
                  [-46.94809088130444, -22.6753407762298],
                  [-46.94809088130444, -22.667460515266406]]], null, false),
            {
              "cobertura": 5,
              "system:index": "2"
            })]),
    agua = ui.import && ui.import("agua", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -46.62617767283899,
                -22.46309572013037
              ],
              [
                -46.62617767283899,
                -22.464265660943074
              ],
              [
                -46.625383738970584,
                -22.464265660943074
              ],
              [
                -46.625383738970584,
                -22.46309572013037
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -46.63684761362879,
                -22.51741442090158
              ],
              [
                -46.63684761362879,
                -22.51906953190662
              ],
              [
                -46.63513099985926,
                -22.51906953190662
              ],
              [
                -46.63513099985926,
                -22.51741442090158
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -46.964717415544214,
                -22.661868469262913
              ],
              [
                -46.964717415544214,
                -22.664759388664184
              ],
              [
                -46.961970833512964,
                -22.664759388664184
              ],
              [
                -46.961970833512964,
                -22.661868469262913
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -47.051279352182405,
                -22.65831142695123
              ],
              [
                -47.051279352182405,
                -22.660816298854876
              ],
              [
                -47.050517604822176,
                -22.660816298854876
              ],
              [
                -47.050517604822176,
                -22.65831142695123
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -46.689513371133216,
                -22.741589967858868
              ],
              [
                -46.689513371133216,
                -22.742589334150274
              ],
              [
                -46.688794539117225,
                -22.742589334150274
              ],
              [
                -46.688794539117225,
                -22.741589967858868
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -46.69035860199381,
                -22.760703402757382
              ],
              [
                -46.69035860199381,
                -22.76185102860011
              ],
              [
                -46.68938227791239,
                -22.76185102860011
              ],
              [
                -46.68938227791239,
                -22.760703402757382
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -47.054782292413336,
                -22.63688934894763
              ],
              [
                -47.054782292413336,
                -22.637661727302415
              ],
              [
                -47.05313005166016,
                -22.637661727302415
              ],
              [
                -47.05313005166016,
                -22.63688934894763
              ]
            ]
          ],
          "geodesic": false,
          "evenOdd": true
        }
      ],
      "displayProperties": [],
      "properties": {
        "cobertura": 6
      },
      "color": "#037dff",
      "mode": "FeatureCollection",
      "shown": false,
      "locked": false
    }) || 
    /* color: #037dff */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-46.62617767283899, -22.46309572013037],
                  [-46.62617767283899, -22.464265660943074],
                  [-46.625383738970584, -22.464265660943074],
                  [-46.625383738970584, -22.46309572013037]]], null, false),
            {
              "cobertura": 6,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-46.63684761362879, -22.51741442090158],
                  [-46.63684761362879, -22.51906953190662],
                  [-46.63513099985926, -22.51906953190662],
                  [-46.63513099985926, -22.51741442090158]]], null, false),
            {
              "cobertura": 6,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-46.964717415544214, -22.661868469262913],
                  [-46.964717415544214, -22.664759388664184],
                  [-46.961970833512964, -22.664759388664184],
                  [-46.961970833512964, -22.661868469262913]]], null, false),
            {
              "cobertura": 6,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-47.051279352182405, -22.65831142695123],
                  [-47.051279352182405, -22.660816298854876],
                  [-47.050517604822176, -22.660816298854876],
                  [-47.050517604822176, -22.65831142695123]]], null, false),
            {
              "cobertura": 6,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-46.689513371133216, -22.741589967858868],
                  [-46.689513371133216, -22.742589334150274],
                  [-46.688794539117225, -22.742589334150274],
                  [-46.688794539117225, -22.741589967858868]]], null, false),
            {
              "cobertura": 6,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-46.69035860199381, -22.760703402757382],
                  [-46.69035860199381, -22.76185102860011],
                  [-46.68938227791239, -22.76185102860011],
                  [-46.68938227791239, -22.760703402757382]]], null, false),
            {
              "cobertura": 6,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-47.054782292413336, -22.63688934894763],
                  [-47.054782292413336, -22.637661727302415],
                  [-47.05313005166016, -22.637661727302415],
                  [-47.05313005166016, -22.63688934894763]]], null, false),
            {
              "cobertura": 6,
              "system:index": "6"
            })]),
    limites_ca = ui.import && ui.import("limites_ca", "table", {
      "id": "users/mlearningiau/municipios"
    }) || ee.FeatureCollection("users/mlearningiau/municipios");
//****(MENU)*****
//ui.root.clear();
var panel = ui.Panel({style: {width: '250px'}});
var map = ui.Map();
map.style().set('cursor', 'crosshair');
//Logo inserida através do método ui.Chart (utilizando HTML)
var table = ui.Chart(
    [
      ['<h6><b>Projeto Machine Learning</b></h6>'],
      ['<img src=https://livreopiniaoportal.files.wordpress.com/2014/08/iau2.jpg width=230px>']
    ],
    'Table', {allowHtml: true});
var titlePanel = ui.Panel([table], 'flow', {width: '300px', padding: '8px'});
ui.root.insert(0, titlePanel);
ui.root.add(panel);
// Define some constants.
var AGUAS_DE_LINDOIA = 'ÁGUAS DE LINDÓIA';
var AMPARO = 'AMPARO';
var HOLAMBRA = 'HOLAMBRA';
var JAGUARIUNA = 'JAGUARIÚNA';
var LINDOIA = 'LINDÓIA';
var MONTE_ALEGRE_DO_SUL = 'MONTE ALEGRE DO SUL';
var PEDREIRA = 'PEDREIRA';
var SERRA_NEGRA = 'SERRA NEGRA';
var SOCORRO = 'SOCORRO';
var cidade = AMPARO;
var dateinicial = '2017-01-01';
var datefinal = '2017-12-31';
// Create an empty list of filter constraints.
var constraints = [];
// ***CLASSIFICAÇÃO***
function classificacao(){
Map.clear();
var area_estudo = limites_ca.filter(ee.Filter.eq('NM_MUNICIP', cidade)); 
Map.centerObject(area_estudo);
// Área de estudo e amostras (estão nos imports como FeatureColletction e com uma característica 'cobertura')
// existe uma imagem no doc links uteis que traz as váriaveis presentes na feição limites CA
//Busca de imagens e produção de um composito anua para reliminação de nuvens)
var sentinel2_treino = ee.ImageCollection('COPERNICUS/S2')
                      .filterDate('2018-01-01', '2018-12-30');
var band_class = ['B1','B2','B3','B4','B5','B6','B7','B8','B8A','B9','B10','B11','B12','QA10','QA20','QA60'];
var reflec_min_treino = sentinel2_treino.select(band_class).min().clip(area_estudo);
// Agrupamento das amostras em um unico arquivo
var amostras = urbano.merge(vegetacao_natural).merge(pastagem).merge(silvicultura).merge(solo_exposto).merge(agua);
// Propriedade das amsotras
var classe = 'cobertura';
// Preparação para o treinamento do classificador
var treinamento = reflec_min_treino.sampleRegions({
  collection: amostras,
  properties: [classe],
  scale: 30
});
// Treinamento das amostras
var classificador = ee.Classifier.svm().train({
  features: treinamento,
  classProperty: classe,
});
print(classificador);
// ----Imagem do Ano a Classificar----
var sentinel2_class = ee.ImageCollection('COPERNICUS/S2')
                    .filterDate(dateinicial, datefinal);
var mapa = sentinel2_class.select('B4','B3','B2').min().clip(area_estudo);
var reflec_min_class = sentinel2_class.select(band_class).min().clip(area_estudo);
// Aplicar classificação
var classificada = reflec_min_class.classify(classificador);
print(classificada);
// Definição da paleta de cores para cada classe
var paletaDeClasses = [
  'red', // urbano
  'darkgreen', // vegetação natural
  'lightgreen', // pastagem
  'lime', //sivicultura
  'orange', // solo exposto
  'blue', // água
 ];
// ***NDVI***
// Visualization parameters 
var visParams = {bands: ['B8', 'B4', 'B3'], max: 3048, gamma: 1};
var visParams_ndvi = {min: -0.2, max: 0.8, palette: 'FFFFFF, CE7E45, DF923D, F1B555, FCD163, 99B718, 74A901, 66A000, 529400,' +
    '3E8601, 207401, 056201, 004C00, 023B01, 012E01, 011D01, 011301'};
// Calculate NDVI
var image = reflec_min_class.clip(area_estudo);
var image_ndvi = image.normalizedDifference(['B8','B4']);
print(image_ndvi,mapa);
// Map results
Map.centerObject(area_estudo);
Map.addLayer(mapa,{gain: '0.1, 0.1, 0.1', scale:20},'MAPA ' + dateinicial + ' à ' + datefinal);
Map.addLayer(image_ndvi,visParams_ndvi,'NDVI ' + dateinicial + ' à ' + datefinal);
Map.addLayer(classificada, {min: 1, max: 6, palette: paletaDeClasses}, 'CLASSIFICAÇÃO '+ cidade);
//calculo de áreas das classes (retorna lista com valores)
var class_area = ee.Image.pixelArea().addBands(classificada)
  .reduceRegion({
    reducer: ee.Reducer.sum().group({
      groupField: 1,
      groupName: 'amostras',
    }),
    geometry: area_estudo,
    scale: 30,  
    maxPixels: 1e9
  }).get('groups');
print(class_area);
// ***LEGENDA***
//Adição de legenda para facilitar a interpretação (apenas javascrip, não influencia na imagem)
//Posição do Painel
var legend = ui.Panel({
  style: {
    position: 'bottom-left',
    padding: '8px 15px'
  }
});
// Título da legenda
var legendTitle = ui.Label({
  value: 'Classificação',
  style: {
    fontWeight: 'bold',
    fontSize: '18px',
    margin: '0 0 4px 0',
    padding: '0'
    }
});
// Adiciona o título ao painel na tela
legend.add(legendTitle);
// Cria os estilos da legenda
var makeRow = function(color, name) {
      // Rótulos da legenda
      var colorBox = ui.Label({
        style: {
          backgroundColor: '#' + color,
          // Tamanho
          padding: '8px',
          margin: '0 0 4px 0'
        }
      });
      // Descrição
      var description = ui.Label({
        value: name,
        style: {margin: '0 0 4px 6px'}
      });
      // Retorna o painel
      return ui.Panel({
        widgets: [colorBox, description],
        layout: ui.Panel.Layout.Flow('horizontal')
      });
};
//  Paleta de cores para a leganda (em hexadecimal)
var palette =['d73027','1a9850','8FBC8F','00FF00','fdae61','0000ff'];
// Nomes para a legenda
var names = ['urbano','vegetação natural','pastagem','silvicultura','solo exposto','água'];
// Concatenação de Paletas
for (var i = 0; i < 6; i++) {
  legend.add(makeRow(palette[i], names[i]));
  }  
// Adiciona a legenda ao mapa
Map.add(legend);
}
//***COMBOBOX MUNICIPIOS***
// Create a layer selector that dictates which layer is visible on the map.
var select = ui.Select({
  items: [AGUAS_DE_LINDOIA, AMPARO, HOLAMBRA, JAGUARIUNA, LINDOIA, MONTE_ALEGRE_DO_SUL, PEDREIRA, SERRA_NEGRA, SOCORRO],
  value: AGUAS_DE_LINDOIA,
  onChange: redraw,
});
panel.add(ui.Label('Escolha o Município:')).add(select);
var select2 = ui.Select({
  items: ['2016-01-01', '2016-12-31', '2017-01-01', '2017-12-31', '2018-01-01', '2018-12-31', '2019-01-01', '2019-12-31'],
  value: '2019-01-01',
  onChange: redraw,
});
panel.add(ui.Label('Escolha a data de início:')).add(select2);
var select3 = ui.Select({
  items: ['2016-01-01', '2016-12-31', '2017-12-31', '2017-12-31', '2018-01-01', '2018-12-31', '2019-01-01', '2019-12-31'],
  value: '2019-12-31',
  onChange: redraw,
});
panel.add(ui.Label('Escolha a data de fim:')).add(select3);
// Create a function to render a map layer configured by the user inputs.
  function redraw() {
  cidade = select.getValue();
  dateinicial = select2.getValue();
  datefinal = select3.getValue();
 }
// Botão 'gerar mapa', chama as funções redraw(atribui os valores do menu) e classificação (classifica de acordo com redaw)
panel.add(ui.Button({label: 'Gerar mapa ', style: {stretch: 'horizontal'}, "onClick": function (){
  redraw();
  classificacao();
  alert('CLASSIFICANDO  ' + cidade + '  !!!!');
}}));