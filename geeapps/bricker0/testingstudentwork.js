var StudyArea = 
    /* color: #ffedea */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      }
    ] */
    ee.Geometry.Polygon(
        [[[35.01614302480194, 8.765073235177475],
          [35.01614302480194, 7.045797077749566],
          [37.02664107167694, 7.045797077749566],
          [37.02664107167694, 8.765073235177475]]], null, false),
    Forest = /* color: #248b06 */ee.Geometry.MultiPolygon(
        [[[[36.31235808213554, 7.514354399933257],
           [36.29828184922538, 7.5129929004296],
           [36.30154341538749, 7.500739212981022],
           [36.307723224957805, 7.499888249644097],
           [36.30789488633476, 7.508567997579016]]],
         [[[36.27115935166679, 7.478613625939208],
           [36.27218931992851, 7.474358576660758],
           [36.27819746812187, 7.466529177682014],
           [36.28643721421562, 7.467890822363477],
           [36.28094405015312, 7.472145934650026],
           [36.27682417710624, 7.480996435417389]]],
         [[[36.6449572883281, 7.425588387699927],
           [36.65422700268357, 7.420992376532192],
           [36.65937684399216, 7.436142009226618],
           [36.65371201855271, 7.436482444408451]]],
         [[[36.623842938962866, 7.436312226850536],
           [36.62229798657029, 7.419119913769249],
           [36.63328431469529, 7.433418518268688]]],
         [[[36.73662446362107, 7.413672704067049],
           [36.71962998730271, 7.411629983052941],
           [36.715510114255835, 7.395117640612976],
           [36.72168992382615, 7.391542722207625]]],
         [[[36.45978344565443, 7.239183373814697],
           [36.455663572607556, 7.203420423769265],
           [36.4965189803224, 7.2061453194351754],
           [36.496862303076306, 7.235436911767386]]]]),
    Nonforest = /* color: #ff2f6d */ee.Geometry.MultiPolygon(
        [[[[36.301715076764445, 7.491889112971794],
           [36.302230060895305, 7.482528234639253],
           [36.30840987046562, 7.4828686337359125],
           [36.315962971051555, 7.486102411904233],
           [36.30806654771171, 7.493250678526069]]],
         [[[36.295706928571086, 7.500739212981022],
           [36.28969878037773, 7.488655377728098],
           [36.29330366929374, 7.4859322136511155],
           [36.29656523545585, 7.491378524791874],
           [36.297251880963664, 7.506355529261251],
           [36.29433363755546, 7.507036289942788]]],
         [[[36.42874449570976, 7.419464732194108],
           [36.422822178204875, 7.422188309625201],
           [36.41990393479667, 7.411549239607357],
           [36.42925947984062, 7.410868330372454]]],
         [[[36.65113709789841, 7.406863597182243],
           [36.63980744701951, 7.396479506676986],
           [36.64289735180466, 7.390010605460719],
           [36.65165208202927, 7.390180840917258]]],
         [[[36.05359481985591, 8.030534650491708],
           [36.0448400896313, 8.032234427174716],
           [36.03986190969966, 8.018466031551968],
           [36.051706544709425, 8.020675805479513]]],
         [[[36.0034696977856, 8.036993764025723],
           [35.99643158133052, 8.02917482402284],
           [36.00655960257075, 8.034104173307066]]],
         [[[36.08432220633052, 7.988802905254189],
           [36.08449386770747, 7.996792613002003],
           [36.08063148672603, 7.997472580904562],
           [36.079172365021925, 7.996792613002003]]],
         [[[36.155163335607604, 7.993695468074018],
           [36.157909917638854, 7.99038058315376],
           [36.161128568456725, 7.988128145987322],
           [36.16520552615936, 7.991868034845794],
           [36.16207270602997, 7.994545434228695],
           [36.157352018163756, 7.992718004807176],
           [36.15434794406708, 7.9962453612253],
           [36.152631330297545, 7.994545434228695]]],
         [[[36.13434939365204, 7.984430722190662],
           [36.13005785922821, 7.983410737321959],
           [36.12980036716278, 7.981030762725551]]],
         [[[36.05850652378796, 7.969478064375556],
           [36.060695206344114, 7.965100451284186],
           [36.058163201034056, 7.963400394747672],
           [36.06228307408093, 7.960977801991108],
           [36.06331304234265, 7.965057949956785],
           [36.06361344975232, 7.968883051753042]]],
         [[[36.04528859776257, 7.959362732194879],
           [36.04623273533581, 7.957790158119052],
           [36.04906514805554, 7.957790158119052],
           [36.0501380316615, 7.9565575958417805],
           [36.05185464543103, 7.956217578009636],
           [36.04988053959607, 7.960042762358667]]],
         [[[36.87570108291281, 7.352514253673782],
           [36.875872744289765, 7.349024116958458],
           [36.87922014114035, 7.349534870385902],
           [36.87879098769797, 7.341873507334453],
           [36.881108416286835, 7.347832356677494],
           [36.892609728542695, 7.333956626844971],
           [36.8955279719509, 7.334722782725548]]],
         [[[36.81210054275168, 7.333786369803549],
           [36.810469759670625, 7.332764826187667],
           [36.810727251736054, 7.327401683759047],
           [36.818966997829804, 7.334807911075323],
           [36.81390298720969, 7.3358294500026595],
           [36.8145896327175, 7.3382130317141465],
           [36.81828035232199, 7.3387237975625235],
           [36.81210054275168, 7.338298159396273]]],
         [[[36.839652193752656, 7.341277618007321],
           [36.83699144240988, 7.338468414711635],
           [36.83724893447531, 7.336169962457417],
           [36.838708056179414, 7.33548893728739],
           [36.83879388686789, 7.338553542344881],
           [36.840939654079804, 7.339064307802304],
           [36.841197146145234, 7.3428099032351914]]],
         [[[36.82437433120383, 7.332849954911858],
           [36.8215419184841, 7.332339182322627],
           [36.81785119887961, 7.327401683759047],
           [36.82008279678, 7.3234005672021825],
           [36.82102693435324, 7.32901914621285]]],
         [[[36.823687685696015, 7.359324197536655],
           [36.82085527297629, 7.356089487230463],
           [36.81630624648703, 7.354812621408564],
           [36.81664956924094, 7.348598488653657]]],
         [[[36.57481859683527, 7.526238482504127],
           [36.569239602084295, 7.53108865694823],
           [36.56709383487238, 7.527344667416764],
           [36.56941126346125, 7.527514849460541],
           [36.56743715762629, 7.524706837197777]]],
         [[[36.01740923552709, 7.989062328646886],
           [36.01483431487279, 7.985577409349604],
           [36.01320353179174, 7.981752463697679],
           [36.010027796318106, 7.980562473302981],
           [36.00616541533666, 7.977672482205567],
           [36.00290384917455, 7.97427246652503],
           [35.99620905547338, 7.9753774747219355],
           [35.99389162688451, 7.97622747899556],
           [35.99071589141088, 7.971807437482353],
           [35.98247614531713, 7.971042425449134],
           [35.98445025115209, 7.9677273567791875],
           [35.98299112944799, 7.965602298638794],
           [35.986338526298574, 7.967217343831473],
           [35.989342600395254, 7.969682400525269],
           [35.99277582793432, 7.968492375009334],
           [35.99294748931127, 7.971382430973817],
           [35.994835764457754, 7.973762461734918],
           [36.00350466399389, 7.973167455342766],
           [36.00659456877904, 7.975547475718006],
           [36.008826166679434, 7.978777481214271],
           [36.01397600798803, 7.98124246823855]]]]);
//Import data 1973
var l1 = ee.ImageCollection('LANDSAT/LM01/C01/T2').filterDate('1973-02-01', '1973-02-15').filterBounds(StudyArea);
//Select bands
var nearInfrared321 = l1.select(['B4', 'B5', 'B6']);
var nearInfrared321Vis = {};
//Create composite
var image = nearInfrared321.reduce(ee.Reducer.median());
// Make a FeatureCollection from the hand-made geometries.
var polygons = ee.FeatureCollection([
  ee.Feature(Forest, {'class': 0}),
  ee.Feature(Nonforest, {'class': 1}),
 // ee.Feature(Water, {'class': 1}),
  //ee.Feature(Nonforest2, {'class': 1}),
]);
// Get the values for all pixels in each polygon in the training.
var training = image.sampleRegions({
   //Get the sample from the polygons FeatureCollection.
 collection: polygons,
  // Keep this list of properties from the polygons.
properties: ['class'],
  // Set the scale to get Landsat pixels in the polygons.
scale: 60
});
// Create an SVM classifier with custom parameters.
var classifier = ee.Classifier.libsvm({
  kernelType: 'RBF',
  gamma: 0.5,
  cost: 10
});
// Train the classifier.
var trained = classifier.train(training, 'class');
// Classify the image.
var classified = image.classify(trained);
//Add data to map
Map.setCenter(36.0213920482, 7.905435505, 8);
//Map.addLayer(image, {bands: ['B6','B5', 'B4'], max: 0.5, gamma:2},'Satellite imagery 1973');
Map.addLayer(nearInfrared321, nearInfrared321Vis, 'Satellite imagery 1973');
Map.addLayer(classified,
             {min: 0, max: 1, palette: ["green", "grey"]},
             'Deforestation 2019'); //Name accordingly
//Export images //Can also apply to the classification in GEE
//Export.image.toDrive({
//  image: image,
//  description: 'LANDSAT_2019',
//  scale: 30,
//  region: StudyArea,
//  fileFormat:'GeoTIFF',
//  formatOptions: {cloudOptimized: true},
//});