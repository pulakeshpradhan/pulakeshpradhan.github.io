var BaringoPolygon = ui.import && ui.import("BaringoPolygon", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                35.7702598956962,
                0.13972629828364103
              ],
              [
                35.782619514836824,
                0.13972629828364103
              ],
              [
                35.804592171086824,
                0.14521944536114312
              ],
              [
                35.81763843573526,
                0.15620573546122
              ],
              [
                35.82862476386026,
                0.16787866239046859
              ],
              [
                35.83274463690714,
                0.18641800240804635
              ],
              [
                35.83961109198526,
                0.2097638099830355
              ],
              [
                35.84441761053995,
                0.22898974318396184
              ],
              [
                35.848537483586824,
                0.2440958155764508
              ],
              [
                35.84098438300089,
                0.26126178627762775
              ],
              [
                35.843044319524324,
                0.27774109610694225
              ],
              [
                35.85609058417276,
                0.2798010082480534
              ],
              [
                35.8691368488212,
                0.29422038296018416
              ],
              [
                35.8746300128837,
                0.31825263228554534
              ],
              [
                35.878749885930574,
                0.3422848256197985
              ],
              [
                35.881496467961824,
                0.364943695681625
              ],
              [
                35.87394336737589,
                0.3855426190285787
              ],
              [
                35.867763557805574,
                0.4006484646281048
              ],
              [
                35.86433033026651,
                0.42674031355953407
              ],
              [
                35.843044319524324,
                0.44733907941888007
              ],
              [
                35.8251915363212,
                0.46931103253932066
              ],
              [
                35.82450489081339,
                0.5008955934084874
              ],
              [
                35.8251915363212,
                0.5276736892062153
              ],
              [
                35.83411792792276,
                0.5462123037428069
              ],
              [
                35.83892444647745,
                0.5688705325446972
              ],
              [
                35.83137134589151,
                0.5915286723788142
              ],
              [
                35.83274463690714,
                0.6183063544539329
              ],
              [
                35.81489185370401,
                0.6224259860091466
              ],
              [
                35.799099007024324,
                0.6340982578698009
              ],
              [
                35.782619514836824,
                0.6478303086820223
              ],
              [
                35.76751331366495,
                0.6464571052623995
              ],
              [
                35.7647667316337,
                0.6292920314397051
              ],
              [
                35.75584034003214,
                0.6155599316399062
              ],
              [
                35.7537804035087,
                0.5983947572570546
              ],
              [
                35.74760059393839,
                0.5791696982567724
              ],
              [
                35.7482872394462,
                0.5585713484508478
              ],
              [
                35.74485401190714,
                0.53728631116982
              ],
              [
                35.741420784368074,
                0.5194342871196191
              ],
              [
                35.74622730292276,
                0.4995223547273399
              ],
              [
                35.74897388495401,
                0.48647657305593545
              ],
              [
                35.76408008612589,
                0.45489194588755927
              ],
              [
                35.766140022649324,
                0.4384129544893873
              ],
              [
                35.76133350409464,
                0.41438102739761085
              ],
              [
                35.76545337714151,
                0.39790194928704786
              ],
              [
                35.7757530597587,
                0.3704367466296862
              ],
              [
                35.77643970526651,
                0.3429714588503253
              ],
              [
                35.77506641425089,
                0.31687936236371744
              ],
              [
                35.76682666815714,
                0.2846074684995908
              ],
              [
                35.76270679511026,
                0.26194842462813517
              ],
              [
                35.76957325018839,
                0.2031248687182578
              ],
              [
                35.76202014960245,
                0.18321226226098705
              ],
              [
                35.7537804035087,
                0.169479417183132
              ],
              [
                35.749660530461824,
                0.15917977694215796
              ],
              [
                35.75034717596964,
                0.14888013155732369
              ],
              [
                35.7592735675712,
                0.14201369860743565
              ]
            ]
          ],
          "evenOdd": true
        }
      ],
      "displayProperties": [],
      "properties": {},
      "color": "#98ff00",
      "mode": "Geometry",
      "shown": true,
      "locked": false
    }) || /* color: #98ff00 */ee.Geometry.Polygon(
        [[[35.7702598956962, 0.13972629828364103],
          [35.782619514836824, 0.13972629828364103],
          [35.804592171086824, 0.14521944536114312],
          [35.81763843573526, 0.15620573546122],
          [35.82862476386026, 0.16787866239046859],
          [35.83274463690714, 0.18641800240804635],
          [35.83961109198526, 0.2097638099830355],
          [35.84441761053995, 0.22898974318396184],
          [35.848537483586824, 0.2440958155764508],
          [35.84098438300089, 0.26126178627762775],
          [35.843044319524324, 0.27774109610694225],
          [35.85609058417276, 0.2798010082480534],
          [35.8691368488212, 0.29422038296018416],
          [35.8746300128837, 0.31825263228554534],
          [35.878749885930574, 0.3422848256197985],
          [35.881496467961824, 0.364943695681625],
          [35.87394336737589, 0.3855426190285787],
          [35.867763557805574, 0.4006484646281048],
          [35.86433033026651, 0.42674031355953407],
          [35.843044319524324, 0.44733907941888007],
          [35.8251915363212, 0.46931103253932066],
          [35.82450489081339, 0.5008955934084874],
          [35.8251915363212, 0.5276736892062153],
          [35.83411792792276, 0.5462123037428069],
          [35.83892444647745, 0.5688705325446972],
          [35.83137134589151, 0.5915286723788142],
          [35.83274463690714, 0.6183063544539329],
          [35.81489185370401, 0.6224259860091466],
          [35.799099007024324, 0.6340982578698009],
          [35.782619514836824, 0.6478303086820223],
          [35.76751331366495, 0.6464571052623995],
          [35.7647667316337, 0.6292920314397051],
          [35.75584034003214, 0.6155599316399062],
          [35.7537804035087, 0.5983947572570546],
          [35.74760059393839, 0.5791696982567724],
          [35.7482872394462, 0.5585713484508478],
          [35.74485401190714, 0.53728631116982],
          [35.741420784368074, 0.5194342871196191],
          [35.74622730292276, 0.4995223547273399],
          [35.74897388495401, 0.48647657305593545],
          [35.76408008612589, 0.45489194588755927],
          [35.766140022649324, 0.4384129544893873],
          [35.76133350409464, 0.41438102739761085],
          [35.76545337714151, 0.39790194928704786],
          [35.7757530597587, 0.3704367466296862],
          [35.77643970526651, 0.3429714588503253],
          [35.77506641425089, 0.31687936236371744],
          [35.76682666815714, 0.2846074684995908],
          [35.76270679511026, 0.26194842462813517],
          [35.76957325018839, 0.2031248687182578],
          [35.76202014960245, 0.18321226226098705],
          [35.7537804035087, 0.169479417183132],
          [35.749660530461824, 0.15917977694215796],
          [35.75034717596964, 0.14888013155732369],
          [35.7592735675712, 0.14201369860743565]]]),
    CoastPolygon = ui.import && ui.import("CoastPolygon", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                41.338367287841606,
                -1.325699078367923
              ],
              [
                41.286182229247856,
                -1.3394282744760382
              ],
              [
                41.225757424560356,
                -1.3476657552695739
              ],
              [
                41.190051858154106,
                -1.4163103288699677
              ],
              [
                41.129627053466606,
                -1.4822072078342576
              ],
              [
                41.104907815185356,
                -1.5453565445051614
              ],
              [
                41.137866799560356,
                -1.6139949956695827
              ],
              [
                41.195545022216606,
                -1.666158674331977
              ],
              [
                41.159839455810356,
                -1.6689040932157373
              ],
              [
                41.074695412841606,
                -1.6798857303589525
              ],
              [
                40.984058205810356,
                -1.6881219177286055
              ],
              [
                40.948352639404106,
                -1.6991034465811983
              ],
              [
                40.879688088622856,
                -1.696358070205551
              ],
              [
                40.805530373779106,
                -1.732047656919483
              ],
              [
                40.731372658935356,
                -1.767736571397446
              ],
              [
                40.739612405029106,
                -1.8308768076550348
              ],
              [
                40.843982522216606,
                -1.8418574934244107
              ],
              [
                40.893420998779106,
                -1.8116604459318582
              ],
              [
                40.923633401122856,
                -1.8391123283106963
              ],
              [
                40.945606057372856,
                -1.8967598991159444
              ],
              [
                40.995044533935356,
                -1.9598955087704042
              ],
              [
                41.102161233154106,
                -1.9461705761036163
              ],
              [
                41.154346291747856,
                -1.8995049740866707
              ],
              [
                41.198291604247856,
                -1.8857795557412442
              ],
              [
                41.250476662841606,
                -1.8802893580469693
              ],
              [
                41.316394631591606,
                -1.8363671589736887
              ],
              [
                41.363086526122856,
                -1.8034247998054265
              ],
              [
                41.330127541747856,
                -1.7704818442703503
              ],
              [
                41.316394631591606,
                -1.7485195479713942
              ],
              [
                41.376819436279106,
                -1.7485195479713942
              ],
              [
                41.442737405029106,
                -1.7485195479713942
              ],
              [
                41.483936135497856,
                -1.7430289336156266
              ],
              [
                41.563587014404106,
                -1.6634132516216402
              ],
              [
                41.558093850341606,
                -1.6057585019177967
              ]
            ]
          ],
          "evenOdd": true
        }
      ],
      "displayProperties": [],
      "properties": {},
      "color": "#0b4a8b",
      "mode": "Geometry",
      "shown": false,
      "locked": false
    }) || 
    /* color: #0b4a8b */
    /* shown: false */
    ee.Geometry.Polygon(
        [[[41.338367287841606, -1.325699078367923],
          [41.286182229247856, -1.3394282744760382],
          [41.225757424560356, -1.3476657552695739],
          [41.190051858154106, -1.4163103288699677],
          [41.129627053466606, -1.4822072078342576],
          [41.104907815185356, -1.5453565445051614],
          [41.137866799560356, -1.6139949956695827],
          [41.195545022216606, -1.666158674331977],
          [41.159839455810356, -1.6689040932157373],
          [41.074695412841606, -1.6798857303589525],
          [40.984058205810356, -1.6881219177286055],
          [40.948352639404106, -1.6991034465811983],
          [40.879688088622856, -1.696358070205551],
          [40.805530373779106, -1.732047656919483],
          [40.731372658935356, -1.767736571397446],
          [40.739612405029106, -1.8308768076550348],
          [40.843982522216606, -1.8418574934244107],
          [40.893420998779106, -1.8116604459318582],
          [40.923633401122856, -1.8391123283106963],
          [40.945606057372856, -1.8967598991159444],
          [40.995044533935356, -1.9598955087704042],
          [41.102161233154106, -1.9461705761036163],
          [41.154346291747856, -1.8995049740866707],
          [41.198291604247856, -1.8857795557412442],
          [41.250476662841606, -1.8802893580469693],
          [41.316394631591606, -1.8363671589736887],
          [41.363086526122856, -1.8034247998054265],
          [41.330127541747856, -1.7704818442703503],
          [41.316394631591606, -1.7485195479713942],
          [41.376819436279106, -1.7485195479713942],
          [41.442737405029106, -1.7485195479713942],
          [41.483936135497856, -1.7430289336156266],
          [41.563587014404106, -1.6634132516216402],
          [41.558093850341606, -1.6057585019177967]]]),
    table = ui.import && ui.import("table", "table", {
      "id": "users/derickongeri/Forest_Legal"
    }) || ee.FeatureCollection("users/derickongeri/Forest_Legal"),
    MtKenyaPolygon = ui.import && ui.import("MtKenyaPolygon", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                37.40978667263789,
                -0.05416618589728302
              ],
              [
                37.223705740020705,
                -0.22926018668369882
              ],
              [
                37.28069731716914,
                -0.302730459235367
              ],
              [
                37.49355742459102,
                -0.11939743079293871
              ]
            ]
          ],
          "evenOdd": true
        }
      ],
      "displayProperties": [],
      "properties": {},
      "color": "#d63000",
      "mode": "Geometry",
      "shown": true,
      "locked": false
    }) || /* color: #d63000 */ee.Geometry.Polygon(
        [[[37.40978667263789, -0.05416618589728302],
          [37.223705740020705, -0.22926018668369882],
          [37.28069731716914, -0.302730459235367],
          [37.49355742459102, -0.11939743079293871]]]),
    KakamegaPolygon = ui.import && ui.import("KakamegaPolygon", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                34.76694016491274,
                0.2637817722485217
              ],
              [
                34.81363205944399,
                0.2637817722485217
              ],
              [
                34.83560471569399,
                0.2527955557719882
              ],
              [
                34.83285813366274,
                0.21159716450388988
              ],
              [
                34.82461838756899,
                0.1676520937535083
              ],
              [
                34.86307053600649,
                0.120584527640217
              ],
              [
                34.89877610241274,
                0.13706397811624213
              ],
              [
                34.92349534069399,
                0.15354341725355164
              ],
              [
                34.93448166881899,
                0.1892488233241525
              ],
              [
                34.95920090710024,
                0.20298165300056586
              ],
              [
                34.96469407116274,
                0.24967318195588392
              ],
              [
                34.95096116100649,
                0.29911109005092046
              ],
              [
                34.93448166881899,
                0.32108342435437676
              ],
              [
                34.92624192272524,
                0.37876056890838267
              ],
              [
                34.90152268444399,
                0.41995829771855486
              ],
              [
                34.86032395397524,
                0.40347923105694555
              ],
              [
                34.85208420788149,
                0.3760140464559872
              ],
              [
                34.80539231335024,
                0.3458022438418374
              ],
              [
                34.77243332897524,
                0.3293230377177397
              ],
              [
                34.74222092663149,
                0.29636454510373395
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                34.97293381725649,
                0.21096768588247614
              ],
              [
                34.94821457897524,
                0.19723486289121975
              ],
              [
                34.93173508678774,
                0.1532897570640909
              ],
              [
                34.92624192272524,
                0.1313171687188038
              ],
              [
                34.88504319225649,
                0.12307744293673828
              ],
              [
                34.86307053600649,
                0.09011851605839653
              ],
              [
                34.88504319225649,
                0.05441297863039117
              ],
              [
                34.92349534069399,
                0.04068007323553027
              ],
              [
                34.97568039928774,
                0.029693747199103962
              ],
              [
                35.02786545788149,
                0.04891981680337208
              ],
              [
                35.06631760631899,
                0.07363904075487251
              ],
              [
                35.10202317272524,
                0.106597983906764
              ],
              [
                35.09927659069399,
                0.1505431846875336
              ],
              [
                35.12948899303774,
                0.18624859630217205
              ],
              [
                35.09653000866274,
                0.21646081172963577
              ],
              [
                35.07455735241274,
                0.23294017713131918
              ],
              [
                35.04434495006899,
                0.26040574263866134
              ],
              [
                35.03610520397524,
                0.3125901470300005
              ],
              [
                35.03610520397524,
                0.3620277653281229
              ],
              [
                35.00863938366274,
                0.42519765817658334
              ],
              [
                34.98117356335024,
                0.5130853282888941
              ],
              [
                34.92074875866274,
                0.5240712064069649
              ],
              [
                34.90701584850649,
                0.4856205513486111
              ],
              [
                34.92624192272524,
                0.4416766787670057
              ],
              [
                34.94821457897524,
                0.38737594423950217
              ],
              [
                34.94821457897524,
                0.35441765088178934
              ],
              [
                34.95096116100649,
                0.3077265371319186
              ]
            ]
          ],
          "evenOdd": true
        }
      ],
      "displayProperties": [],
      "properties": {},
      "color": "#0b4a8b",
      "mode": "Geometry",
      "shown": false,
      "locked": false
    }) || 
    /* color: #0b4a8b */
    /* shown: false */
    ee.Geometry.MultiPolygon(
        [[[[34.76694016491274, 0.2637817722485217],
           [34.81363205944399, 0.2637817722485217],
           [34.83560471569399, 0.2527955557719882],
           [34.83285813366274, 0.21159716450388988],
           [34.82461838756899, 0.1676520937535083],
           [34.86307053600649, 0.120584527640217],
           [34.89877610241274, 0.13706397811624213],
           [34.92349534069399, 0.15354341725355164],
           [34.93448166881899, 0.1892488233241525],
           [34.95920090710024, 0.20298165300056586],
           [34.96469407116274, 0.24967318195588392],
           [34.95096116100649, 0.29911109005092046],
           [34.93448166881899, 0.32108342435437676],
           [34.92624192272524, 0.37876056890838267],
           [34.90152268444399, 0.41995829771855486],
           [34.86032395397524, 0.40347923105694555],
           [34.85208420788149, 0.3760140464559872],
           [34.80539231335024, 0.3458022438418374],
           [34.77243332897524, 0.3293230377177397],
           [34.74222092663149, 0.29636454510373395]]],
         [[[34.97293381725649, 0.21096768588247614],
           [34.94821457897524, 0.19723486289121975],
           [34.93173508678774, 0.1532897570640909],
           [34.92624192272524, 0.1313171687188038],
           [34.88504319225649, 0.12307744293673828],
           [34.86307053600649, 0.09011851605839653],
           [34.88504319225649, 0.05441297863039117],
           [34.92349534069399, 0.04068007323553027],
           [34.97568039928774, 0.029693747199103962],
           [35.02786545788149, 0.04891981680337208],
           [35.06631760631899, 0.07363904075487251],
           [35.10202317272524, 0.106597983906764],
           [35.09927659069399, 0.1505431846875336],
           [35.12948899303774, 0.18624859630217205],
           [35.09653000866274, 0.21646081172963577],
           [35.07455735241274, 0.23294017713131918],
           [35.04434495006899, 0.26040574263866134],
           [35.03610520397524, 0.3125901470300005],
           [35.03610520397524, 0.3620277653281229],
           [35.00863938366274, 0.42519765817658334],
           [34.98117356335024, 0.5130853282888941],
           [34.92074875866274, 0.5240712064069649],
           [34.90701584850649, 0.4856205513486111],
           [34.92624192272524, 0.4416766787670057],
           [34.94821457897524, 0.38737594423950217],
           [34.94821457897524, 0.35441765088178934],
           [34.95096116100649, 0.3077265371319186]]]]),
    CheranganyiPolygon = ui.import && ui.import("CheranganyiPolygon", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                35.39200933774043,
                0.9701808601666527
              ],
              [
                35.40230902035762,
                0.9557633410846874
              ],
              [
                35.40780218442012,
                0.9310474537814263
              ],
              [
                35.42222174008418,
                0.9248684547027642
              ],
              [
                35.439387877779495,
                0.9262415665413047
              ],
              [
                35.45792730649043,
                0.9283012333013626
              ],
              [
                35.46891363461543,
                0.9241818985842132
              ],
              [
                35.46646995102344,
                0.8977199199658068
              ],
              [
                35.48844260727344,
                0.8606454283574259
              ],
              [
                35.48294944321094,
                0.8276900216778338
              ],
              [
                35.48294944321094,
                0.7974806580543322
              ],
              [
                35.503548808445316,
                0.7411808043195084
              ],
              [
                35.492562480320316,
                0.712344013283638
              ],
              [
                35.507323852733634,
                0.6704586760460836
              ],
              [
                35.53341638203051,
                0.682817433300961
              ],
              [
                35.54440271015551,
                0.7102812237258632
              ],
              [
                35.55813562031176,
                0.7528497740705081
              ],
              [
                35.56088220234301,
                0.7967910672817177
              ],
              [
                35.581481567577384,
                0.8421050347549403
              ],
              [
                35.592467895702384,
                0.8956572240646425
              ],
              [
                35.584228149608634,
                0.9643127259220584
              ],
              [
                35.581481567577384,
                1.0357129775707608
              ],
              [
                35.606200805858634,
                1.09338124250183
              ],
              [
                35.628173462108634,
                1.1592864711524273
              ],
              [
                35.633666626171134,
                1.2114603601892664
              ],
              [
                35.608947387889884,
                1.2553954892605363
              ],
              [
                35.597961059764884,
                1.3075674940373834
              ],
              [
                35.559508911327384,
                1.3597384144873026
              ],
              [
                35.504577270702384,
                1.3981794262588443
              ],
              [
                35.477111450389884,
                1.3679758262785517
              ],
              [
                35.430419555858634,
                1.3679758262785517
              ],
              [
                35.400207153514884,
                1.3405176779483485
              ],
              [
                35.389220825389884,
                1.293838122459822
              ],
              [
                35.356261841014884,
                1.2608873290136307
              ],
              [
                35.348022094921134,
                1.2142063268969685
              ],
              [
                35.359008423046134,
                1.1702705291394322
              ],
              [
                35.326049438671134,
                1.1592864711524273
              ],
              [
                35.282104126171134,
                1.203222443393145
              ],
              [
                35.268371216014884,
                1.2691250669036527
              ],
              [
                35.243651977733634,
                1.3103133593670806
              ],
              [
                35.202453247264884,
                1.293838122459822
              ],
              [
                35.150268188671134,
                1.31305922168679
              ],
              [
                35.120055786327384,
                1.2691250669036527
              ],
              [
                35.133788696483634,
                1.22793611846918
              ],
              [
                35.084350219921134,
                1.194984501719883
              ],
              [
                35.125548950389884,
                1.1565404499817973
              ],
              [
                35.155761352733634,
                1.1043655501078757
              ],
              [
                35.194213501171134,
                1.087889073602063
              ],
              [
                35.238158813671134,
                1.0686664040556588
              ],
              [
                35.284850708202384,
                1.0357129775707608
              ],
              [
                35.323302856639884,
                1.0055053686876982
              ],
              [
                35.364501587108634,
                0.9890283727627779
              ]
            ]
          ],
          "evenOdd": true
        }
      ],
      "displayProperties": [],
      "properties": {},
      "color": "#ffc82d",
      "mode": "Geometry",
      "shown": false,
      "locked": false
    }) || 
    /* color: #ffc82d */
    /* shown: false */
    ee.Geometry.Polygon(
        [[[35.39200933774043, 0.9701808601666527],
          [35.40230902035762, 0.9557633410846874],
          [35.40780218442012, 0.9310474537814263],
          [35.42222174008418, 0.9248684547027642],
          [35.439387877779495, 0.9262415665413047],
          [35.45792730649043, 0.9283012333013626],
          [35.46891363461543, 0.9241818985842132],
          [35.46646995102344, 0.8977199199658068],
          [35.48844260727344, 0.8606454283574259],
          [35.48294944321094, 0.8276900216778338],
          [35.48294944321094, 0.7974806580543322],
          [35.503548808445316, 0.7411808043195084],
          [35.492562480320316, 0.712344013283638],
          [35.507323852733634, 0.6704586760460836],
          [35.53341638203051, 0.682817433300961],
          [35.54440271015551, 0.7102812237258632],
          [35.55813562031176, 0.7528497740705081],
          [35.56088220234301, 0.7967910672817177],
          [35.581481567577384, 0.8421050347549403],
          [35.592467895702384, 0.8956572240646425],
          [35.584228149608634, 0.9643127259220584],
          [35.581481567577384, 1.0357129775707608],
          [35.606200805858634, 1.09338124250183],
          [35.628173462108634, 1.1592864711524273],
          [35.633666626171134, 1.2114603601892664],
          [35.608947387889884, 1.2553954892605363],
          [35.597961059764884, 1.3075674940373834],
          [35.559508911327384, 1.3597384144873026],
          [35.504577270702384, 1.3981794262588443],
          [35.477111450389884, 1.3679758262785517],
          [35.430419555858634, 1.3679758262785517],
          [35.400207153514884, 1.3405176779483485],
          [35.389220825389884, 1.293838122459822],
          [35.356261841014884, 1.2608873290136307],
          [35.348022094921134, 1.2142063268969685],
          [35.359008423046134, 1.1702705291394322],
          [35.326049438671134, 1.1592864711524273],
          [35.282104126171134, 1.203222443393145],
          [35.268371216014884, 1.2691250669036527],
          [35.243651977733634, 1.3103133593670806],
          [35.202453247264884, 1.293838122459822],
          [35.150268188671134, 1.31305922168679],
          [35.120055786327384, 1.2691250669036527],
          [35.133788696483634, 1.22793611846918],
          [35.084350219921134, 1.194984501719883],
          [35.125548950389884, 1.1565404499817973],
          [35.155761352733634, 1.1043655501078757],
          [35.194213501171134, 1.087889073602063],
          [35.238158813671134, 1.0686664040556588],
          [35.284850708202384, 1.0357129775707608],
          [35.323302856639884, 1.0055053686876982],
          [35.364501587108634, 0.9890283727627779]]]),
    AberdaresPolygon = ui.import && ui.import("AberdaresPolygon", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                36.64113926143648,
                -0.36772564366768146
              ],
              [
                36.61092685909273,
                -0.33751381383968804
              ],
              [
                36.58620762081148,
                -0.299062259438189
              ],
              [
                36.56423496456148,
                -0.23039844569860274
              ],
              [
                36.51754307003023,
                -0.19194655915049333
              ],
              [
                36.50655674190523,
                -0.12053569647027775
              ],
              [
                36.54500889034273,
                -0.15898772978733475
              ],
              [
                36.59444736690523,
                -0.20018625699301443
              ],
              [
                36.63015293331148,
                -0.15624115814858983
              ],
              [
                36.61916660518648,
                -0.10680281337236466
              ],
              [
                36.58620762081148,
                -0.07659045007025257
              ],
              [
                36.53951572628023,
                -0.040884903004415905
              ],
              [
                36.50930332393648,
                0.019539897834616102
              ],
              [
                36.43514560909273,
                0.03327280649950705
              ],
              [
                36.41042637081148,
                -0.01616566797838946
              ],
              [
                36.41042637081148,
                -0.08208360886442194
              ],
              [
                36.42690586299898,
                -0.13152199800077197
              ],
              [
                36.44613193721773,
                -0.19194655915049333
              ],
              [
                36.47909092159273,
                -0.255117461914286
              ],
              [
                36.50381015987398,
                -0.31554151454179824
              ],
              [
                36.521891174603525,
                -0.3636567453414319
              ],
              [
                36.477945862103525,
                -0.3828824114710544
              ],
              [
                36.455973205853525,
                -0.42133361223263244
              ],
              [
                36.480692444134775,
                -0.4597846232334762
              ],
              [
                36.502665100384775,
                -0.5119678036485986
              ],
              [
                36.541117248822275,
                -0.5339395445329408
              ],
              [
                36.601542053509775,
                -0.5284466165470192
              ],
              [
                36.590555725384775,
                -0.599854283135989
              ],
              [
                36.601542053509775,
                -0.6602754315481836
              ],
              [
                36.634501037884775,
                -0.7124567439801078
              ],
              [
                36.634501037884775,
                -0.7399203580052898
              ],
              [
                36.609781799603525,
                -0.7811154583012981
              ],
              [
                36.615274963666025,
                -0.8250564530003649
              ],
              [
                36.579569397259775,
                -0.8085786354705773
              ],
              [
                36.554850158978525,
                -0.8195638546725114
              ],
              [
                36.546610412884775,
                -0.8744894906740419
              ],
              [
                36.497171936322275,
                -0.8525193298899144
              ],
              [
                36.494425354291025,
                -0.9101907262549881
              ],
              [
                36.532877502728525,
                -0.959622619907611
              ],
              [
                36.560343323041025,
                -0.9953229898513782
              ],
              [
                36.568583069134775,
                -1.033769109507647
              ],
              [
                36.565836487103525,
                -1.1106599349984276
              ],
              [
                36.618021545697275,
                -1.135374425000356
              ],
              [
                36.672953186322275,
                -1.0996756506050116
              ],
              [
                36.719645080853525,
                -1.0667225565070466
              ],
              [
                36.719645080853525,
                -1.0282768347963598
              ],
              [
                36.760843811322275,
                -0.9733535762762597
              ],
              [
                36.788309631634775,
                -0.9239218773613285
              ],
              [
                36.804789123822275,
                -0.8580118819646405
              ],
              [
                36.818522033978525,
                -0.8085786354705773
              ],
              [
                36.832254944134775,
                -0.7618911271204731
              ],
              [
                36.843241272259775,
                -0.7069640013289624
              ],
              [
                36.848734436322275,
                -0.621825690551348
              ],
              [
                36.870707092572275,
                -0.5806292291746851
              ],
              [
                36.876200256634775,
                -0.5174607460543663
              ],
              [
                36.873453674603525,
                -0.47901005216230497
              ],
              [
                36.903666076947275,
                -0.45703812910995045
              ],
              [
                36.953104553509775,
                -0.4378126411929898
              ],
              [
                37.002543030072275,
                -0.42682662582607117
              ],
              [
                37.013529358197275,
                -0.3746428454253378
              ],
              [
                36.975077209759775,
                -0.349924101481954
              ],
              [
                36.942118225384775,
                -0.3361914375203146
              ],
              [
                36.914652405072275,
                -0.3636567453414319
              ],
              [
                36.914652405072275,
                -0.3966150038667912
              ],
              [
                36.876200256634775,
                -0.3636567453414319
              ],
              [
                36.832254944134775,
                -0.3554171614821791
              ],
              [
                36.780069885541025,
                -0.3718963216799069
              ],
              [
                36.719645080853525,
                -0.39936151963705757
              ]
            ]
          ],
          "evenOdd": true
        }
      ],
      "displayProperties": [],
      "properties": {},
      "color": "#00ffff",
      "mode": "Geometry",
      "shown": false,
      "locked": false
    }) || 
    /* color: #00ffff */
    /* shown: false */
    ee.Geometry.Polygon(
        [[[36.64113926143648, -0.36772564366768146],
          [36.61092685909273, -0.33751381383968804],
          [36.58620762081148, -0.299062259438189],
          [36.56423496456148, -0.23039844569860274],
          [36.51754307003023, -0.19194655915049333],
          [36.50655674190523, -0.12053569647027775],
          [36.54500889034273, -0.15898772978733475],
          [36.59444736690523, -0.20018625699301443],
          [36.63015293331148, -0.15624115814858983],
          [36.61916660518648, -0.10680281337236466],
          [36.58620762081148, -0.07659045007025257],
          [36.53951572628023, -0.040884903004415905],
          [36.50930332393648, 0.019539897834616102],
          [36.43514560909273, 0.03327280649950705],
          [36.41042637081148, -0.01616566797838946],
          [36.41042637081148, -0.08208360886442194],
          [36.42690586299898, -0.13152199800077197],
          [36.44613193721773, -0.19194655915049333],
          [36.47909092159273, -0.255117461914286],
          [36.50381015987398, -0.31554151454179824],
          [36.521891174603525, -0.3636567453414319],
          [36.477945862103525, -0.3828824114710544],
          [36.455973205853525, -0.42133361223263244],
          [36.480692444134775, -0.4597846232334762],
          [36.502665100384775, -0.5119678036485986],
          [36.541117248822275, -0.5339395445329408],
          [36.601542053509775, -0.5284466165470192],
          [36.590555725384775, -0.599854283135989],
          [36.601542053509775, -0.6602754315481836],
          [36.634501037884775, -0.7124567439801078],
          [36.634501037884775, -0.7399203580052898],
          [36.609781799603525, -0.7811154583012981],
          [36.615274963666025, -0.8250564530003649],
          [36.579569397259775, -0.8085786354705773],
          [36.554850158978525, -0.8195638546725114],
          [36.546610412884775, -0.8744894906740419],
          [36.497171936322275, -0.8525193298899144],
          [36.494425354291025, -0.9101907262549881],
          [36.532877502728525, -0.959622619907611],
          [36.560343323041025, -0.9953229898513782],
          [36.568583069134775, -1.033769109507647],
          [36.565836487103525, -1.1106599349984276],
          [36.618021545697275, -1.135374425000356],
          [36.672953186322275, -1.0996756506050116],
          [36.719645080853525, -1.0667225565070466],
          [36.719645080853525, -1.0282768347963598],
          [36.760843811322275, -0.9733535762762597],
          [36.788309631634775, -0.9239218773613285],
          [36.804789123822275, -0.8580118819646405],
          [36.818522033978525, -0.8085786354705773],
          [36.832254944134775, -0.7618911271204731],
          [36.843241272259775, -0.7069640013289624],
          [36.848734436322275, -0.621825690551348],
          [36.870707092572275, -0.5806292291746851],
          [36.876200256634775, -0.5174607460543663],
          [36.873453674603525, -0.47901005216230497],
          [36.903666076947275, -0.45703812910995045],
          [36.953104553509775, -0.4378126411929898],
          [37.002543030072275, -0.42682662582607117],
          [37.013529358197275, -0.3746428454253378],
          [36.975077209759775, -0.349924101481954],
          [36.942118225384775, -0.3361914375203146],
          [36.914652405072275, -0.3636567453414319],
          [36.914652405072275, -0.3966150038667912],
          [36.876200256634775, -0.3636567453414319],
          [36.832254944134775, -0.3554171614821791],
          [36.780069885541025, -0.3718963216799069],
          [36.719645080853525, -0.39936151963705757]]]);
//Map.addLayer(table);
// Create an empty panel in which to arrange widgets.
// The layout is vertical flow by default.
var panel = ui.Panel({style: {width: '400px'}})
    .add(ui.Label({value: 'Kenya Burnt Area Products Generator',
                   style: {fontWeight: 'bold', fontSize: '24px', margin: '10px 5px', color:'red'}}))
    .add(ui.Label('This app allows you to generate Burnt area Products from' +
                  'Landsat 8 and Sentinel 2 using the delta NBR'));
// forest block selection
var selectBlock = ui.Select({
  items: [
    {label:'MtKenya', value:'MtKenya'},
    {label:'Baringo', value:'Baringo'},
    {label:'Coast', value:'Coast'},
    {label:'AoI', value:'AoI'}],
  value: 'MtKenya',
  onChange: function(value){
    var forestBlock = value;
  },
});
panel.add(ui.Label('1)Select Forest Block:',{fontWeight: 'bold'})).add(selectBlock);
// Settign the pre fire dates
panel.add(ui.Label('2)Set pre fire dates:',{fontWeight: 'bold'}));
panel.add(ui.Label('Start Date',{fontSize: '12px',color:'gray'}));
var prefireStart = ui.Textbox({
  value: '2019-01-30',
  style: {width : '90px'},
  onChange: function(text) {
    var prefire_start = text
  }
});
panel.add(prefireStart);
//var prefire_start = prefireStart.getValue(); 
panel.add(ui.Label('End Date',{fontSize: '12px',color:'gray'}));
var prefireEnd = ui.Textbox({
  value: '2019-02-26',
  style: {width : '90px'},
  onChange: function(text) {
    var prefire_end = text
  }
});
panel.add(prefireEnd);
//var prefire_end = prefireEnd.getValue();
// Now set the same parameters for AFTER the fire.
panel.add(ui.Label('3)Set post fire dates:',{fontWeight: 'bold'}));
panel.add(ui.Label('Start Date',{fontSize: '12px',color:'gray'}));
var postfireStart = ui.Textbox({
  value: '2019-03-03',
  style: {width : '90px'},
  onChange: function(text) {
    var postfire_start = text
  }
});
panel.add(postfireStart);
//var postfire_start = postfireStart.getValue();
panel.add(ui.Label('Start Date',{fontSize: '12px',color:'gray'}));
var postfireEnd = ui.Textbox({
  value: '2019-03-30',
  style: {width : '90px'},
  onChange: function(text) {
    var postfire_end = text
  }
});
panel.add(postfireEnd);
//var postfire_end = postfireEnd.getValue();
// SELECT one of the following:   'L8'  or 'S2' 
var selectPlatform = ui.Select({
  items: [
    {label:'Landsat8', value:'L8'},
    {label:'Sentinel2', value:'S2'},
    ],
  value: 'S2',
  onChange: function(value){
    var platform = value;
  }
});
panel.add(ui.Label('4)Choose sensor:',{fontWeight: 'bold'})).add(selectPlatform);
Map.centerObject(MtKenyaPolygon);
ui.root.add(panel);
var AddButton = function(){
      var button = ui.Button('Run Tool');
      button.style().set({
        position: 'top-center',
        border : '1px solid #000000',
      });
      button.onClick(function(){return runTool()});
      panel.add(button);
}
AddButton();
//var set constants
var MtKenya = 'MtKenya';
var Baringo = 'Baringo';
var Coast = 'Coast';
var AoI = 'AoI'
//*******************************************************************************************
//---->>> DO NOT EDIT THE SCRIPT PAST THIS POINT! (unless you know what you are doing) <<<---
//------------------->>> NOW HIT 'RUN' AT THE TOP OF THE SCRIPT! <<<-------------------------
//--> THE FINAL BURN SEVERITY PRODUCT WILL READY FOR DOWNLOAD ON THE RIGHT (UNDER TASKS) <---
//*******************************************************************************************
//---------------------------------- Translating User Inputs --------------------------------
var runTool = function (){
  Map.clear();
  var prefire_start = prefireStart.getValue();
  var prefire_end = prefireEnd.getValue();
  var postfire_start = postfireStart.getValue();
  var postfire_end = postfireEnd.getValue();
  var platform = selectPlatform.getValue();
  var forestBlock = selectBlock.getValue();
  // Print Satellite platform and dates to console
  if (platform == 'S2' | platform == 's2') {
    var ImCol = 'COPERNICUS/S2_SR';
    var pl = 'Sentinel-2';
  } else {
    var ImCol = 'LANDSAT/LC08/C01/T1_SR';
    var pl = 'Landsat 8';
  }
  print(ee.String('Data selected for analysis: ').cat(pl));
  print(ee.String('Fire incident occurred between ').cat(prefire_end).cat(' and ').cat(postfire_start));
  //var forestBlock = selectBlock.getValue();
  var area;
    if (forestBlock == MtKenya ) {
      area = MtKenyaPolygon;
    } else if (forestBlock == Baringo) {
      area = BaringoPolygon;
    } else if (forestBlock == Coast) {
      area = CoastPolygon;
    } else if (forestBlock == AoI) {
      area = geometry;
    }
  // Set study area as map center.
  Map.centerObject(area);
  Map.style().set('cursor', 'crosshair');
  //----------------------- Select Landsat imagery by time and location -----------------------
  var imagery = ee.ImageCollection(ImCol);
  // In the following lines imagery will be collected in an ImageCollection, depending on the
  // location of our study area, a given time frame and the ratio of cloud cover.
  var prefireImCol = ee.ImageCollection(imagery
      // Filter by dates.
      .filterDate(prefire_start, prefire_end)
      // Filter by location.
      .filterBounds(area));
  // Select all images that overlap with the study area from a given time frame 
  // As a post-fire state we select the 25th of February 2017
  var postfireImCol = ee.ImageCollection(imagery
      // Filter by dates.
      .filterDate(postfire_start, postfire_end)
      // Filter by location.
      .filterBounds(area));
  // Add the clipped images to the console on the right
  print("Pre-fire Image Collection: ", prefireImCol); 
  print("Post-fire Image Collection: ", postfireImCol);
  //------------------------------- Apply a cloud and snow mask -------------------------------
  // Function to mask clouds from the pixel quality band of Sentinel-2 SR data.
  function maskS2sr(image) {
    // Bits 10 and 11 are clouds and cirrus, respectively.
    var cloudBitMask = ee.Number(2).pow(10).int();
    var cirrusBitMask = ee.Number(2).pow(11).int();
    // Get the pixel QA band.
    var qa = image.select('QA60');
    // All flags should be set to zero, indicating clear conditions.
    var mask = qa.bitwiseAnd(cloudBitMask).eq(0)
        .and(qa.bitwiseAnd(cirrusBitMask).eq(0));
    // Return the masked image, scaled to TOA reflectance, without the QA bands.
    return image.updateMask(mask)
        .copyProperties(image, ["system:time_start"]);
  }
  // Function to mask clouds from the pixel quality band of Landsat 8 SR data.
  function maskL8sr(image) {
    // Bits 3 and 5 are cloud shadow and cloud, respectively.
    var cloudShadowBitMask = 1 << 3;
    var cloudsBitMask = 1 << 5;
    var snowBitMask = 1 << 4;
    // Get the pixel QA band.
    var qa = image.select('pixel_qa');
    // All flags should be set to zero, indicating clear conditions.
    var mask = qa.bitwiseAnd(cloudShadowBitMask).eq(0)
        .and(qa.bitwiseAnd(cloudsBitMask).eq(0))
        .and(qa.bitwiseAnd(snowBitMask).eq(0));
    // Return the masked image, scaled to TOA reflectance, without the QA bands.
    return image.updateMask(mask)
        .select("B[0-9]*")
        .copyProperties(image, ["system:time_start"]);
  }
  // Apply platform-specific cloud mask
  if (platform == 'S2' | platform == 's2') {
    var prefire_CM_ImCol = prefireImCol.map(maskS2sr);
    var postfire_CM_ImCol = postfireImCol.map(maskS2sr);
  } else {
    var prefire_CM_ImCol = prefireImCol.map(maskL8sr);
    var postfire_CM_ImCol = postfireImCol.map(maskL8sr);
  }
  //----------------------- Mosaic and clip images to study area -----------------------------
  // This is especially important, if the collections created above contain more than one image
  // (if it is only one, the mosaic() does not affect the imagery).
  var pre_mos = prefireImCol.mosaic().clip(area);
  var post_mos = postfireImCol.mosaic().clip(area);
  var pre_cm_mos = prefire_CM_ImCol.mosaic().clip(area);
  var post_cm_mos = postfire_CM_ImCol.mosaic().clip(area);
  // Add the clipped images to the console on the right
  print("Pre-fire True Color Image: ", pre_mos); 
  print("Post-fire True Color Image: ", post_mos);
  //------------------ Calculate NBR for pre- and post-fire images ---------------------------
  // Apply platform-specific NBR = (NIR-SWIR2) / (NIR+SWIR2)
  if (platform == 'S2' | platform == 's2') {
    var preNBR = pre_cm_mos.normalizedDifference(['B8', 'B12']);
    var postNBR = post_cm_mos.normalizedDifference(['B8', 'B12']);
  } else {
    var preNBR = pre_cm_mos.normalizedDifference(['B5', 'B7']);
    var postNBR = post_cm_mos.normalizedDifference(['B5', 'B7']);
  }
  // Add the NBR images to the console on the right
  //print("Pre-fire Normalized Burn Ratio: ", preNBR); 
  //print("Post-fire Normalized Burn Ratio: ", postNBR);
  //------------------ Calculate difference between pre- and post-fire images ----------------
  // The result is called delta NBR or dNBR
  var dNBR_unscaled = preNBR.subtract(postNBR);
  // Scale product to USGS standards
  var dNBR = dNBR_unscaled.multiply(1000);
  // Add the difference image to the console on the right
  print("Difference Normalized Burn Ratio: ", dNBR);
  //==========================================================================================
  //                                    ADD LAYERS TO MAP
  // Add boundary.
  //map.addLayer(table);
  Map.addLayer(area);
  //---------------------------------- True Color Imagery ------------------------------------
  // Apply platform-specific visualization parameters for true color images
  if (platform == 'S2' | platform == 's2') {
    var vis = {bands: ['B4', 'B3', 'B2'], max: 2000, gamma: 1.5};
  } else {
    var vis = {bands: ['B4', 'B3', 'B2'], min: 0, max: 4000, gamma: 1.5};
  }
  // Add the true color images to the map.
  //Map.addLayer(pre_mos, vis,'Pre-fire image');
  //Map.addLayer(post_mos, vis,'Post-fire image');
  // Add the true color images to the map.
  //Map.addLayer(pre_cm_mos, vis,'Pre-fire True Color Image - Clouds masked');
  //Map.addLayer(post_cm_mos, vis,'Post-fire True Color Image - Clouds masked');
  //--------------------------- Burn Ratio Product - Greyscale -------------------------------
  var grey = ['white', 'black'];
  // Remove comment-symbols (//) below to display pre- and post-fire NBR seperately
  //Map.addLayer(preNBR, {min: -1, max: 1, palette: grey}, 'Prefire Normalized Burn Ratio');
  //Map.addLayer(postNBR, {min: -1, max: 1, palette: grey}, 'Postfire Normalized Burn Ratio');
  Map.addLayer(dNBR, {min: -1000, max: 1000, palette: grey}, 'dNBR greyscale');
  //------------------------- Burn Ratio Product - Classification ----------------------------
  // Define an SLD style of discrete intervals to apply to the image.
  var sld_intervals =
    '<RasterSymbolizer>' +
      '<ColorMap type="intervals" extended="false" >' +
        '<ColorMapEntry color="#ffffff" quantity="-500" label="-500"/>' +
        '<ColorMapEntry color="#7a8737" quantity="-250" label="-250" />' +
        '<ColorMapEntry color="#acbe4d" quantity="-100" label="-100" />' +
        '<ColorMapEntry color="#0ae042" quantity="100" label="100" />' +
        '<ColorMapEntry color="#fff70b" quantity="270" label="270" />' +
        '<ColorMapEntry color="#ffaf38" quantity="440" label="440" />' +
        '<ColorMapEntry color="#ff641b" quantity="660" label="660" />' +
        '<ColorMapEntry color="#a41fd6" quantity="2000" label="2000" />' +
      '</ColorMap>' +
    '</RasterSymbolizer>';
  // Add the image to the map using both the color ramp and interval schemes.
  Map.addLayer(dNBR.sldStyle(sld_intervals), {}, 'dNBR classified');
  // Seperate result into 8 burn severity classes
  var thresholds = ee.Image([-1000, -251, -101, 99, 269, 439, 659, 2000]);
  var classified = dNBR.lt(thresholds).reduce('sum').toInt();
  //==========================================================================================
  //                              ADD BURNED AREA STATISTICS
  // count number of pixels in entire layer
  var allpix =  classified.updateMask(classified);  // mask the entire layer
  var pixstats = allpix.reduceRegion({
    reducer: ee.Reducer.count(),               // count pixels in a single class
    geometry: area,
    scale: 30
    });
  var allpixels = ee.Number(pixstats.get('sum')); // extract pixel count as a number
  // create an empty list to store area values in
  var arealist = [];
  // create a function to derive extent of one burn severity class
  // arguments are class number and class name
  var areacount = function(cnr, name) {
   var singleMask =  classified.updateMask(classified.eq(cnr));  // mask a single class
   var stats = singleMask.reduceRegion({
    reducer: ee.Reducer.count(),               // count pixels in a single class
    geometry: area,
    scale: 30
    });
  var pix =  ee.Number(stats.get('sum'));
  var hect = pix.multiply(900).divide(10000);                // Landsat pixel = 30m x 30m --> 900 sqm
  var perc = pix.divide(allpixels).multiply(10000).round().divide(100);   // get area percent by class and round to 2 decimals
  arealist.push({Class: name, Pixels: pix, Hectares: hect, Percentage: perc});
  };
  // severity classes in different order
  var names2 = ['NA', 'High Severity', 'Moderate-high Severity',
  'Moderate-low Severity', 'Low Severity','Unburned', 'Enhanced Regrowth, Low', 'Enhanced Regrowth, High'];
  // execute function for each class
  for (var i = 0; i < 8; i++) {
    areacount(i, names2[i]);
    }
  print('Burned Area by Severity Class', arealist, '--> click list objects for individual classes');
  //==========================================================================================
  //                                    ADD A LEGEND
  // set position of panel
  var legend = ui.Panel({
    style: {
      position: 'bottom-left',
      padding: '8px 15px'
    }});
  // Create legend title
  var legendTitle = ui.Label({
    value: 'dNBR Classes',
    style: {fontWeight: 'bold',
      fontSize: '18px',
      margin: '0 0 4px 0',
      padding: '0'
      }});
  // Add the title to the panel
  legend.add(legendTitle);
  // Creates and styles 1 row of the legend.
  var makeRow = function(color, name) {
        // Create the label that is actually the colored box.
        var colorBox = ui.Label({
          style: {
            backgroundColor: '#' + color,
            // Use padding to give the box height and width.
            padding: '8px',
            margin: '0 0 4px 0'
          }});
        // Create the label filled with the description text.
        var description = ui.Label({
          value: name,
          style: {margin: '0 0 4px 6px'}
        });
        // return the panel
        return ui.Panel({
          widgets: [colorBox, description],
          layout: ui.Panel.Layout.Flow('horizontal')
        })};
  //  Palette with the colors
  var palette =['7a8737', 'acbe4d', '0ae042', 'fff70b', 'ffaf38', 'ff641b', 'a41fd6', 'ffffff'];
  // name of the legend
  var names = ['Enhanced Regrowth, High','Enhanced Regrowth, Low','Unburned', 'Low Severity',
  'Moderate-low Severity', 'Moderate-high Severity', 'High Severity', 'NA'];
  // Add color and and names
  for (var i = 0; i < 8; i++) {
    legend.add(makeRow(palette[i], names[i]));
    }  
  // add legend to map (alternatively you can also print the legend to the console)
  Map.add(legend);
  //===================TEMPORAL AND SPATIAL VALIDATION USING MCD64A1 PRODUCT=================
  var modisFireMonthly = 'MODIS/006/MCD64A1';
  var ModisfireDaily = 'FIRMS';
  var firmsCollection = ee.ImageCollection(ModisfireDaily)
  var modisCollection = ee.ImageCollection(modisFireMonthly);
  var modisDailyFilter = ee.ImageCollection(firmsCollection
  //filter by dates
  .filterDate(prefire_end,postfire_start)
  //filter by area
  .filterBounds(area));
  var modisFiltered = ee.ImageCollection(modisCollection
  //filter by fire dates
  .filterDate(prefire_end,postfire_start)
  //filter by area
  .filterBounds(area)
  );
  var imageModis = modisFiltered.first().clip(area);
  var imageModisdaily = modisDailyFilter.mosaic().clip(area);
  print(imageModis);
  print(imageModisdaily);
  Map.addLayer(imageModis,{min:0,max:85},'Modis_Burnt Area');
  Map.addLayer(imageModisdaily,{min:0,max:85},'Modis_Burnt Area_daily');
  //==========================================================================================
  //                                  PREPARE FILE EXPORT
  var id = dNBR.id().getInfo();
  Export.image.toDrive({image: dNBR, scale: 30, description: id, fileNamePrefix: 'dNBR',
    region: area, maxPixels: 1e10});
  // Downloads will be availible in the 'Tasks'-tab on the right.
}