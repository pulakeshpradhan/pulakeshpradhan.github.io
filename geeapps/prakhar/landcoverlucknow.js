var location_lucknow = 
    /* color: #d63000 */
    /* displayProperties: [
      {
        "type": "rectangle"
      }
    ] */
    ee.Geometry.Polygon(
        [[[80.72405866562576, 27.04540274432372],
          [80.72405866562576, 26.669279709241703],
          [81.21295026718826, 26.669279709241703],
          [81.21295026718826, 27.04540274432372]]], null, false),
    builtupl7 = 
    /* color: #98ff00 */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[80.98947863786157, 26.881880519605904],
                  [80.98947863786157, 26.87920103229874],
                  [80.99617343156274, 26.87920103229874],
                  [80.99617343156274, 26.881880519605904]]], null, false),
            {
              "class": 1,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[80.99952082841332, 26.885784801678987],
                  [80.99952082841332, 26.883411626690496],
                  [81.00200991837914, 26.883411626690496],
                  [81.00200991837914, 26.885784801678987]]], null, false),
            {
              "class": 1,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[80.93031705956446, 26.844132174805463],
                  [80.93031705956446, 26.842600535954265],
                  [80.93323530297266, 26.842600535954265],
                  [80.93323530297266, 26.844132174805463]]], null, false),
            {
              "class": 1,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[80.9176999483584, 26.85217293879132],
                  [80.9176999483584, 26.84979905837407],
                  [80.92113317589747, 26.84979905837407],
                  [80.92113317589747, 26.85217293879132]]], null, false),
            {
              "class": 1,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[80.93701185326563, 26.83746939483047],
                  [80.93701185326563, 26.83616742651759],
                  [80.93804182152735, 26.83616742651759],
                  [80.93804182152735, 26.83746939483047]]], null, false),
            {
              "class": 1,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[80.9982949648379, 26.856614258739068],
                  [80.9982949648379, 26.854853066513016],
                  [80.99932493309962, 26.854853066513016],
                  [80.99932493309962, 26.856614258739068]]], null, false),
            {
              "class": 1,
              "system:index": "5"
            })]),
    riverl7 = /* color: #0b4a8b */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[80.94321147470919, 26.860108222602697],
                  [80.94503537683931, 26.860787784764813],
                  [80.94508902101961, 26.86091221119743],
                  [80.94296471147982, 26.86033793421282]]]),
            {
              "class": 2,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[80.94618336229769, 26.860835641101254],
                  [80.94796434908358, 26.86120891983064],
                  [80.94796434908358, 26.86139077312438],
                  [80.94614044695345, 26.861055779988092]]]),
            {
              "class": 2,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[80.94027177362887, 26.859304228294214],
                  [80.94185964136568, 26.860108222602697],
                  [80.94185964136568, 26.860261363727925],
                  [80.94001428156344, 26.859371228038153]]]),
            {
              "class": 2,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([80.93277231722323, 26.859466941889245]),
            {
              "class": 2,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Point([80.93308345346895, 26.859122371646386]),
            {
              "class": 2,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Point([80.93374864130465, 26.85862465722067]),
            {
              "class": 2,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([80.93635574846712, 26.85836622771297]),
            {
              "class": 2,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([80.93128100901095, 26.860634644352185]),
            {
              "class": 2,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([80.93106643228975, 26.86094092497014]),
            {
              "class": 2,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Point([80.93045488863436, 26.86162048213024]),
            {
              "class": 2,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Point([80.93005792170015, 26.8623000352081]),
            {
              "class": 2,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Point([80.92976824312655, 26.86265416688421]),
            {
              "class": 2,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Point([80.92899576693026, 26.86392711753774]),
            {
              "class": 2,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Point([80.92494026689974, 26.867870302322697]),
            {
              "class": 2,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Point([80.92418924837557, 26.868444541065823]),
            {
              "class": 2,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Point([80.92034832506624, 26.870722326024246]),
            {
              "class": 2,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Point([80.96930400400606, 26.85630432565325]),
            {
              "class": 2,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Point([80.96917525797335, 26.855969317456047]),
            {
              "class": 2,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Point([80.96907869844881, 26.855806598830934]),
            {
              "class": 2,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Point([80.96930400400606, 26.85590231569757]),
            {
              "class": 2,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Point([80.96961514025179, 26.856017175830665]),
            {
              "class": 2,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Point([80.96957222490755, 26.856275610703786]),
            {
              "class": 2,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Point([80.9692396309897, 26.85460055937413]),
            {
              "class": 2,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Point([80.96992627649752, 26.854734564392988]),
            {
              "class": 2,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Point([80.96938983469454, 26.854160256051948]),
            {
              "class": 2,
              "system:index": "24"
            })]),
    vegetationl7 = /* color: #ffc82d */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([81.01347462206331, 26.809144564805504]),
            {
              "class": 3,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[81.01450459032503, 26.80627183799471],
                  [81.01931110887972, 26.807076208838048],
                  [81.02158562212435, 26.81151929734913],
                  [81.01871029406038, 26.812361932424164],
                  [81.01394669084993, 26.80872323609446]]]),
            {
              "class": 3,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[81.01935402422396, 26.812706644967864],
                  [81.02218643694368, 26.81266834362588],
                  [81.02227226763216, 26.815349406312492],
                  [81.01956860094515, 26.81519620443865]]]),
            {
              "class": 3,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[81.00562111406771, 26.82683895666528],
                  [81.007294812493, 26.82787295905529],
                  [81.00596443682161, 26.83028559459741],
                  [81.00459114580599, 26.829557979766015]]]),
            {
              "class": 3,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[80.99991337328402, 26.814698296918557],
                  [81.00132957964388, 26.81699631337905],
                  [80.9999992039725, 26.818566597830813],
                  [80.99854008226839, 26.816881413662554]]]),
            {
              "class": 3,
              "system:index": "4"
            })]),
    fallowlandl7 = /* color: #00ffff */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[80.98437801866976, 26.810638353983208],
                  [80.98570839434115, 26.814774898217863],
                  [80.98360554247347, 26.814889800069732],
                  [80.98180309801546, 26.81155759907932]]]),
            {
              "class": 4,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[80.9608818676993, 26.790776095933726],
                  [80.96150414019075, 26.79106341113648],
                  [80.95974461107699, 26.79355344575239],
                  [80.95918671160189, 26.792078585693098]]]),
            {
              "class": 4,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[80.93902707275561, 26.936905117079252],
                  [80.93915581878832, 26.93832070168746],
                  [80.93842625793627, 26.94138136440701],
                  [80.93615174469164, 26.93740248666948]]]),
            {
              "class": 4,
              "system:index": "2"
            })]),
    builtupl8 = /* color: #bf04c2 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[80.9652483480852, 26.90346154636599],
                  [80.97022652801684, 26.900170224664144],
                  [80.9707415121477, 26.905068901169603],
                  [80.96215844330004, 26.907977389793487]]]),
            {
              "class": 1,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[81.00885033783129, 26.88248729671776],
                  [81.01236939605883, 26.88195140721485],
                  [81.01339936432055, 26.88478393723597],
                  [81.00816369232348, 26.885702580375188]]]),
            {
              "class": 1,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[80.88161665120936, 26.86005410699301],
                  [80.88479238668299, 26.860551815130133],
                  [80.88479238668299, 26.862772332448802],
                  [80.88178831258631, 26.86315517585698]]]),
            {
              "class": 1,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[80.87655264058924, 26.86556705953267],
                  [80.87917047658777, 26.864150562654224],
                  [80.8799858681283, 26.866371009328983],
                  [80.87711054006434, 26.867251519215632]]]),
            {
              "class": 1,
              "system:index": "3"
            })]),
    riverl8 = /* color: #ff0000 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[80.88474350164074, 26.894620059134457],
                  [80.88503318021435, 26.894524375041524],
                  [80.88560180852551, 26.897155658064225],
                  [80.88535504529614, 26.897155658064225]]]),
            {
              "class": 2,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([80.87855296323437, 26.901002005131634]),
            {
              "class": 2,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([80.87919669339794, 26.900982869400824]),
            {
              "class": 2,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([80.87990479657788, 26.900982869400824]),
            {
              "class": 2,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Point([80.88056998441357, 26.900982869400824]),
            {
              "class": 2,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Point([80.880827476479, 26.900868054947775]),
            {
              "class": 2,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([80.88151412198681, 26.901002005131634]),
            {
              "class": 2,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([80.88597731778759, 26.901212497956713]),
            {
              "class": 2,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([80.88597731778759, 26.900734104605014]),
            {
              "class": 2,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Point([80.88595586011547, 26.90017916577822]),
            {
              "class": 2,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Point([80.88589148709912, 26.89929891239084]),
            {
              "class": 2,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Point([80.88556962201733, 26.898610013649826]),
            {
              "class": 2,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Point([80.88561253736157, 26.897882838197916]),
            {
              "class": 2,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Point([80.8852048415913, 26.905651891592207]),
            {
              "class": 2,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Point([80.87381081769604, 26.90253285309196]),
            {
              "class": 2,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Point([80.89294277590193, 26.88789355851904]),
            {
              "class": 2,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Point([80.89360796373762, 26.88789355851904]),
            {
              "class": 2,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Point([80.89412294786848, 26.8879126964673]),
            {
              "class": 2,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Point([80.89489542406477, 26.8879126964673]),
            {
              "class": 2,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Point([80.89577518862166, 26.8879126964673]),
            {
              "class": 2,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Point([80.89686952989973, 26.8879701102926]),
            {
              "class": 2,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Point([80.90536676805891, 26.887051485586888]),
            {
              "class": 2,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Point([80.9064825670091, 26.887434246788512]),
            {
              "class": 2,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Point([80.90751253527083, 26.88808493785572]),
            {
              "class": 2,
              "system:index": "23"
            })]),
    vegetationl8 = /* color: #00ff00 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([80.98702274404968, 26.822081688348742]),
            {
              "class": 3,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([80.98852478109802, 26.827864564074005]),
            {
              "class": 3,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[80.98882518850769, 26.829664471781147],
                  [80.98667942129578, 26.821162528600272],
                  [80.9883960350653, 26.820894438935973],
                  [80.9904130562445, 26.828707077624706]]]),
            {
              "class": 3,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[80.99509082876648, 26.825681658909616],
                  [80.994103775849, 26.819936970671765],
                  [80.99766574942078, 26.82234977520434]]]),
            {
              "class": 3,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[80.99015556417908, 26.82993254069498],
                  [80.99178634726013, 26.82717523014482],
                  [80.9926446541449, 26.832153658719744]]]),
            {
              "class": 3,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[80.96968494497742, 26.82041570581506],
                  [80.9731396301886, 26.81999441899575],
                  [80.97133718573059, 26.82439870379527],
                  [80.96938453756775, 26.82181360085892]]]),
            {
              "class": 3,
              "system:index": "5"
            })]),
    fallowlandl8 = /* color: #0000ff */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[81.0323413475653, 26.84101450720766],
                  [81.0323413475653, 26.83994233266399],
                  [81.03455148779358, 26.83986574837954],
                  [81.03538833700622, 26.840899631849325]]]),
            {
              "class": 4,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[81.03431545340027, 26.838448929773843],
                  [81.03427253805603, 26.836898067464535],
                  [81.0350235565802, 26.836974653756094],
                  [81.03476606451477, 26.838276612788324]]]),
            {
              "class": 4,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[80.95724608564387, 26.7545583596172],
                  [80.96179511213313, 26.7545583596172],
                  [80.96162345075618, 26.756321110192527],
                  [80.95673110151301, 26.756129508193585]]]),
            {
              "class": 4,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[80.96252467298518, 26.750994454287074],
                  [80.9611942973138, 26.753063832277743],
                  [80.95956351423274, 26.751071098588216]]]),
            {
              "class": 4,
              "system:index": "3"
            })]);
// 10/29/2019 for remote sensing lecture, MOLUSC
var location = location_lucknow;
// bands to be considered
var Landsat_8_BANDS = ['B2', 'B3', 'B4', 'B5', 'B6', 'B7' ];
var Landsat_7_BANDS = ['B1',   'B2',    'B3',  'B4',  'B5',  'B7'];
var STD_NAMES       = ['blue', 'green', 'red', 'nir', 'swir1', 'swir2'];
var trainbands =['blue', 'green', 'red', 'nir', 'swir1', 'swir2','NDVI' ];
// make ndvi function
function addNDVI(image) {
  return image
    .addBands(image.normalizedDifference(['nir', 'red']).rename('NDVI'))
  ;
}
var cloudMaskL457 = function(image) {
  var qa = image.select('pixel_qa');
  // If the cloud bit (5) is set and the cloud confidence (7) is high
  // or the cloud shadow bit is set (3), then it's a bad pixel.
  var cloud = qa.bitwiseAnd(1 << 5)
                  .and(qa.bitwiseAnd(1 << 7))
                  .or(qa.bitwiseAnd(1 << 3));
  // Remove edge pixels that don't occur in all bands
  var mask2 = image.mask().reduce(ee.Reducer.min());
  return image.updateMask(cloud.not()).updateMask(mask2);
};
// L7 portion
// --- Step 1. Input image preparation ---
/// Initial Landsat functions
function getlandsat7(start_date, end_date, location){
  var l7_l1t = ee.ImageCollection('LANDSAT/LE07/C01/T1_SR')
  .filterDate(start_date, end_date)
  .filterBounds(location).map(cloudMaskL457).select(Landsat_7_BANDS, STD_NAMES).median(); 
  return l7_l1t;
}
// Initialze dates
var start_date = ee.Date.fromYMD(2001, 1, 01); 
var end_date = ee.Date.fromYMD(2002, 2, 28);
// Get data
var l7_l1t = getlandsat7(start_date, end_date, location);
Map.addLayer(l7_l1t, {bands: ['red', 'green', 'blue'], min:0, max:2000}, 'L7', 0);
// add a new band as  NDVI
var newComposite = addNDVI(l7_l1t);
var ndviLayer = newComposite.select('NDVI');
var training_pts = builtupl7.merge(riverl7).merge(vegetationl7).merge(fallowlandl7);
var training = newComposite.select(trainbands).sampleRegions({
  collection: training_pts, 
  properties: ['class'], 
  scale: 30
});
var classifier = ee.Classifier.cart().train({
  features: training, 
  classProperty: 'class', 
  inputProperties: trainbands
});
var classifiedL7 = newComposite.select(trainbands).classify(classifier);
// Map.addLayer(classifiedL7, {min: 0, max: 5, palette: ['red', 'blue', 'blue', 'green', 'yellow', 'black']}, 'cartL7', 0);
// Landsat 8 portion
// ---------------------------------------
// cliud masking
function maskL8sr(image) {
  // Bits 3 and 5 are cloud shadow and cloud, respectively.
  var cloudShadowBitMask = (1 << 3);
  var cloudsBitMask = (1 << 5);
  // Get the pixel QA band.
  var qa = image.select('pixel_qa');
  // Both flags should be set to zero, indicating clear conditions.
  var mask = qa.bitwiseAnd(cloudShadowBitMask).eq(0)
                 .and(qa.bitwiseAnd(cloudsBitMask).eq(0));
  return image.updateMask(mask);
}
/// Initial Landsat functions
function getlandsat8(start_date, end_date, location){
  var l8_l1t = ee.ImageCollection('LANDSAT/LC08/C01/T1_SR')
  .filterDate(start_date, end_date)
  .map(maskL8sr)
  .filterBounds(location).select(Landsat_8_BANDS, STD_NAMES).median(); 
  return l8_l1t;
}
// Initialze dates
var start_date = ee.Date.fromYMD(2016, 1, 1); 
var end_date = ee.Date.fromYMD(2016, 3, 31);
var start_date = ee.Date.fromYMD(2014, 2, 20); 
var end_date = ee.Date.fromYMD(2015, 2, 28);
// Get data
var l8_l1t = getlandsat8(start_date, end_date, location);
Map.addLayer(l8_l1t, {bands: ['red', 'green', 'blue'], min:0, max:2000}, 'L8', 1);
// add a new band as  NDVI
var newComposite = addNDVI(l8_l1t);
var ndviLayer = newComposite.select('NDVI');
var training_pts = builtupl8.merge(riverl8).merge(vegetationl8).merge(fallowlandl8);
var training = newComposite.select(trainbands).sampleRegions({
  collection: training_pts, 
  properties: ['class'], 
  scale: 30
});
// print(training)
var classifier = ee.Classifier.cart().train({
  features: training, 
  classProperty: 'class', 
  inputProperties: trainbands
});
// print(classifier.explain());
var classifiedL8 = newComposite.select(trainbands).classify(classifier);
Map.addLayer(classifiedL8, {min: 0, max: 5, palette: ['red', 'blue', 'blue', 'green', 'yellow', 'red']}, 'cartL8', 0);
// some NTL
var DMSP = ee.ImageCollection("NOAA/DMSP-OLS/CALIBRATED_LIGHTS_V4");
var DMSP2010 = DMSP.filterDate("2009-01-01", "2011-12-31").select("avg_vis").mean();
var DMSP2001 = DMSP.filterDate("2001-01-01", "2003-12-31").select("avg_vis").mean();
// ------------------------------------------------------------------------------
//            download images
//-------------------------------------------------------------------------------
Export.image.toDrive({
  image: classifiedL7,
  region: location,
  description: 'Lucknow_L7',
  scale: 30.0
});
Export.image.toDrive({
  image: classifiedL8,
  region: location,
  description: 'Lucknow_L8',
  scale: 30.0
});
Export.image.toDrive({
  image: DMSP2010,
  region: location,
  description: 'Lucknow_DMSP2010',
  scale: 30.0
});
Export.image.toDrive({
  image: DMSP2001,
  region: location,
  description: 'Lucknow_DMSP2001',
  scale: 30.0
});
// ------------------------------------------------------------------------------
//             make split map
//-------------------------------------------------------------------------------
/*
 * Set up the maps and control widgets
 */
var images = {
  'Landsat 7': classifiedL7.visualize({min: 1, max: 4, palette: ['red', 'blue',  'green', 'yellow']}),
  'Landsat 8': classifiedL8.visualize({min: 1, max: 4, palette: ['red', 'blue', 'green', 'yellow' ]})
  };
// Create the left map, and have it display layer 0.
var leftMap = ui.Map();
leftMap.setControlVisibility(false);
var leftSelector = addLayerSelector(leftMap, 0, 'top-left');
// Create the right map, and have it display layer 1.
var rightMap = ui.Map();
rightMap.setControlVisibility(false);
var rightSelector = addLayerSelector(rightMap, 1, 'top-right');
// Adds a layer selection widget to the given map, to allow users to change
// which image is displayed in the associated map.
function addLayerSelector(mapToChange, defaultValue, position) {
  var label = ui.Label('Choose an image to visualize');
  // This function changes the given map to show the selected image.
  function updateMap(selection) {
    mapToChange.layers().set(0, ui.Map.Layer(images[selection]));
  }
  // Configure a selection dropdown to allow the user to choose between images,
  // and set the map to update when a user makes a selection.
  var select = ui.Select({items: Object.keys(images), onChange: updateMap});
  select.setValue(Object.keys(images)[defaultValue], true);
  var controlPanel =
      ui.Panel({widgets: [label, select], style: {position: position}});
  mapToChange.add(controlPanel);
}
/*
 * Tie everything together
 */
// Create a SplitPanel to hold the adjacent, linked maps.
var splitPanel = ui.SplitPanel({
  firstPanel: leftMap,
  secondPanel: rightMap,
  wipe: true,
  style: {stretch: 'both'}
});
// Set the SplitPanel as the only thing in the UI root.
ui.root.widgets().reset([splitPanel]);
var linker = ui.Map.Linker([leftMap, rightMap]);
leftMap.centerObject(location, 12);