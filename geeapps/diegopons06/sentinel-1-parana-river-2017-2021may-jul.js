var pt = ui.import && ui.import("pt", "geometry", {
      "geometries": [
        {
          "type": "Point",
          "coordinates": [
            -60.81396484375001,
            -32.460798834618814
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -60.6939603274181,
            -32.260294878125876
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -60.6335355227306,
            -31.53276376381904
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -59.6227933352306,
            -29.459791155089675
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -58.9636136477306,
            -26.668183672218372
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -57.4255277102306,
            -24.80778638924962
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -60.8532620852306,
            -21.372378027211408
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -59.3591214602306,
            -20.67504423653253
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -54.7888089602306,
            -21.003607542789613
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -51.2292386477306,
            -22.22921731246652
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -51.8444730227306,
            -24.44825780840948
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -53.2067777102306,
            -26.82515715059659
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -56.0632230227306,
            -27.879004416297306
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -55.4479886477306,
            -23.161682560776086
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -54.4811917727306,
            -24.408246487972143
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -57.735633184805664,
            -20.932089697302708
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -58.087195684805664,
            -22.117596569796966
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -61.427039434805664,
            -22.60528330405734
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -59.669226934805664,
            -22.524120997457473
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -61.427039434805664,
            -23.937455301849244
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -61.119422247305664,
            -25.01731718636801
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -60.899695684805664,
            -26.32433348163884
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -56.285437872305664,
            -24.25837819925076
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -55.274695684805664,
            -26.206108948833215
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -54.044226934805664,
            -23.050817229100456
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -56.505164434805664,
            -24.218306860991202
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -57.867469122305664,
            -27.226688249396737
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -60.460242559805664,
            -22.929452772191766
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -60.196570684805664,
            -23.575461253459395
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -60.636023809805664,
            -30.00384378780368
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -59.713172247305664,
            -30.421577370921764
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -57.735633184805664,
            -28.77863196817251
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -57.384070684805664,
            -27.30481344645813
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -61.295203497305664,
            -27.109397646063794
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -58.772975215903784,
            -25.419889032887852
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -59.256373653403784,
            -25.934759954065523
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -59.454127559653784,
            -33.73935127374835
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -58.838893184653784,
            -33.994775502789686
          ]
        }
      ],
      "displayProperties": [],
      "properties": {},
      "color": "#0B4A8B",
      "mode": "Geometry",
      "shown": true,
      "locked": false
    }) || /* color: #0B4A8B */ee.Geometry.MultiPoint(
        [[-60.81396484375001, -32.460798834618814],
         [-60.6939603274181, -32.260294878125876],
         [-60.6335355227306, -31.53276376381904],
         [-59.6227933352306, -29.459791155089675],
         [-58.9636136477306, -26.668183672218372],
         [-57.4255277102306, -24.80778638924962],
         [-60.8532620852306, -21.372378027211408],
         [-59.3591214602306, -20.67504423653253],
         [-54.7888089602306, -21.003607542789613],
         [-51.2292386477306, -22.22921731246652],
         [-51.8444730227306, -24.44825780840948],
         [-53.2067777102306, -26.82515715059659],
         [-56.0632230227306, -27.879004416297306],
         [-55.4479886477306, -23.161682560776086],
         [-54.4811917727306, -24.408246487972143],
         [-57.735633184805664, -20.932089697302708],
         [-58.087195684805664, -22.117596569796966],
         [-61.427039434805664, -22.60528330405734],
         [-59.669226934805664, -22.524120997457473],
         [-61.427039434805664, -23.937455301849244],
         [-61.119422247305664, -25.01731718636801],
         [-60.899695684805664, -26.32433348163884],
         [-56.285437872305664, -24.25837819925076],
         [-55.274695684805664, -26.206108948833215],
         [-54.044226934805664, -23.050817229100456],
         [-56.505164434805664, -24.218306860991202],
         [-57.867469122305664, -27.226688249396737],
         [-60.460242559805664, -22.929452772191766],
         [-60.196570684805664, -23.575461253459395],
         [-60.636023809805664, -30.00384378780368],
         [-59.713172247305664, -30.421577370921764],
         [-57.735633184805664, -28.77863196817251],
         [-57.384070684805664, -27.30481344645813],
         [-61.295203497305664, -27.109397646063794],
         [-58.772975215903784, -25.419889032887852],
         [-59.256373653403784, -25.934759954065523],
         [-59.454127559653784, -33.73935127374835],
         [-58.838893184653784, -33.994775502789686]]);
// Load Sentinel-1 images to map Seine-et-Marne flooding, France, May-June 2016.
// This script was originally written by Simon Ilyushchenko (GEE team)
// Default location
// Grand Morin near Coulommiers
// Load Sentinel-1 C-band SAR Ground Range collection (log scaling, VV co-polar)
var collection = ee.ImageCollection('COPERNICUS/S1_GRD')
.filterBounds(pt)
.filter(ee.Filter.listContains('transmitterReceiverPolarisation', 'VV'))
.select('VV');
// Filter by date
var before = collection.filterDate('2017-05-01', '2017-05-17').mosaic();
var after = collection.filterDate('2021-05-30', '2021-07-01').mosaic();
var diferecia=before.subtract(after); 
var agua= diferecia.gt(14);
// Threshold smoothed radar intensities to identify "flooded" areas.
var SMOOTHING_RADIUS = 100; 
var DIFF_UPPER_THRESHOLD = -3;
var diff_smoothed = after.focal_median(SMOOTHING_RADIUS, 'circle', 'meters')
.subtract(before.focal_median(SMOOTHING_RADIUS, 'circle', 'meters'));
var diff_thresholded = diff_smoothed.lt(DIFF_UPPER_THRESHOLD);
// Display map
Map.centerObject(pt, 13);
Map.addLayer(before, {min:-30,max:0}, '2017');
Map.addLayer(after, {min:-30,max:0}, '2021');
//Map.addLayer(before.subtract(after), {min:-10,max:10}, 'Antes - despues', 0);
//Map.addLayer(diff_smoothed, {min:-10,max:10}, 'diff smoothed', 0);
//Map.addLayer(agua, {palette:"0000FF"}, 'Agua perdida');
//Map.addLayer(diff_thresholded.updateMask(diff_thresholded, {palette:"0000FF"},'flooded areas - blue',1));