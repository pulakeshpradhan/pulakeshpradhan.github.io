var L8 = ui.import && ui.import("L8", "imageCollection", {
      "id": "LANDSAT/LC08/C01/T1_SR"
    }) || ee.ImageCollection("LANDSAT/LC08/C01/T1_SR"),
    SRTM = ui.import && ui.import("SRTM", "image", {
      "id": "USGS/SRTMGL1_003"
    }) || ee.Image("USGS/SRTMGL1_003"),
    L7 = ui.import && ui.import("L7", "imageCollection", {
      "id": "LANDSAT/LE07/C01/T1_SR"
    }) || ee.ImageCollection("LANDSAT/LE07/C01/T1_SR"),
    geometry = ui.import && ui.import("geometry", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                115.18070563156027,
                -8.74255840332603
              ],
              [
                115.18068029411653,
                -8.750278089592989
              ],
              [
                115.17895103579939,
                -8.759906486749735
              ],
              [
                115.17920535182579,
                -8.765452257974607
              ],
              [
                115.1784297392511,
                -8.769640760825183
              ],
              [
                115.17353427349384,
                -8.773659628766366
              ],
              [
                115.17134403733633,
                -8.778468338030013
              ],
              [
                115.17007729718092,
                -8.780787869693617
              ],
              [
                115.17785535900597,
                -8.78186281541132
              ],
              [
                115.18546170201813,
                -8.77801776950431
              ],
              [
                115.18803663089722,
                -8.779374977059831
              ],
              [
                115.18992491206153,
                -8.781750078302967
              ],
              [
                115.19232817900757,
                -8.784294812761551
              ],
              [
                115.19490310790081,
                -8.785143053716961
              ],
              [
                115.19833634644212,
                -8.784464461156492
              ],
              [
                115.20331454230222,
                -8.787009176997659
              ],
              [
                115.20949437165598,
                -8.79091104067045
              ],
              [
                115.22116738270668,
                -8.799393211189102
              ],
              [
                115.22236901619834,
                -8.796848580437116
              ],
              [
                115.2209957207762,
                -8.79209855625307
              ],
              [
                115.22872050749582,
                -8.790232458645974
              ],
              [
                115.22803385978176,
                -8.788366351657567
              ],
              [
                115.22700388821622,
                -8.787009177038822
              ],
              [
                115.22666056434517,
                -8.78005357913676
              ],
              [
                115.22460062121732,
                -8.77411577043596
              ],
              [
                115.22511560697001,
                -8.760712938935498
              ],
              [
                115.22374231156091,
                -8.755623129487118
              ],
              [
                115.22442895925727,
                -8.753587186207548
              ],
              [
                115.23146709817718,
                -8.75443549724034
              ],
              [
                115.24873462083423,
                -8.736450888992481
              ],
              [
                115.2537128165409,
                -8.730003365277408
              ],
              [
                115.2495929303485,
                -8.726949236283929
              ],
              [
                115.24409974878972,
                -8.724743460934436
              ],
              [
                115.23860656722825,
                -8.72084090334623
              ],
              [
                115.24032318644123,
                -8.718974448315377
              ],
              [
                115.24890628251609,
                -8.713884068988344
              ],
              [
                115.24804797288536,
                -8.71201757923795
              ],
              [
                115.2465030155327,
                -8.706587737899035
              ],
              [
                115.24324143901994,
                -8.706757421663657
              ],
              [
                115.23774825753537,
                -8.708793620524848
              ],
              [
                115.23380003333595,
                -8.709811715801708
              ],
              [
                115.2313967664451,
                -8.713884069116228
              ],
              [
                115.22144037495444,
                -8.715071830498529
              ],
              [
                115.21732048881512,
                -8.718295735161536
              ],
              [
                115.21371558843543,
                -8.72101058066864
              ],
              [
                115.21199896921223,
                -8.719653160373626
              ],
              [
                115.20581914001086,
                -8.717107984012166
              ],
              [
                115.19878100116964,
                -8.719653160303942
              ],
              [
                115.18041317537357,
                -8.724743460756901
              ],
              [
                115.17972652762867,
                -8.728306629919977
              ],
              [
                115.17835323214126,
                -8.734923853823792
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                115.45675082352561,
                -8.662579346611075
              ],
              [
                115.45323176529807,
                -8.664615778825477
              ],
              [
                115.45220179703635,
                -8.665803692523713
              ],
              [
                115.45134349015159,
                -8.667585556032712
              ],
              [
                115.4509143367092,
                -8.67004621079995
              ],
              [
                115.4509143367092,
                -8.672337150753012
              ],
              [
                115.45151515152854,
                -8.673440190932766
              ],
              [
                115.45563502457541,
                -8.673015945093118
              ],
              [
                115.45949740555686,
                -8.672337150753012
              ],
              [
                115.46318812516135,
                -8.672337150753012
              ],
              [
                115.46490473893088,
                -8.673270492654408
              ],
              [
                115.46499056961936,
                -8.675222018226151
              ],
              [
                115.46370310929221,
                -8.676834140396828
              ],
              [
                115.46198649552268,
                -8.679294734574118
              ],
              [
                115.45769496109885,
                -8.683961334392853
              ],
              [
                115.45434756424827,
                -8.68608249693995
              ],
              [
                115.45245928910178,
                -8.688033955887684
              ],
              [
                115.4509143367092,
                -8.689391486556959
              ],
              [
                115.44954104569358,
                -8.69091870268399
              ],
              [
                115.44936938431663,
                -8.692700446967505
              ],
              [
                115.45022769120139,
                -8.693379204466382
              ],
              [
                115.4509143367092,
                -8.69541546958575
              ],
              [
                115.45185847428245,
                -8.697112348730696
              ],
              [
                115.45872492936057,
                -8.694057960735769
              ],
              [
                115.46464724686545,
                -8.68794911005765
              ],
              [
                115.47048373368186,
                -8.679379582361516
              ],
              [
                115.47340197709006,
                -8.674458378992735
              ],
              [
                115.47357363846702,
                -8.671573505654234
              ],
              [
                115.47297282364768,
                -8.668603759959463
              ],
              [
                115.47125620987815,
                -8.666482498665978
              ],
              [
                115.46662135270041,
                -8.664955183122263
              ],
              [
                115.46250147965354,
                -8.663767266743102
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                114.43799189421274,
                -8.15590216379207
              ],
              [
                114.43498782011606,
                -8.158281108735276
              ],
              [
                114.43146876188852,
                -8.163463761185428
              ],
              [
                114.43018130156138,
                -8.167881706899683
              ],
              [
                114.43018130156138,
                -8.173319111424417
              ],
              [
                114.43387202116587,
                -8.18266447726653
              ],
              [
                114.43696192595102,
                -8.185977781629374
              ],
              [
                114.43927935453989,
                -8.189121147469914
              ],
              [
                114.44648913237192,
                -8.186402562246915
              ],
              [
                114.45369891020395,
                -8.181390122097907
              ],
              [
                114.45678881498911,
                -8.1775670321444
              ],
              [
                114.46442774626352,
                -8.174933326627892
              ],
              [
                114.46992091032602,
                -8.173234152548565
              ],
              [
                114.47635821196177,
                -8.169241064976266
              ],
              [
                114.47850397917368,
                -8.165927621554939
              ],
              [
                114.47781733366587,
                -8.163378800211921
              ],
              [
                114.47472742888071,
                -8.161764538281647
              ],
              [
                114.4696634182606,
                -8.160235231488622
              ],
              [
                114.464513576952,
                -8.159725461256834
              ],
              [
                114.46039370390513,
                -8.158535994853686
              ],
              [
                114.45670298430063,
                -8.15845103283229
              ],
              [
                114.4509523281727,
                -8.157856298176693
              ],
              [
                114.44863489958384,
                -8.156072088900387
              ],
              [
                114.44305590483286,
                -8.152843499493349
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                114.52214362938912,
                -8.13350588854144
              ],
              [
                114.5187533171943,
                -8.135884966592767
              ],
              [
                114.5165217192939,
                -8.138391479976454
              ],
              [
                114.51308849175484,
                -8.144126663468548
              ],
              [
                114.51317432244332,
                -8.147015465526026
              ],
              [
                114.51789501030953,
                -8.151688483528707
              ],
              [
                114.52081325371773,
                -8.150371547614998
              ],
              [
                114.52476146538766,
                -8.146930501057206
              ],
              [
                114.52789428551705,
                -8.142512323827958
              ],
              [
                114.52849510033639,
                -8.137711749082824
              ],
              [
                114.52759387810738,
                -8.134907846959033
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                114.558115754247,
                -8.131990369232053
              ],
              [
                114.56026152145891,
                -8.133519783953359
              ],
              [
                114.57837179672747,
                -8.136493629207939
              ],
              [
                114.58395079147844,
                -8.139722350497976
              ],
              [
                114.59596708786516,
                -8.141166770019078
              ],
              [
                114.60661009323626,
                -8.139127588004841
              ],
              [
                114.61871222031145,
                -8.129951140529412
              ],
              [
                114.60909918320208,
                -8.122983697580924
              ],
              [
                114.60068777573137,
                -8.120094722348782
              ],
              [
                114.59476545822649,
                -8.115846191606096
              ],
              [
                114.58892897141008,
                -8.116610930455913
              ],
              [
                114.58129004013567,
                -8.11746063858173
              ],
              [
                114.57356527817278,
                -8.121029393080951
              ],
              [
                114.56438139450579,
                -8.125447807084823
              ],
              [
                114.55863073837786,
                -8.128846553986223
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                114.61502567366782,
                -8.401924036472373
              ],
              [
                114.62257877425375,
                -8.402603311912264
              ],
              [
                114.6282435996932,
                -8.401754217426536
              ],
              [
                114.63511005477133,
                -8.40107494049981
              ],
              [
                114.63837162093344,
                -8.39852764143263
              ],
              [
                114.64060321883383,
                -8.392923524635947
              ],
              [
                114.63785663680258,
                -8.386130547369927
              ],
              [
                114.6330501182479,
                -8.38443228449818
              ],
              [
                114.6275569541854,
                -8.38205470401385
              ],
              [
                114.6172572715682,
                -8.38341332321383
              ],
              [
                114.61210743025961,
                -8.389357226381184
              ],
              [
                114.61039081649008,
                -8.395131216667714
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        }
      ],
      "displayProperties": [],
      "properties": {},
      "color": "#d63000",
      "mode": "Geometry",
      "shown": false,
      "locked": false
    }) || 
    /* color: #d63000 */
    /* shown: false */
    ee.Geometry({
      "type": "GeometryCollection",
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                115.18070563156027,
                -8.74255840332603
              ],
              [
                115.18068029411653,
                -8.750278089592989
              ],
              [
                115.17895103579939,
                -8.759906486749735
              ],
              [
                115.17920535182579,
                -8.765452257974607
              ],
              [
                115.1784297392511,
                -8.769640760825183
              ],
              [
                115.17353427349384,
                -8.773659628766366
              ],
              [
                115.17134403733633,
                -8.778468338030013
              ],
              [
                115.17007729718092,
                -8.780787869693617
              ],
              [
                115.17785535900597,
                -8.78186281541132
              ],
              [
                115.18546170201813,
                -8.77801776950431
              ],
              [
                115.18803663089722,
                -8.779374977059831
              ],
              [
                115.18992491206153,
                -8.781750078302967
              ],
              [
                115.19232817900757,
                -8.784294812761551
              ],
              [
                115.19490310790081,
                -8.785143053716961
              ],
              [
                115.19833634644212,
                -8.784464461156492
              ],
              [
                115.20331454230222,
                -8.787009176997659
              ],
              [
                115.20949437165598,
                -8.79091104067045
              ],
              [
                115.22116738270668,
                -8.799393211189102
              ],
              [
                115.22236901619834,
                -8.796848580437116
              ],
              [
                115.2209957207762,
                -8.79209855625307
              ],
              [
                115.22872050749582,
                -8.790232458645974
              ],
              [
                115.22803385978176,
                -8.788366351657567
              ],
              [
                115.22700388821622,
                -8.787009177038822
              ],
              [
                115.22666056434517,
                -8.78005357913676
              ],
              [
                115.22460062121732,
                -8.77411577043596
              ],
              [
                115.22511560697001,
                -8.760712938935498
              ],
              [
                115.22374231156091,
                -8.755623129487118
              ],
              [
                115.22442895925727,
                -8.753587186207548
              ],
              [
                115.23146709817718,
                -8.75443549724034
              ],
              [
                115.24873462083423,
                -8.736450888992481
              ],
              [
                115.2537128165409,
                -8.730003365277408
              ],
              [
                115.2495929303485,
                -8.726949236283929
              ],
              [
                115.24409974878972,
                -8.724743460934436
              ],
              [
                115.23860656722825,
                -8.72084090334623
              ],
              [
                115.24032318644123,
                -8.718974448315377
              ],
              [
                115.24890628251609,
                -8.713884068988344
              ],
              [
                115.24804797288536,
                -8.71201757923795
              ],
              [
                115.2465030155327,
                -8.706587737899035
              ],
              [
                115.24324143901994,
                -8.706757421663657
              ],
              [
                115.23774825753537,
                -8.708793620524848
              ],
              [
                115.23380003333595,
                -8.709811715801708
              ],
              [
                115.2313967664451,
                -8.713884069116228
              ],
              [
                115.22144037495444,
                -8.715071830498529
              ],
              [
                115.21732048881512,
                -8.718295735161536
              ],
              [
                115.21371558843543,
                -8.72101058066864
              ],
              [
                115.21199896921223,
                -8.719653160373626
              ],
              [
                115.20581914001086,
                -8.717107984012166
              ],
              [
                115.19878100116964,
                -8.719653160303942
              ],
              [
                115.18041317537357,
                -8.724743460756901
              ],
              [
                115.17972652762867,
                -8.728306629919977
              ],
              [
                115.17835323214126,
                -8.734923853823792
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                115.45675082352561,
                -8.662579346611075
              ],
              [
                115.45323176529807,
                -8.664615778825477
              ],
              [
                115.45220179703635,
                -8.665803692523713
              ],
              [
                115.45134349015159,
                -8.667585556032712
              ],
              [
                115.4509143367092,
                -8.67004621079995
              ],
              [
                115.4509143367092,
                -8.672337150753012
              ],
              [
                115.45151515152854,
                -8.673440190932766
              ],
              [
                115.45563502457541,
                -8.673015945093118
              ],
              [
                115.45949740555686,
                -8.672337150753012
              ],
              [
                115.46318812516135,
                -8.672337150753012
              ],
              [
                115.46490473893088,
                -8.673270492654408
              ],
              [
                115.46499056961936,
                -8.675222018226151
              ],
              [
                115.46370310929221,
                -8.676834140396828
              ],
              [
                115.46198649552268,
                -8.679294734574118
              ],
              [
                115.45769496109885,
                -8.683961334392853
              ],
              [
                115.45434756424827,
                -8.68608249693995
              ],
              [
                115.45245928910178,
                -8.688033955887684
              ],
              [
                115.4509143367092,
                -8.689391486556959
              ],
              [
                115.44954104569358,
                -8.69091870268399
              ],
              [
                115.44936938431663,
                -8.692700446967505
              ],
              [
                115.45022769120139,
                -8.693379204466382
              ],
              [
                115.4509143367092,
                -8.69541546958575
              ],
              [
                115.45185847428245,
                -8.697112348730696
              ],
              [
                115.45872492936057,
                -8.694057960735769
              ],
              [
                115.46464724686545,
                -8.68794911005765
              ],
              [
                115.47048373368186,
                -8.679379582361516
              ],
              [
                115.47340197709006,
                -8.674458378992735
              ],
              [
                115.47357363846702,
                -8.671573505654234
              ],
              [
                115.47297282364768,
                -8.668603759959463
              ],
              [
                115.47125620987815,
                -8.666482498665978
              ],
              [
                115.46662135270041,
                -8.664955183122263
              ],
              [
                115.46250147965354,
                -8.663767266743102
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                114.43799189421274,
                -8.15590216379207
              ],
              [
                114.43498782011606,
                -8.158281108735276
              ],
              [
                114.43146876188852,
                -8.163463761185428
              ],
              [
                114.43018130156138,
                -8.167881706899683
              ],
              [
                114.43018130156138,
                -8.173319111424417
              ],
              [
                114.43387202116587,
                -8.18266447726653
              ],
              [
                114.43696192595102,
                -8.185977781629374
              ],
              [
                114.43927935453989,
                -8.189121147469914
              ],
              [
                114.44648913237192,
                -8.186402562246915
              ],
              [
                114.45369891020395,
                -8.181390122097907
              ],
              [
                114.45678881498911,
                -8.1775670321444
              ],
              [
                114.46442774626352,
                -8.174933326627892
              ],
              [
                114.46992091032602,
                -8.173234152548565
              ],
              [
                114.47635821196177,
                -8.169241064976266
              ],
              [
                114.47850397917368,
                -8.165927621554939
              ],
              [
                114.47781733366587,
                -8.163378800211921
              ],
              [
                114.47472742888071,
                -8.161764538281647
              ],
              [
                114.4696634182606,
                -8.160235231488622
              ],
              [
                114.464513576952,
                -8.159725461256834
              ],
              [
                114.46039370390513,
                -8.158535994853686
              ],
              [
                114.45670298430063,
                -8.15845103283229
              ],
              [
                114.4509523281727,
                -8.157856298176693
              ],
              [
                114.44863489958384,
                -8.156072088900387
              ],
              [
                114.44305590483286,
                -8.152843499493349
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                114.52214362938912,
                -8.13350588854144
              ],
              [
                114.5187533171943,
                -8.135884966592767
              ],
              [
                114.5165217192939,
                -8.138391479976454
              ],
              [
                114.51308849175484,
                -8.144126663468548
              ],
              [
                114.51317432244332,
                -8.147015465526026
              ],
              [
                114.51789501030953,
                -8.151688483528707
              ],
              [
                114.52081325371773,
                -8.150371547614998
              ],
              [
                114.52476146538766,
                -8.146930501057206
              ],
              [
                114.52789428551705,
                -8.142512323827958
              ],
              [
                114.52849510033639,
                -8.137711749082824
              ],
              [
                114.52759387810738,
                -8.134907846959033
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                114.558115754247,
                -8.131990369232053
              ],
              [
                114.56026152145891,
                -8.133519783953359
              ],
              [
                114.57837179672747,
                -8.136493629207939
              ],
              [
                114.58395079147844,
                -8.139722350497976
              ],
              [
                114.59596708786516,
                -8.141166770019078
              ],
              [
                114.60661009323626,
                -8.139127588004841
              ],
              [
                114.61871222031145,
                -8.129951140529412
              ],
              [
                114.60909918320208,
                -8.122983697580924
              ],
              [
                114.60068777573137,
                -8.120094722348782
              ],
              [
                114.59476545822649,
                -8.115846191606096
              ],
              [
                114.58892897141008,
                -8.116610930455913
              ],
              [
                114.58129004013567,
                -8.11746063858173
              ],
              [
                114.57356527817278,
                -8.121029393080951
              ],
              [
                114.56438139450579,
                -8.125447807084823
              ],
              [
                114.55863073837786,
                -8.128846553986223
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                114.61502567366782,
                -8.401924036472373
              ],
              [
                114.62257877425375,
                -8.402603311912264
              ],
              [
                114.6282435996932,
                -8.401754217426536
              ],
              [
                114.63511005477133,
                -8.40107494049981
              ],
              [
                114.63837162093344,
                -8.39852764143263
              ],
              [
                114.64060321883383,
                -8.392923524635947
              ],
              [
                114.63785663680258,
                -8.386130547369927
              ],
              [
                114.6330501182479,
                -8.38443228449818
              ],
              [
                114.6275569541854,
                -8.38205470401385
              ],
              [
                114.6172572715682,
                -8.38341332321383
              ],
              [
                114.61210743025961,
                -8.389357226381184
              ],
              [
                114.61039081649008,
                -8.395131216667714
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        }
      ],
      "coordinates": []
    }),
    Mangrove = ui.import && ui.import("Mangrove", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                115.19504268942833,
                -8.72822637551187
              ],
              [
                115.19615848837853,
                -8.72746284438884
              ],
              [
                115.19761761008263,
                -8.725850940222045
              ],
              [
                115.1988192397213,
                -8.724663216908507
              ],
              [
                115.1999350386715,
                -8.723560327591265
              ],
              [
                115.19942005454064,
                -8.722542273022508
              ],
              [
                115.1984759169674,
                -8.72288162485382
              ],
              [
                115.19710262595177,
                -8.724154191474588
              ],
              [
                115.1955576735592,
                -8.725341916407512
              ],
              [
                115.19469936667443,
                -8.72695382277239
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                115.20190914450646,
                -8.724578379384377
              ],
              [
                115.20268162070275,
                -8.726784148745965
              ],
              [
                115.20551403342247,
                -8.727971865311092
              ],
              [
                115.20559986411095,
                -8.726868985768814
              ],
              [
                115.20585735617638,
                -8.722796786924892
              ],
              [
                115.20336826621056,
                -8.722542273022508
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                115.23709972678185,
                -8.712870616244128
              ],
              [
                115.23812969504357,
                -8.714397736586974
              ],
              [
                115.23830135642052,
                -8.713719017204756
              ],
              [
                115.23958881674767,
                -8.712700935820973
              ],
              [
                115.23881634055138,
                -8.710919286728696
              ],
              [
                115.2369280654049,
                -8.71202221335826
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                115.21017034827233,
                -8.737812799968575
              ],
              [
                115.21027763663292,
                -8.737091705814882
              ],
              [
                115.20971973715783,
                -8.736837201662933
              ],
              [
                115.20929058371544,
                -8.736603906037685
              ],
              [
                115.20886143027306,
                -8.736561488635592
              ],
              [
                115.20847519217492,
                -8.736561488635592
              ],
              [
                115.2087970572567,
                -8.736922036399548
              ],
              [
                115.20886143027306,
                -8.737261375153002
              ],
              [
                115.20883997260094,
                -8.737558296308901
              ],
              [
                115.20933349905968,
                -8.737770382704035
              ],
              [
                115.20961244879723,
                -8.737749174069947
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                115.19129778703275,
                -8.775693060451855
              ],
              [
                115.19211317857328,
                -8.776265634736049
              ],
              [
                115.19335772355619,
                -8.777177510476045
              ],
              [
                115.19331480821195,
                -8.776541318335612
              ],
              [
                115.19252087434354,
                -8.774950833213238
              ],
              [
                115.19295002778593,
                -8.774144984816571
              ],
              [
                115.19299294313016,
                -8.7724908694692
              ],
              [
                115.19239212831083,
                -8.771812255912751
              ],
              [
                115.19082571824613,
                -8.77196070273421
              ],
              [
                115.19033219178739,
                -8.772724142592773
              ],
              [
                115.1901176150662,
                -8.774144984816571
              ],
              [
                115.19033219178739,
                -8.775035659258492
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                115.18286492188993,
                -8.775099278779711
              ],
              [
                115.1841738398892,
                -8.773975332299628
              ],
              [
                115.1846244510037,
                -8.771875875986359
              ],
              [
                115.18370177110258,
                -8.771812255912751
              ],
              [
                115.18312241395536,
                -8.772787762510127
              ],
              [
                115.18269326051298,
                -8.773657233621368
              ],
              [
                115.18174912293973,
                -8.774441876534679
              ],
              [
                115.1820495303494,
                -8.775078072273848
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                115.18649947785153,
                -8.73665129633259
              ],
              [
                115.18626344345822,
                -8.735866573712467
              ],
              [
                115.18519055985226,
                -8.736375583167774
              ],
              [
                115.18598449372067,
                -8.737329974023474
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Point",
          "coordinates": [
            115.18592012070431,
            -8.731264248347877
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            115.19415986679806,
            -8.733766902364886
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            115.1920784726025,
            -8.735633277479899
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            115.20129146954241,
            -8.726299416780446
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            115.19923153301897,
            -8.727275042646014
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            115.21453619079212,
            -8.776283907729947
          ]
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                115.21908521728137,
                -8.78086446997187
              ],
              [
                115.2193427093468,
                -8.779592097244013
              ],
              [
                115.21942854003528,
                -8.777725942682808
              ],
              [
                115.21792650298694,
                -8.777301815337193
              ],
              [
                115.2158665664635,
                -8.776962513111672
              ],
              [
                115.21509409026721,
                -8.777004925906832
              ],
              [
                115.21646738128284,
                -8.778277307507357
              ],
              [
                115.21706819610218,
                -8.780270696575304
              ],
              [
                115.21796941833118,
                -8.780822057617918
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                115.45742816556107,
                -8.669849008986398
              ],
              [
                115.46017474759232,
                -8.669085358830399
              ],
              [
                115.46558208096634,
                -8.66959445910684
              ],
              [
                115.4657537423433,
                -8.668236856837009
              ],
              [
                115.46094722378861,
                -8.666964100255067
              ],
              [
                115.45674152005326,
                -8.66645499641555
              ],
              [
                115.45553989041458,
                -8.66866110807318
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                115.46892947781693,
                -8.672309648931082
              ],
              [
                115.46892947781693,
                -8.673582387405693
              ],
              [
                115.4704744302095,
                -8.673921783603896
              ],
              [
                115.47116107571732,
                -8.672055100718667
              ],
              [
                115.46944446194779,
                -8.669764159045714
              ],
              [
                115.4675561868013,
                -8.670697507339504
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Point",
          "coordinates": [
            115.4573159623107,
            -8.684694970490174
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            115.46001962899771,
            -8.691015987117662
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            115.45285276650992,
            -8.688937275288524
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            115.45341066598502,
            -8.68847062411003
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            115.45409731149283,
            -8.687197936125857
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            115.45559934854117,
            -8.686391898168411
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            115.46027712106314,
            -8.691015987117662
          ]
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                115.45646564003886,
                -8.69476902607216
              ],
              [
                115.45779601571024,
                -8.694217537743532
              ],
              [
                115.45792476174296,
                -8.693199403311976
              ],
              [
                115.45783893105448,
                -8.69239337825846
              ],
              [
                115.45702353951395,
                -8.69311455865114
              ],
              [
                115.45689479348124,
                -8.693835737655887
              ],
              [
                115.45663730141581,
                -8.694217537743532
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                115.45290366646708,
                -8.696423486187207
              ],
              [
                115.45401946541728,
                -8.695914422314656
              ],
              [
                115.45406238076151,
                -8.6952356694085
              ],
              [
                115.45307532784403,
                -8.695617468069539
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                115.46453455163198,
                -8.677800956523843
              ],
              [
                115.46462038232046,
                -8.677419139723808
              ],
              [
                115.46526411248404,
                -8.676697929153123
              ],
              [
                115.46470621300894,
                -8.676867625882625
              ],
              [
                115.46414831353384,
                -8.676782777527475
              ],
              [
                115.46423414422232,
                -8.677334291493281
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                114.46880646753866,
                -8.170742041411874
              ],
              [
                114.47069474268514,
                -8.169552607821197
              ],
              [
                114.47181054163534,
                -8.168278210754709
              ],
              [
                114.4741279702242,
                -8.166324127350714
              ],
              [
                114.47189637232381,
                -8.165049719978134
              ],
              [
                114.471209726816,
                -8.166748928904346
              ],
              [
                114.46949311304647,
                -8.168278210754709
              ],
              [
                114.4686348061617,
                -8.169467648143362
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                114.43953820276815,
                -8.178898061929617
              ],
              [
                114.44022484827596,
                -8.180342339843595
              ],
              [
                114.44108315516073,
                -8.179917552765064
              ],
              [
                114.44056817102987,
                -8.178218399924155
              ],
              [
                114.44065400171834,
                -8.1766041980176
              ],
              [
                114.43928071070272,
                -8.176689156175604
              ],
              [
                114.43902321863729,
                -8.177708652659689
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                114.62661221995795,
                -8.392282754731507
              ],
              [
                114.62781384959662,
                -8.391603461229666
              ],
              [
                114.62755635753119,
                -8.390244870661894
              ],
              [
                114.62626889720404,
                -8.389141012326913
              ],
              [
                114.6256680823847,
                -8.390244870661894
              ],
              [
                114.62515309825385,
                -8.392028019807544
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        }
      ],
      "displayProperties": [],
      "properties": {
        "landcover": 1
      },
      "color": "#98ff00",
      "mode": "FeatureCollection",
      "shown": false,
      "locked": false
    }) || 
    /* color: #98ff00 */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[115.19504268942833, -8.72822637551187],
                  [115.19615848837853, -8.72746284438884],
                  [115.19761761008263, -8.725850940222045],
                  [115.1988192397213, -8.724663216908507],
                  [115.1999350386715, -8.723560327591265],
                  [115.19942005454064, -8.722542273022508],
                  [115.1984759169674, -8.72288162485382],
                  [115.19710262595177, -8.724154191474588],
                  [115.1955576735592, -8.725341916407512],
                  [115.19469936667443, -8.72695382277239]]]),
            {
              "landcover": 1,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[115.20190914450646, -8.724578379384377],
                  [115.20268162070275, -8.726784148745965],
                  [115.20551403342247, -8.727971865311092],
                  [115.20559986411095, -8.726868985768814],
                  [115.20585735617638, -8.722796786924892],
                  [115.20336826621056, -8.722542273022508]]]),
            {
              "landcover": 1,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[115.23709972678185, -8.712870616244128],
                  [115.23812969504357, -8.714397736586974],
                  [115.23830135642052, -8.713719017204756],
                  [115.23958881674767, -8.712700935820973],
                  [115.23881634055138, -8.710919286728696],
                  [115.2369280654049, -8.71202221335826]]]),
            {
              "landcover": 1,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[115.21017034827233, -8.737812799968575],
                  [115.21027763663292, -8.737091705814882],
                  [115.20971973715783, -8.736837201662933],
                  [115.20929058371544, -8.736603906037685],
                  [115.20886143027306, -8.736561488635592],
                  [115.20847519217492, -8.736561488635592],
                  [115.2087970572567, -8.736922036399548],
                  [115.20886143027306, -8.737261375153002],
                  [115.20883997260094, -8.737558296308901],
                  [115.20933349905968, -8.737770382704035],
                  [115.20961244879723, -8.737749174069947]]]),
            {
              "landcover": 1,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[115.19129778703275, -8.775693060451855],
                  [115.19211317857328, -8.776265634736049],
                  [115.19335772355619, -8.777177510476045],
                  [115.19331480821195, -8.776541318335612],
                  [115.19252087434354, -8.774950833213238],
                  [115.19295002778593, -8.774144984816571],
                  [115.19299294313016, -8.7724908694692],
                  [115.19239212831083, -8.771812255912751],
                  [115.19082571824613, -8.77196070273421],
                  [115.19033219178739, -8.772724142592773],
                  [115.1901176150662, -8.774144984816571],
                  [115.19033219178739, -8.775035659258492]]]),
            {
              "landcover": 1,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[115.18286492188993, -8.775099278779711],
                  [115.1841738398892, -8.773975332299628],
                  [115.1846244510037, -8.771875875986359],
                  [115.18370177110258, -8.771812255912751],
                  [115.18312241395536, -8.772787762510127],
                  [115.18269326051298, -8.773657233621368],
                  [115.18174912293973, -8.774441876534679],
                  [115.1820495303494, -8.775078072273848]]]),
            {
              "landcover": 1,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[115.18649947785153, -8.73665129633259],
                  [115.18626344345822, -8.735866573712467],
                  [115.18519055985226, -8.736375583167774],
                  [115.18598449372067, -8.737329974023474]]]),
            {
              "landcover": 1,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([115.18592012070431, -8.731264248347877]),
            {
              "landcover": 1,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([115.19415986679806, -8.733766902364886]),
            {
              "landcover": 1,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Point([115.1920784726025, -8.735633277479899]),
            {
              "landcover": 1,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Point([115.20129146954241, -8.726299416780446]),
            {
              "landcover": 1,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Point([115.19923153301897, -8.727275042646014]),
            {
              "landcover": 1,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Point([115.21453619079212, -8.776283907729947]),
            {
              "landcover": 1,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[115.21908521728137, -8.78086446997187],
                  [115.2193427093468, -8.779592097244013],
                  [115.21942854003528, -8.777725942682808],
                  [115.21792650298694, -8.777301815337193],
                  [115.2158665664635, -8.776962513111672],
                  [115.21509409026721, -8.777004925906832],
                  [115.21646738128284, -8.778277307507357],
                  [115.21706819610218, -8.780270696575304],
                  [115.21796941833118, -8.780822057617918]]]),
            {
              "landcover": 1,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[115.45742816556107, -8.669849008986398],
                  [115.46017474759232, -8.669085358830399],
                  [115.46558208096634, -8.66959445910684],
                  [115.4657537423433, -8.668236856837009],
                  [115.46094722378861, -8.666964100255067],
                  [115.45674152005326, -8.66645499641555],
                  [115.45553989041458, -8.66866110807318]]]),
            {
              "landcover": 1,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[115.46892947781693, -8.672309648931082],
                  [115.46892947781693, -8.673582387405693],
                  [115.4704744302095, -8.673921783603896],
                  [115.47116107571732, -8.672055100718667],
                  [115.46944446194779, -8.669764159045714],
                  [115.4675561868013, -8.670697507339504]]]),
            {
              "landcover": 1,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Point([115.4573159623107, -8.684694970490174]),
            {
              "landcover": 1,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Point([115.46001962899771, -8.691015987117662]),
            {
              "landcover": 1,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Point([115.45285276650992, -8.688937275288524]),
            {
              "landcover": 1,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Point([115.45341066598502, -8.68847062411003]),
            {
              "landcover": 1,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Point([115.45409731149283, -8.687197936125857]),
            {
              "landcover": 1,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Point([115.45559934854117, -8.686391898168411]),
            {
              "landcover": 1,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Point([115.46027712106314, -8.691015987117662]),
            {
              "landcover": 1,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[115.45646564003886, -8.69476902607216],
                  [115.45779601571024, -8.694217537743532],
                  [115.45792476174296, -8.693199403311976],
                  [115.45783893105448, -8.69239337825846],
                  [115.45702353951395, -8.69311455865114],
                  [115.45689479348124, -8.693835737655887],
                  [115.45663730141581, -8.694217537743532]]]),
            {
              "landcover": 1,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[115.45290366646708, -8.696423486187207],
                  [115.45401946541728, -8.695914422314656],
                  [115.45406238076151, -8.6952356694085],
                  [115.45307532784403, -8.695617468069539]]]),
            {
              "landcover": 1,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[115.46453455163198, -8.677800956523843],
                  [115.46462038232046, -8.677419139723808],
                  [115.46526411248404, -8.676697929153123],
                  [115.46470621300894, -8.676867625882625],
                  [115.46414831353384, -8.676782777527475],
                  [115.46423414422232, -8.677334291493281]]]),
            {
              "landcover": 1,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[114.46880646753866, -8.170742041411874],
                  [114.47069474268514, -8.169552607821197],
                  [114.47181054163534, -8.168278210754709],
                  [114.4741279702242, -8.166324127350714],
                  [114.47189637232381, -8.165049719978134],
                  [114.471209726816, -8.166748928904346],
                  [114.46949311304647, -8.168278210754709],
                  [114.4686348061617, -8.169467648143362]]]),
            {
              "landcover": 1,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[114.43953820276815, -8.178898061929617],
                  [114.44022484827596, -8.180342339843595],
                  [114.44108315516073, -8.179917552765064],
                  [114.44056817102987, -8.178218399924155],
                  [114.44065400171834, -8.1766041980176],
                  [114.43928071070272, -8.176689156175604],
                  [114.43902321863729, -8.177708652659689]]]),
            {
              "landcover": 1,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[114.62661221995795, -8.392282754731507],
                  [114.62781384959662, -8.391603461229666],
                  [114.62755635753119, -8.390244870661894],
                  [114.62626889720404, -8.389141012326913],
                  [114.6256680823847, -8.390244870661894],
                  [114.62515309825385, -8.392028019807544]]]),
            {
              "landcover": 1,
              "system:index": "28"
            })]),
    NonMangrove = ui.import && ui.import("NonMangrove", "geometry", {
      "geometries": [
        {
          "type": "Point",
          "coordinates": [
            115.22088931177437,
            -8.737241516187954
          ]
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                115.22166178797066,
                -8.736732507914832
              ],
              [
                115.22185490701973,
                -8.73635075125396
              ],
              [
                115.22290633295357,
                -8.736626464437133
              ],
              [
                115.22346423242867,
                -8.736287125105811
              ],
              [
                115.22290633295357,
                -8.736011411671692
              ],
              [
                115.22187636469185,
                -8.735311522807937
              ],
              [
                115.22129700754463,
                -8.735841741764748
              ],
              [
                115.2212540922004,
                -8.737199098858405
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                115.22548125360787,
                -8.730327427768191
              ],
              [
                115.2260820684272,
                -8.730475891135889
              ],
              [
                115.22601769541085,
                -8.730900071860944
              ],
              [
                115.22578166101754,
                -8.731706013909845
              ],
              [
                115.22599623773873,
                -8.73191810363333
              ],
              [
                115.22636101816475,
                -8.731154580064473
              ],
              [
                115.22700474832833,
                -8.730709190594354
              ],
              [
                115.22743390177071,
                -8.730094128071022
              ],
              [
                115.22689745996773,
                -8.72930939165547
              ],
              [
                115.22606061075508,
                -8.72922455518736
              ],
              [
                115.22481606577217,
                -8.730072919000406
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                115.2257387456733,
                -8.734675259064591
              ],
              [
                115.22595332239449,
                -8.733508772715703
              ],
              [
                115.22584603403389,
                -8.733148221651554
              ],
              [
                115.22530959223091,
                -8.732830088070244
              ],
              [
                115.22535250757515,
                -8.73225744694009
              ],
              [
                115.22445128534615,
                -8.732130193236232
              ],
              [
                115.22470877741158,
                -8.733084594956999
              ],
              [
                115.22477315042794,
                -8.733805696859745
              ],
              [
                115.22442982767403,
                -8.734293500297506
              ],
              [
                115.22526667688668,
                -8.733996576541822
              ],
              [
                115.22537396524727,
                -8.734229873798338
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                115.2378390941344,
                -8.731423383565946
              ],
              [
                115.2389548930846,
                -8.731253711571794
              ],
              [
                115.23908363911731,
                -8.730744695126353
              ],
              [
                115.23766743275745,
                -8.729726660152103
              ],
              [
                115.2374957713805,
                -8.730150841728936
              ],
              [
                115.23698078724964,
                -8.731168875545782
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                115.21921383473499,
                -8.722600337578749
              ],
              [
                115.21921383473499,
                -8.721539861283313
              ],
              [
                115.22054421040637,
                -8.721412603925518
              ],
              [
                115.22088753316028,
                -8.72081873568247
              ],
              [
                115.21942841145618,
                -8.720903574060706
              ],
              [
                115.21809803578479,
                -8.721242927380999
              ],
              [
                115.21857010457141,
                -8.721794375868855
              ],
              [
                115.21852718922717,
                -8.72238824256057
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Point",
          "coordinates": [
            115.2098319487331,
            -8.742476803022907
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            115.21064734027362,
            -8.742052635468452
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            115.21004652545429,
            -8.740313543447048
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            115.2087161497829,
            -8.745870126072347
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            115.22004580066181,
            -8.747694024437212
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            115.22103285357929,
            -8.747566776003966
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            115.22103285357929,
            -8.747990937279013
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            115.22086119220234,
            -8.74879684237039
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            115.22159589694674,
            -8.762158585869367
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            115.21811975406344,
            -8.757196057641787
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            115.22082342075045,
            -8.768817600845143
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            115.22086633609469,
            -8.771871376709484
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            115.22005094455416,
            -8.772465163544659
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            115.21910680698092,
            -8.764618618039488
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            115.22269010619739,
            -8.780143459295244
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            115.22183179931262,
            -8.774926693244081
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            115.22354841308216,
            -8.774714628032356
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            115.2048802383385,
            -8.78595391723181
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            115.20535230712512,
            -8.78527532829999
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            115.19303560332874,
            -8.783536438493075
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            115.19307851867298,
            -8.782518547993002
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            115.20174741820911,
            -8.784130206661116
          ]
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                114.4359319576893,
                -8.17357398794347
              ],
              [
                114.43721941801645,
                -8.172979275812397
              ],
              [
                114.44056681486704,
                -8.174338616523467
              ],
              [
                114.4414251217518,
                -8.173828864299663
              ],
              [
                114.4399660000477,
                -8.171789848890619
              ],
              [
                114.43653277250864,
                -8.171280093410104
              ],
              [
                114.43361452910044,
                -8.171025215425644
              ],
              [
                114.43378619047739,
                -8.172044726386646
              ],
              [
                114.43455866667368,
                -8.173149193654595
              ],
              [
                114.43438700529673,
                -8.17535811901669
              ],
              [
                114.43490198942759,
                -8.177991821727607
              ],
              [
                114.43567446562388,
                -8.179096272525753
              ],
              [
                114.43661860319712,
                -8.178586526383741
              ],
              [
                114.43627528044321,
                -8.177227200151979
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                114.58494649912882,
                -8.139305180112371
              ],
              [
                114.5868347742753,
                -8.135566654453477
              ],
              [
                114.58494649912882,
                -8.134716984667058
              ],
              [
                114.58288656260538,
                -8.138455518252837
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                114.57396017100382,
                -8.13522678675504
              ],
              [
                114.57361684824991,
                -8.133697378545957
              ],
              [
                114.57172857310343,
                -8.132847704797433
              ],
              [
                114.56984029795694,
                -8.131998029248244
              ],
              [
                114.56812368418741,
                -8.132847704797433
              ],
              [
                114.56984029795694,
                -8.13386731307958
              ],
              [
                114.57138525034952,
                -8.134377116248187
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                114.60760580088663,
                -8.137690821038642
              ],
              [
                114.61146818186808,
                -8.134801951726747
              ],
              [
                114.61000906016397,
                -8.134377116248187
              ],
              [
                114.60743413950968,
                -8.135311753706677
              ],
              [
                114.60751997019815,
                -8.136076455460744
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Point",
          "coordinates": [
            114.62712720408881,
            -8.39950017479272
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            114.62721303477728,
            -8.40051909387256
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            114.62377980723822,
            -8.40170782941699
          ]
        }
      ],
      "displayProperties": [],
      "properties": {
        "landcover": 0
      },
      "color": "#0b4a8b",
      "mode": "FeatureCollection",
      "shown": false,
      "locked": false
    }) || 
    /* color: #0b4a8b */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([115.22088931177437, -8.737241516187954]),
            {
              "landcover": 0,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[115.22166178797066, -8.736732507914832],
                  [115.22185490701973, -8.73635075125396],
                  [115.22290633295357, -8.736626464437133],
                  [115.22346423242867, -8.736287125105811],
                  [115.22290633295357, -8.736011411671692],
                  [115.22187636469185, -8.735311522807937],
                  [115.22129700754463, -8.735841741764748],
                  [115.2212540922004, -8.737199098858405]]]),
            {
              "landcover": 0,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[115.22548125360787, -8.730327427768191],
                  [115.2260820684272, -8.730475891135889],
                  [115.22601769541085, -8.730900071860944],
                  [115.22578166101754, -8.731706013909845],
                  [115.22599623773873, -8.73191810363333],
                  [115.22636101816475, -8.731154580064473],
                  [115.22700474832833, -8.730709190594354],
                  [115.22743390177071, -8.730094128071022],
                  [115.22689745996773, -8.72930939165547],
                  [115.22606061075508, -8.72922455518736],
                  [115.22481606577217, -8.730072919000406]]]),
            {
              "landcover": 0,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[115.2257387456733, -8.734675259064591],
                  [115.22595332239449, -8.733508772715703],
                  [115.22584603403389, -8.733148221651554],
                  [115.22530959223091, -8.732830088070244],
                  [115.22535250757515, -8.73225744694009],
                  [115.22445128534615, -8.732130193236232],
                  [115.22470877741158, -8.733084594956999],
                  [115.22477315042794, -8.733805696859745],
                  [115.22442982767403, -8.734293500297506],
                  [115.22526667688668, -8.733996576541822],
                  [115.22537396524727, -8.734229873798338]]]),
            {
              "landcover": 0,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[115.2378390941344, -8.731423383565946],
                  [115.2389548930846, -8.731253711571794],
                  [115.23908363911731, -8.730744695126353],
                  [115.23766743275745, -8.729726660152103],
                  [115.2374957713805, -8.730150841728936],
                  [115.23698078724964, -8.731168875545782]]]),
            {
              "landcover": 0,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[115.21921383473499, -8.722600337578749],
                  [115.21921383473499, -8.721539861283313],
                  [115.22054421040637, -8.721412603925518],
                  [115.22088753316028, -8.72081873568247],
                  [115.21942841145618, -8.720903574060706],
                  [115.21809803578479, -8.721242927380999],
                  [115.21857010457141, -8.721794375868855],
                  [115.21852718922717, -8.72238824256057]]]),
            {
              "landcover": 0,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([115.2098319487331, -8.742476803022907]),
            {
              "landcover": 0,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([115.21064734027362, -8.742052635468452]),
            {
              "landcover": 0,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([115.21004652545429, -8.740313543447048]),
            {
              "landcover": 0,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Point([115.2087161497829, -8.745870126072347]),
            {
              "landcover": 0,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Point([115.22004580066181, -8.747694024437212]),
            {
              "landcover": 0,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Point([115.22103285357929, -8.747566776003966]),
            {
              "landcover": 0,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Point([115.22103285357929, -8.747990937279013]),
            {
              "landcover": 0,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Point([115.22086119220234, -8.74879684237039]),
            {
              "landcover": 0,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Point([115.22159589694674, -8.762158585869367]),
            {
              "landcover": 0,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Point([115.21811975406344, -8.757196057641787]),
            {
              "landcover": 0,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Point([115.22082342075045, -8.768817600845143]),
            {
              "landcover": 0,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Point([115.22086633609469, -8.771871376709484]),
            {
              "landcover": 0,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Point([115.22005094455416, -8.772465163544659]),
            {
              "landcover": 0,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Point([115.21910680698092, -8.764618618039488]),
            {
              "landcover": 0,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Point([115.22269010619739, -8.780143459295244]),
            {
              "landcover": 0,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Point([115.22183179931262, -8.774926693244081]),
            {
              "landcover": 0,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Point([115.22354841308216, -8.774714628032356]),
            {
              "landcover": 0,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Point([115.2048802383385, -8.78595391723181]),
            {
              "landcover": 0,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Point([115.20535230712512, -8.78527532829999]),
            {
              "landcover": 0,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Point([115.19303560332874, -8.783536438493075]),
            {
              "landcover": 0,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Point([115.19307851867298, -8.782518547993002]),
            {
              "landcover": 0,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Point([115.20174741820911, -8.784130206661116]),
            {
              "landcover": 0,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[114.4359319576893, -8.17357398794347],
                  [114.43721941801645, -8.172979275812397],
                  [114.44056681486704, -8.174338616523467],
                  [114.4414251217518, -8.173828864299663],
                  [114.4399660000477, -8.171789848890619],
                  [114.43653277250864, -8.171280093410104],
                  [114.43361452910044, -8.171025215425644],
                  [114.43378619047739, -8.172044726386646],
                  [114.43455866667368, -8.173149193654595],
                  [114.43438700529673, -8.17535811901669],
                  [114.43490198942759, -8.177991821727607],
                  [114.43567446562388, -8.179096272525753],
                  [114.43661860319712, -8.178586526383741],
                  [114.43627528044321, -8.177227200151979]]]),
            {
              "landcover": 0,
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[114.58494649912882, -8.139305180112371],
                  [114.5868347742753, -8.135566654453477],
                  [114.58494649912882, -8.134716984667058],
                  [114.58288656260538, -8.138455518252837]]]),
            {
              "landcover": 0,
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[114.57396017100382, -8.13522678675504],
                  [114.57361684824991, -8.133697378545957],
                  [114.57172857310343, -8.132847704797433],
                  [114.56984029795694, -8.131998029248244],
                  [114.56812368418741, -8.132847704797433],
                  [114.56984029795694, -8.13386731307958],
                  [114.57138525034952, -8.134377116248187]]]),
            {
              "landcover": 0,
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[114.60760580088663, -8.137690821038642],
                  [114.61146818186808, -8.134801951726747],
                  [114.61000906016397, -8.134377116248187],
                  [114.60743413950968, -8.135311753706677],
                  [114.60751997019815, -8.136076455460744]]]),
            {
              "landcover": 0,
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Point([114.62712720408881, -8.39950017479272]),
            {
              "landcover": 0,
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Point([114.62721303477728, -8.40051909387256]),
            {
              "landcover": 0,
              "system:index": "33"
            }),
        ee.Feature(
            ee.Geometry.Point([114.62377980723822, -8.40170782941699]),
            {
              "landcover": 0,
              "system:index": "34"
            })]);
//=====================================================================================================================
//                                        NASA - University of Maryland (ESSIC)
// Mangrove Extent Mapping Tutorial for Guyana
//                                                  
// Code: Mangrove Extent Mapping Tutorial for Guyana
// Written by: Abigail Barenblitt NASA Goddard and University of Maryland 
// Objective: This code works through a tutorial for mapping mangrove extent in Guyana in 2009 and 2019
//=====================================================================================================================
///////////////////////////////////////////////////////////////
//                    1) Set up the map                      //
///////////////////////////////////////////////////////////////
//Center the map to the region of interest using the region shapefile
Map.setCenter(115.1874, -8.4446,10)
Map.setOptions('satellite')
///////////////////////////////////////////////////////////////
//            2) Set up Filtered Landsat Composite           //
///////////////////////////////////////////////////////////////
//2.1) Cloud Masking
////////////////////
//Landsat data includes a 'pixel_qa' band which can be used to create 
//     a function to mask clouds
function maskClouds(image) {
  // Bits 3 and 5 are cloud shadow and cloud, respectively.
    var cloudShadowBitMask = ee.Number(2).pow(3).int();
    var cloudsBitMask = ee.Number(2).pow(5).int();  
    // Get the pixel QA band.
    var qa = image.select('pixel_qa');
    // Both flags should be set to zero, indicating clear conditions.
    var mask = qa.bitwiseAnd(cloudShadowBitMask).eq(0).and(qa.bitwiseAnd(cloudsBitMask).eq(0)); 
  // Return the masked image, scaled to [0, 1].
  return image.updateMask(mask).divide(10000).copyProperties(image, ["system:time_start"]);
}
//2.2) Adding Spectral Indices
///////////////////////////////
// This function maps spectral indices for Mangrove Mapping using Landsat 8 Imagery
var addIndicesL8 = function(img) {
  // NDVI
  var ndvi = img.normalizedDifference(['B5','B4']).rename('NDVI');
  // NDMI (Normalized Difference Mangrove Index - Shi et al 2016 - New spectral metrics for mangrove forest identification)
  var ndmi = img.normalizedDifference(['B7','B3']).rename('NDMI');
  // MNDWI (Modified Normalized Difference Water Index - Hanqiu Xu, 2006)
  var mndwi = img.normalizedDifference(['B3','B6']).rename('MNDWI');
  // SR (Simple Ratio)
  var sr = img.select('B5').divide(img.select('B4')).rename('SR');
  // MMRI
  var mmri = ((mndwi.select('MNDWI').abs()).subtract((ndvi.select('NDVI').abs()))
  .divide((mndwi.select('MNDWI').abs()).add((ndvi.select('NDVI').abs())))).rename('MMRI');
  // GCVI
  var gcvi = img.expression('(NIR/GREEN)-1',{
    'NIR':img.select('B5'),
    'GREEN':img.select('B3')
  }).rename('GCVI');
  return img
    .addBands(ndvi)
    .addBands(ndmi)
    .addBands(mndwi)
    .addBands(sr)
    .addBands(mmri)
    .addBands(gcvi);
};
//2.3) Filter Landsat data by Date and Region
/////////////////////////////////////////////
// Temporal Parameters
// Select the desired central year here
var year = 2019; 
// Start date will be set one year before the central year
var startDate = (year-1)+'-01-01'; 
// End date will be set to one year later than the central year.
var endDate = (year+1)+'-12-31'; 
//2.4) Apply filters and masks to Landsat 8 imagery
///////////////////////////////////////////////////
var l8 = L8.filterDate(startDate,endDate)
// Mask for clouds and cloud shadows
    .map(maskClouds)
//Add the indices
    .map(addIndicesL8)
//2.5) Composite the Landsat image collection
/////////////////////////////////////////////
//You can composite on a per pixel, per-band basis using .median()
// OR with quality bands like .qualityMosaic('NDVI')
var composite = l8
              // Uses the median reducer
              .median() 
              // Clips the composite to our area of interest
              .clip(geometry); 
//2.6) Mask to areas of low elevation and high NDVI and MNDWI
/////////////////////////////////////////////////////////////
// Clip SRTM data to region
var srtmClip = SRTM.clip(geometry);
//Mask to elevations less than 65 meters
var elevationMask = srtmClip.lt(65);
//Used the NDVI and MNDWI bands to create masks
var NDVIMask = composite.select('NDVI').gt(0.25);
var MNDWIMask = composite.select('MNDWI').gt(-0.50);
//Apply the masks
var compositeNew = composite
                        .updateMask(NDVIMask)
                        .updateMask(MNDWIMask)
                        .updateMask(elevationMask)
//2.7) Display results
///////////////////////
//Select bands and parameters for visualization
var visPar = {bands:['B5','B6','B4'], min: 0, max: 0.35}; 
//Add layer to map
// Map.addLayer(compositeNew.clip(geometry), visPar, 'Landsat Composite 2019')
///////////////////////////////////////////////////////////////
//          3) Construct Random Forest Model                 //
///////////////////////////////////////////////////////////////
//3.1) Prepare training data and predictors
////////////////////////////////////////////
//After drawing training polygons, merge them together
var classes = Mangrove.merge(NonMangrove)
//Define the bands you want to include in the model
var bands = ['B5','B6','B4','NDVI','NDMI','MNDWI','SR','MMRI','GCVI']
//Create a variable called image to select the bands of interest and clip to geometry
var image = compositeNew.select(bands).clip(geometry)
//Assemble samples for the model
var samples = image.sampleRegions({
    collection: classes, // Set of geometries selected for training
    properties: ['landcover'], // Label from each geometry
    scale: 30 // Make each sample the same size as Landsat pixel
    }).randomColumn('random'); // creates a column with random numbers
//Here we randomly split our samples to set some aside for testing our model's accuracy
// using the "random" column we created
var split = 0.8; // Roughly 80% for training, 20% for testing.
var training = samples.filter(ee.Filter.lt('random', split)); //Subset training data
var testing = samples.filter(ee.Filter.gte('random', split)); //Subset testing data
//Print these variables to see how much training and testing data you are using
    print('Samples n =', samples.aggregate_count('.all'));
    print('Training n =', training.aggregate_count('.all'));
    // print('Testing n =', testing.aggregate_count('.all'));
//3.2) Begin Random Forest Classification
/////////////////////////////////////////
//.smileRandomForest is used to run the model. Here we run the model using 100 trees
// and 5 randomly selected predictors per split ("(100,5)")
    var classifier = ee.Classifier.smileRandomForest(100,5).train({ 
    features: training.select(['B5','B6','B4','NDVI','NDMI','MNDWI','SR','MMRI','GCVI', 'landcover']), //Train using bands and landcover property
    classProperty: 'landcover', //Pull the landcover property from classes
    inputProperties: bands
    });
//3.3) Test the accuracy of the model
//////////////////////////////////////
    var validation = testing.classify(classifier);
    var testAccuracy = validation.errorMatrix('landcover', 'classification');
    // print('Validation error matrix RF: ', testAccuracy);
    // print('Validation overall accuracy RF: ', testAccuracy.accuracy());
//3.4) Classify the Landsat composite using the Random Forest model
///////////////////////////////////////////////////////////////////
    var classifiedrf = image.select(bands) // select the predictors
                      .classify(classifier); // .classify applies the Random Forest
//The model results may be "noisy". To reduce noise, create a mask to mask
// unconnected pixels
    var pixelcount = classifiedrf.connectedPixelCount(100, false); //Create an image that shows the number of pixels each pixel is connected to
    var countmask = pixelcount.select(0).gt(25); //filter out all pixels connected to 4 or less 
//Mask the results to only display mangrove extent
    var classMask = classifiedrf.select('classification').gt(0)
    var classed= classifiedrf.updateMask(countmask).updateMask(classMask)
//3.5) Map results
////////////////////
//Add classification to map
// Map.addLayer (classed, {min: 1, max: 1, palette:'green'}, 'Mangrove Extent 2019');
// ///////////////////////////////////////////////////////////////
// //          6) Calculate Mangrove Area                       //
// ///////////////////////////////////////////////////////////////
// //6.2) Calculate Mangrove Area in 2019
// ///////////////////////////////////////
//Use reduceRegion with a Sum reducer to calculate total area
var get2019 = classed.multiply(ee.Image.pixelArea()).divide(10000).reduceRegion({
      reducer:ee.Reducer.sum(),
      geometry:geometry,
      scale: 100,
      maxPixels:1e13,
      tileScale: 16
      }).get('classification');
print(get2019, 'Bali Mangrove Extent 2019 in ha')
//NDVI 2019
var ndvi_mask = compositeNew.select('NDVI');
var NDVIvis = {min: 0, max: 1, palette: [
  'FFFFFF', 'CE7E45', 'FCD163', '66A000', '207401',
  '056201', '004C00', '023B01', '012E01', '011301']};
// Map.addLayer (ndvi_mask, NDVIvis, 'NDVI 2019');
///////////////////////////////////////////////////////////////
//                   Set Place Holder                        //
///////////////////////////////////////////////////////////////
var places = {
  TAHURA_NGURAH_RAI: [115.2085, -8.7515,13],
  NUSA_LEMBONGAN: [115.45833, -8.67764,14],
  GILIMANUK: [114.4584, -8.1685,14],
  SOUTH_MENJANGAN: [114.55917, -8.13484,14],
  PERANCAK_TUWED: [114.62704, -8.39126,14],
};
var select = ui.Select({
  items: Object.keys(places),
  onChange: function(key) {
    Map.setCenter(places[key][0], places[key][1],places[key][2]);
  }
});
// Set a place holder.
select.setPlaceholder('Choose a location...');
// print(select);
///////////////////////////////////////////////////////////////
//                        Set GUI                           //
///////////////////////////////////////////////////////////////
//2.3) Create variables for GUI layers for each layer
//We set each layer to "false" so the user can turn them on later
var gui1 = ui.Map.Layer(compositeNew.clip(geometry), visPar, 'Landsat Composite 2019',false)
var gui2 = ui.Map.Layer(classed, {min: 1, max: 1, palette:'green'}, 'Mangrove Extent 2019',false)
var gui3 = ui.Map.Layer(ndvi_mask, NDVIvis, 'NDVI 2019',false)
//Add these layers to our map. They will be added but not displayed
Map.add(gui1)
Map.add(gui2)
Map.add(gui3)
///////////////////////////////////////////////////////////////
//      3) Set up panels and widgets for display             //
///////////////////////////////////////////////////////////////
//3.1) Set up title and summary widgets
//App title
var header = ui.Label('Bali Mangrove 2019', {fontSize: '25px', fontWeight: 'bold', color: '4A997E'});
//App summary
var text = ui.Label(
  'This tool maps mangrove extent in the Bali in 2019 using a Random Forest Classification derived from Landsat imagery. ',
    {fontSize: '15px'});
//3.2) Create a panel to hold text
var panel = ui.Panel({
  widgets:[header, text],//Adds header and text
  style:{width: '300px',position:'middle-right'}});
//3.3) Create variable for additional text and separators
//This creates another panel to house a line separator and instructions for the user
var intro = ui.Panel([
  ui.Label({
    value: '____________________________________________',
    style: {fontWeight: 'bold',  color: '4A997E'},
  }),
  ui.Label({
    value:'Select layers to display.',
    style: {fontSize: '15px', fontWeight: 'bold'}
  })]);
//Add this new panel to the larger panel we created 
panel.add(intro)
panel.add(select)
//3.4) Add our main panel to the root of our GUI
ui.root.insert(1,panel)
///////////////////////////////////////////////////////////////
//         4) Add checkbox widgets and legends               //
///////////////////////////////////////////////////////////////
//4.1) Create a new label for this series of checkboxes
var extLabel = ui.Label({value:'Mangrove Extent',
style: {fontWeight: 'bold', fontSize: '16px', margin: '10px 5px'}
});
//4.2) Add checkboxes to our display
//Create checkboxes that will allow the user to view the extent map for different years
//Creating the checkbox will not do anything yet, we add functionality further 
// in the code
var extCheck = ui.Checkbox('RGB 564').setValue(false); //false = unchecked
var extCheck2 = ui.Checkbox('Mangrove Extent').setValue(false);
var extCheck3 = ui.Checkbox('NDVI').setValue(false);
//4.3) Create legends
//The following code creates legends we can add to the panel
//Extent Legend
///////////////
// Set position of panel
var extentLegend = ui.Panel({
  style: {
    position: 'bottom-left',
    padding: '8px 15px'
  }
});
// The following creates and styles 1 row of the legend.
var makeRowa = function(color, name) {
      // Create the label that is actually the colored box.
      var colorBox = ui.Label({
        style: {
          backgroundColor: '#' + color,
          // Use padding to give the box height and width.
          padding: '8px',
          margin: '0 0 4px 0'
        }
      });
      // Create a label with the description text.
      var description = ui.Label({
        value: name,
        style: {margin: '0 0 4px 6px'}
      });
      // Return the panel
      return ui.Panel({
        widgets: [colorBox, description],
        layout: ui.Panel.Layout.Flow('horizontal')
      });
};
//Create a palette using the same colors we used for each extent layer
var paletteMAPa = [
'008000',//2019
];
// Name of each legend value
var namesa = ['Mangrove 2019']; 
// Add color and names to legend
for (var i = 0; i < 1; i++) {
  extentLegend.add(makeRowa(paletteMAPa[i], namesa[i]));
  }  
// Add legend bar
function makeLegend2 (NDVIvis) {
  var lon = ee.Image.pixelLonLat().select('longitude');
  var gradient = lon.multiply((NDVIvis.max-NDVIvis.min)/100.0).add(NDVIvis.min);
  var legendImage = gradient.visualize(NDVIvis);
  var thumb = ui.Thumbnail({
    image: legendImage, 
    params: {bbox:'0,0,100,8', dimensions:'256x20'},  
    style: {position: 'bottom-center'}
  });
  var panel2 = ui.Panel({
    widgets: [
      ui.Label('0'), 
      ui.Label({style: {stretch: 'horizontal'}}), 
      ui.Label('1')
    ],
    layout: ui.Panel.Layout.flow('horizontal'),
    style: {stretch: 'horizontal', maxWidth: '270px', padding: '0px 0px 0px 8px'}
  });
  return ui.Panel().add(panel2).add(thumb);
}
  //4.4) Add these new widgets to the panel in the order you want them to appear
panel.add(extLabel)
      .add(extCheck)
      .add(extCheck2)
      .add(extentLegend)
      .add(makeLegend2(NDVIvis))
      .add(extCheck3)
///////////////////////////////////////////////////////////////
//          5) Add functionality to widgets                  //
///////////////////////////////////////////////////////////////
//For each checkbox we create function so that clicking the checkbox
//Turns on layers of interest
//Extent False Color
var doCheckbox = function() {
  extCheck.onChange(function(checked){
  gui1.setShown(checked)
  })
}
doCheckbox();
//Extent 2019
var doCheckbox2 = function() {
  extCheck2.onChange(function(checked){
  gui2.setShown(checked)
  })
}
doCheckbox2();
//Extent NDVI
var doCheckbox3 = function() {
  extCheck3.onChange(function(checked){
  gui3.setShown(checked)
  })
}
doCheckbox3();
////////////////////////////////////////////////////////
//          Add a clicking feature to get tree Height //
////////////////////////////////////////////////////////
// Create an inspector panel with a horizontal layout.
var inspector = ui.Panel({
  layout: ui.Panel.Layout.flow('horizontal')
});
// Add a label to the panel.
inspector.add(ui.Label('Click to get NDVI Value'));
// Add the panel to the default map.
Map.add(inspector);
Map.style().set('cursor', 'crosshair');
//Create a function to be invoked when the map is clicked
Map.onClick(function(coords){
// Clear the panel and show a loading message.
inspector.clear();
inspector.style().set('shown', true);
inspector.add(ui.Label('Loading...', {color: 'gray'}));
//Computer the NDVI value
var point = ee.Geometry.Point(coords.lon, coords.lat);
// var reduce = ndvi.reduce(ee.Reducer.first());
var sampledPoint = ndvi_mask.reduceRegion(ee.Reducer.first(), point, 30);
var computedValue = sampledPoint.get('NDVI');  
// Request the value from the server and use the results in a function.
computedValue.evaluate(function(result) {
inspector.clear();
// Add a label with the results from the server.
inspector.add(ui.Label({
      value: 'NDVI: ' + result.toFixed(2),
      style: {stretch: 'vertical'}
    }));
// Add a button to hide the Panel.
    inspector.add(ui.Button({
      label: 'Close',
      onClick: function() {
        inspector.style().set('shown', false);
      }
    }));
  });
});