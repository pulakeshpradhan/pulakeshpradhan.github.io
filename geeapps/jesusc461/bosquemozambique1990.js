var SRTM = ui.import && ui.import("SRTM", "image", {
      "id": "CGIAR/SRTM90_V4"
    }) || ee.Image("CGIAR/SRTM90_V4"),
    Suelo_descubierto = ui.import && ui.import("Suelo_descubierto", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.48416060573581,
                -26.330203045359195
              ],
              [
                32.48360270626071,
                -26.33056844323546
              ],
              [
                32.4838172829819,
                -26.33087614581572
              ],
              [
                32.484031859703094,
                -26.331299235528213
              ],
              [
                32.48458975917819,
                -26.33139539206542
              ],
              [
                32.48431080944064,
                -26.330472286011403
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.486448918660116,
                -26.32865655980394
              ],
              [
                32.485719357808065,
                -26.32904119425307
              ],
              [
                32.4863201726274,
                -26.330348941822155
              ],
              [
                32.48679224141402,
                -26.329425827424387
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.412517616640095,
                -26.528362603741584
              ],
              [
                32.411015579591755,
                -26.5295145059353
              ],
              [
                32.41144473303414,
                -26.530551208024885
              ],
              [
                32.41320426214791,
                -26.52970648851027
              ],
              [
                32.41316134680367,
                -26.528900159537354
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.41243178595162,
                -26.53039762312104
              ],
              [
                32.411788055788044,
                -26.531472713131627
              ],
              [
                32.41234595526314,
                -26.532586188596486
              ],
              [
                32.412989685426716,
                -26.531242337548633
              ],
              [
                32.41294677008248,
                -26.530320830592053
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.41380507696724,
                -26.52160454468997
              ],
              [
                32.412775108705524,
                -26.5231405021373
              ],
              [
                32.41337592352486,
                -26.52467643903495
              ],
              [
                32.4143200610981,
                -26.523370893982012
              ],
              [
                32.4143200610981,
                -26.52225732911595
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.40410620916939,
                -26.519838168222055
              ],
              [
                32.40316207159615,
                -26.52056776179644
              ],
              [
                32.40316207159615,
                -26.52260291936822
              ],
              [
                32.40414912451363,
                -26.523025306041564
              ],
              [
                32.404277870546345,
                -26.521834939617076
              ],
              [
                32.404277870546345,
                -26.520644560850357
              ]
            ]
          ],
          "evenOdd": true
        }
      ],
      "displayProperties": [],
      "properties": {
        "landcover": 1
      },
      "color": "#d63000",
      "mode": "FeatureCollection",
      "shown": false,
      "locked": false
    }) || 
    /* color: #d63000 */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[32.48416060573581, -26.330203045359195],
                  [32.48360270626071, -26.33056844323546],
                  [32.4838172829819, -26.33087614581572],
                  [32.484031859703094, -26.331299235528213],
                  [32.48458975917819, -26.33139539206542],
                  [32.48431080944064, -26.330472286011403]]]),
            {
              "landcover": 1,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.486448918660116, -26.32865655980394],
                  [32.485719357808065, -26.32904119425307],
                  [32.4863201726274, -26.330348941822155],
                  [32.48679224141402, -26.329425827424387]]]),
            {
              "landcover": 1,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.412517616640095, -26.528362603741584],
                  [32.411015579591755, -26.5295145059353],
                  [32.41144473303414, -26.530551208024885],
                  [32.41320426214791, -26.52970648851027],
                  [32.41316134680367, -26.528900159537354]]]),
            {
              "landcover": 1,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.41243178595162, -26.53039762312104],
                  [32.411788055788044, -26.531472713131627],
                  [32.41234595526314, -26.532586188596486],
                  [32.412989685426716, -26.531242337548633],
                  [32.41294677008248, -26.530320830592053]]]),
            {
              "landcover": 1,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.41380507696724, -26.52160454468997],
                  [32.412775108705524, -26.5231405021373],
                  [32.41337592352486, -26.52467643903495],
                  [32.4143200610981, -26.523370893982012],
                  [32.4143200610981, -26.52225732911595]]]),
            {
              "landcover": 1,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.40410620916939, -26.519838168222055],
                  [32.40316207159615, -26.52056776179644],
                  [32.40316207159615, -26.52260291936822],
                  [32.40414912451363, -26.523025306041564],
                  [32.404277870546345, -26.521834939617076],
                  [32.404277870546345, -26.520644560850357]]]),
            {
              "landcover": 1,
              "system:index": "5"
            })]),
    Brenha_Arenosa_de_Licuati = ui.import && ui.import("Brenha_Arenosa_de_Licuati", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.45253128551011,
                -26.491374693296667
              ],
              [
                32.45214504741197,
                -26.492142876698363
              ],
              [
                32.45302481196885,
                -26.492815032963986
              ],
              [
                32.454312272296,
                -26.4927766241404
              ],
              [
                32.453239388690044,
                -26.490856166598697
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.46134444126422,
                -26.460739139213533
              ],
              [
                32.457911213725154,
                -26.463197962776
              ],
              [
                32.46100111851031,
                -26.465810405260036
              ],
              [
                32.46409102329547,
                -26.465042045978983
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.45379134067828,
                -26.52280834545222
              ],
              [
                32.451903065531795,
                -26.523883506549147
              ],
              [
                32.45379134067828,
                -26.52680175019555
              ],
              [
                32.456366261332576,
                -26.526187389277403
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.46024303988951,
                -26.48563306422287
              ],
              [
                32.45938473300475,
                -26.487707251208374
              ],
              [
                32.46204548434752,
                -26.488552279623523
              ],
              [
                32.462388807101426,
                -26.487399966608532
              ],
              [
                32.46221714572447,
                -26.486017175746746
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.472173505587755,
                -26.494390488068277
              ],
              [
                32.47097187594908,
                -26.49623407123996
              ],
              [
                32.4734609659149,
                -26.49753992476207
              ],
              [
                32.474405103488145,
                -26.496080440438405
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.482129865451036,
                -26.485402596692662
              ],
              [
                32.48075657443541,
                -26.487399966608532
              ],
              [
                32.48204403476256,
                -26.489013201595906
              ],
              [
                32.482644849581895,
                -26.48786089320034
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.472357801988174,
                -26.458476447557835
              ],
              [
                32.47029786546474,
                -26.463855161607718
              ],
              [
                32.475104384019424,
                -26.464162509105094
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.46892457444911,
                -26.473613043980933
              ],
              [
                32.46789460618739,
                -26.474842324801315
              ],
              [
                32.469868712022354,
                -26.47538013102989
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.439141325547745,
                -26.47507281349285
              ],
              [
                32.43751054246669,
                -26.476071592486605
              ],
              [
                32.43922715623622,
                -26.476916706400633
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.438626341416885,
                -26.487748980302253
              ],
              [
                32.439141325547745,
                -26.488901289819403
              ],
              [
                32.44102960069423,
                -26.48874764921771
              ],
              [
                32.44025712449794,
                -26.486443015555352
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.44703774888759,
                -26.489669489748216
              ],
              [
                32.44592194993739,
                -26.49066814198195
              ],
              [
                32.44652276475673,
                -26.491974058736766
              ],
              [
                32.448153547837784,
                -26.491589967113534
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.46901040513759,
                -26.49082178001718
              ],
              [
                32.46626382310634,
                -26.49281905579065
              ],
              [
                32.46695046861415,
                -26.4941249481111
              ],
              [
                32.470126204087784,
                -26.49358722954056
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.4813379531071,
                -26.450607683311073
              ],
              [
                32.478763032452804,
                -26.451606674618827
              ],
              [
                32.480222154156905,
                -26.454219380144654
              ],
              [
                32.48262541343425,
                -26.4509150661749
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.48382704307292,
                -26.454142536710588
              ],
              [
                32.48142378379558,
                -26.456832026389534
              ],
              [
                32.48314039756511,
                -26.460059331076607
              ],
              [
                32.48485701133464,
                -26.456601501164357
              ]
            ]
          ],
          "evenOdd": true
        }
      ],
      "displayProperties": [],
      "properties": {
        "landcover": 2
      },
      "color": "#98ff00",
      "mode": "FeatureCollection",
      "shown": false,
      "locked": false
    }) || 
    /* color: #98ff00 */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[32.45253128551011, -26.491374693296667],
                  [32.45214504741197, -26.492142876698363],
                  [32.45302481196885, -26.492815032963986],
                  [32.454312272296, -26.4927766241404],
                  [32.453239388690044, -26.490856166598697]]]),
            {
              "landcover": 2,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.46134444126422, -26.460739139213533],
                  [32.457911213725154, -26.463197962776],
                  [32.46100111851031, -26.465810405260036],
                  [32.46409102329547, -26.465042045978983]]]),
            {
              "landcover": 2,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.45379134067828, -26.52280834545222],
                  [32.451903065531795, -26.523883506549147],
                  [32.45379134067828, -26.52680175019555],
                  [32.456366261332576, -26.526187389277403]]]),
            {
              "landcover": 2,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.46024303988951, -26.48563306422287],
                  [32.45938473300475, -26.487707251208374],
                  [32.46204548434752, -26.488552279623523],
                  [32.462388807101426, -26.487399966608532],
                  [32.46221714572447, -26.486017175746746]]]),
            {
              "landcover": 2,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.472173505587755, -26.494390488068277],
                  [32.47097187594908, -26.49623407123996],
                  [32.4734609659149, -26.49753992476207],
                  [32.474405103488145, -26.496080440438405]]]),
            {
              "landcover": 2,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.482129865451036, -26.485402596692662],
                  [32.48075657443541, -26.487399966608532],
                  [32.48204403476256, -26.489013201595906],
                  [32.482644849581895, -26.48786089320034]]]),
            {
              "landcover": 2,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.472357801988174, -26.458476447557835],
                  [32.47029786546474, -26.463855161607718],
                  [32.475104384019424, -26.464162509105094]]]),
            {
              "landcover": 2,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.46892457444911, -26.473613043980933],
                  [32.46789460618739, -26.474842324801315],
                  [32.469868712022354, -26.47538013102989]]]),
            {
              "landcover": 2,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.439141325547745, -26.47507281349285],
                  [32.43751054246669, -26.476071592486605],
                  [32.43922715623622, -26.476916706400633]]]),
            {
              "landcover": 2,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.438626341416885, -26.487748980302253],
                  [32.439141325547745, -26.488901289819403],
                  [32.44102960069423, -26.48874764921771],
                  [32.44025712449794, -26.486443015555352]]]),
            {
              "landcover": 2,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.44703774888759, -26.489669489748216],
                  [32.44592194993739, -26.49066814198195],
                  [32.44652276475673, -26.491974058736766],
                  [32.448153547837784, -26.491589967113534]]]),
            {
              "landcover": 2,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.46901040513759, -26.49082178001718],
                  [32.46626382310634, -26.49281905579065],
                  [32.46695046861415, -26.4941249481111],
                  [32.470126204087784, -26.49358722954056]]]),
            {
              "landcover": 2,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.4813379531071, -26.450607683311073],
                  [32.478763032452804, -26.451606674618827],
                  [32.480222154156905, -26.454219380144654],
                  [32.48262541343425, -26.4509150661749]]]),
            {
              "landcover": 2,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.48382704307292, -26.454142536710588],
                  [32.48142378379558, -26.456832026389534],
                  [32.48314039756511, -26.460059331076607],
                  [32.48485701133464, -26.456601501164357]]]),
            {
              "landcover": 2,
              "system:index": "13"
            })]),
    Pradarias_arborizadas = ui.import && ui.import("Pradarias_arborizadas", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.40264457335469,
                -26.500271092598602
              ],
              [
                32.4015287744045,
                -26.50157690024971
              ],
              [
                32.403588710927934,
                -26.502345015465846
              ],
              [
                32.403588710927934,
                -26.50134646468363
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.41924404848969,
                -26.50460951024356
              ],
              [
                32.41860031832611,
                -26.505319998244204
              ],
              [
                32.41896509875214,
                -26.505953673024425
              ],
              [
                32.41943716753876,
                -26.50551202127396
              ],
              [
                32.41945862521088,
                -26.505012760729056
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.42287039507782,
                -26.50664495061673
              ],
              [
                32.422033545865176,
                -26.50708659801195
              ],
              [
                32.42235541094696,
                -26.507374628007152
              ],
              [
                32.423063514126895,
                -26.507374628007152
              ],
              [
                32.423042056454776,
                -26.506990587853068
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.406862971676944,
                -26.504763129643006
              ],
              [
                32.40645527590668,
                -26.505262391272698
              ],
              [
                32.406562564267276,
                -26.505569628120305
              ],
              [
                32.40742087115204,
                -26.505454414398738
              ],
              [
                32.40739941347992,
                -26.504993558357064
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.40502549237891,
                -26.51698736346099
              ],
              [
                32.403952608772954,
                -26.51760177361233
              ],
              [
                32.40463925428077,
                -26.51794737787776
              ],
              [
                32.40511132306739,
                -26.51756337307418
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.40107728070899,
                -26.520673775055855
              ],
              [
                32.400433550545415,
                -26.52155696025895
              ],
              [
                32.40034771985694,
                -26.5220945479258
              ],
              [
                32.401420603462896,
                -26.522171345958437
              ],
              [
                32.40137768811866,
                -26.521326564774
              ],
              [
                32.40133477277442,
                -26.52094257127163
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.39459706372901,
                -26.519099384583388
              ],
              [
                32.39378167218848,
                -26.519905782400343
              ],
              [
                32.39373875684424,
                -26.520635375545083
              ],
              [
                32.39459706372901,
                -26.52052017693572
              ],
              [
                32.39524079389258,
                -26.519828982852243
              ],
              [
                32.395197878548345,
                -26.519483384250158
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.39953232831641,
                -26.51522091596414
              ],
              [
                32.3982877833335,
                -26.51602734101829
              ],
              [
                32.398459444710454,
                -26.516488152792405
              ],
              [
                32.40000439710303,
                -26.516180945148452
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.4277706248252,
                -26.518561782892405
              ],
              [
                32.42605401105567,
                -26.51952178414622
              ],
              [
                32.426654825875005,
                -26.520174580414096
              ],
              [
                32.42802811689063,
                -26.519828982852243
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.433392534920415,
                -26.517486571959363
              ],
              [
                32.433392534920415,
                -26.516718557986035
              ],
              [
                32.432147989937505,
                -26.517102565614778
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.439915667244634,
                -26.50938376579526
              ],
              [
                32.438628206917485,
                -26.50953737881076
              ],
              [
                32.43905736035987,
                -26.51084308114836
              ],
              [
                32.440645228096685,
                -26.51057426129216
              ],
              [
                32.44051648206397,
                -26.509921410450758
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.406956682869634,
                -26.510651067029553
              ],
              [
                32.4052400691001,
                -26.511995159120435
              ],
              [
                32.40961743421241,
                -26.513377637433194
              ],
              [
                32.407686243721685,
                -26.510535858404197
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.48814293096351,
                -26.543468619976533
              ],
              [
                32.487585031488415,
                -26.54402530085036
              ],
              [
                32.4880141849308,
                -26.544562783268294
              ],
              [
                32.48878666112709,
                -26.544140475866243
              ],
              [
                32.488572084405895,
                -26.54360299146932
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.49095388601112,
                -26.542009719351086
              ],
              [
                32.49046035955238,
                -26.54218248486741
              ],
              [
                32.49020286748695,
                -26.54291193640092
              ],
              [
                32.49086805532264,
                -26.542719975920793
              ],
              [
                32.4914903278141,
                -26.542336053996817
              ],
              [
                32.4913830394535,
                -26.542124896390884
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.48421617696571,
                -26.542028915532416
              ],
              [
                32.48365827749061,
                -26.54227846559737
              ],
              [
                32.48350807378578,
                -26.54298872050301
              ],
              [
                32.48464533040809,
                -26.54304630854585
              ],
              [
                32.484816991785046,
                -26.542489622920616
              ],
              [
                32.484580957391735,
                -26.542163288711777
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.39882983623606,
                -26.457389310546002
              ],
              [
                32.39591159282786,
                -26.459963465078534
              ],
              [
                32.39732779918772,
                -26.463113844533286
              ],
              [
                32.40183391033274,
                -26.463728542666356
              ],
              [
                32.40127601085764,
                -26.45911822665346
              ]
            ]
          ],
          "evenOdd": true
        }
      ],
      "displayProperties": [],
      "properties": {
        "landcover": 3
      },
      "color": "#00ffff",
      "mode": "FeatureCollection",
      "shown": false,
      "locked": false
    }) || 
    /* color: #00ffff */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[32.40264457335469, -26.500271092598602],
                  [32.4015287744045, -26.50157690024971],
                  [32.403588710927934, -26.502345015465846],
                  [32.403588710927934, -26.50134646468363]]]),
            {
              "landcover": 3,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.41924404848969, -26.50460951024356],
                  [32.41860031832611, -26.505319998244204],
                  [32.41896509875214, -26.505953673024425],
                  [32.41943716753876, -26.50551202127396],
                  [32.41945862521088, -26.505012760729056]]]),
            {
              "landcover": 3,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.42287039507782, -26.50664495061673],
                  [32.422033545865176, -26.50708659801195],
                  [32.42235541094696, -26.507374628007152],
                  [32.423063514126895, -26.507374628007152],
                  [32.423042056454776, -26.506990587853068]]]),
            {
              "landcover": 3,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.406862971676944, -26.504763129643006],
                  [32.40645527590668, -26.505262391272698],
                  [32.406562564267276, -26.505569628120305],
                  [32.40742087115204, -26.505454414398738],
                  [32.40739941347992, -26.504993558357064]]]),
            {
              "landcover": 3,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.40502549237891, -26.51698736346099],
                  [32.403952608772954, -26.51760177361233],
                  [32.40463925428077, -26.51794737787776],
                  [32.40511132306739, -26.51756337307418]]]),
            {
              "landcover": 3,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.40107728070899, -26.520673775055855],
                  [32.400433550545415, -26.52155696025895],
                  [32.40034771985694, -26.5220945479258],
                  [32.401420603462896, -26.522171345958437],
                  [32.40137768811866, -26.521326564774],
                  [32.40133477277442, -26.52094257127163]]]),
            {
              "landcover": 3,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.39459706372901, -26.519099384583388],
                  [32.39378167218848, -26.519905782400343],
                  [32.39373875684424, -26.520635375545083],
                  [32.39459706372901, -26.52052017693572],
                  [32.39524079389258, -26.519828982852243],
                  [32.395197878548345, -26.519483384250158]]]),
            {
              "landcover": 3,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.39953232831641, -26.51522091596414],
                  [32.3982877833335, -26.51602734101829],
                  [32.398459444710454, -26.516488152792405],
                  [32.40000439710303, -26.516180945148452]]]),
            {
              "landcover": 3,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.4277706248252, -26.518561782892405],
                  [32.42605401105567, -26.51952178414622],
                  [32.426654825875005, -26.520174580414096],
                  [32.42802811689063, -26.519828982852243]]]),
            {
              "landcover": 3,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.433392534920415, -26.517486571959363],
                  [32.433392534920415, -26.516718557986035],
                  [32.432147989937505, -26.517102565614778]]]),
            {
              "landcover": 3,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.439915667244634, -26.50938376579526],
                  [32.438628206917485, -26.50953737881076],
                  [32.43905736035987, -26.51084308114836],
                  [32.440645228096685, -26.51057426129216],
                  [32.44051648206397, -26.509921410450758]]]),
            {
              "landcover": 3,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.406956682869634, -26.510651067029553],
                  [32.4052400691001, -26.511995159120435],
                  [32.40961743421241, -26.513377637433194],
                  [32.407686243721685, -26.510535858404197]]]),
            {
              "landcover": 3,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.48814293096351, -26.543468619976533],
                  [32.487585031488415, -26.54402530085036],
                  [32.4880141849308, -26.544562783268294],
                  [32.48878666112709, -26.544140475866243],
                  [32.488572084405895, -26.54360299146932]]]),
            {
              "landcover": 3,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.49095388601112, -26.542009719351086],
                  [32.49046035955238, -26.54218248486741],
                  [32.49020286748695, -26.54291193640092],
                  [32.49086805532264, -26.542719975920793],
                  [32.4914903278141, -26.542336053996817],
                  [32.4913830394535, -26.542124896390884]]]),
            {
              "landcover": 3,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.48421617696571, -26.542028915532416],
                  [32.48365827749061, -26.54227846559737],
                  [32.48350807378578, -26.54298872050301],
                  [32.48464533040809, -26.54304630854585],
                  [32.484816991785046, -26.542489622920616],
                  [32.484580957391735, -26.542163288711777]]]),
            {
              "landcover": 3,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.39882983623606, -26.457389310546002],
                  [32.39591159282786, -26.459963465078534],
                  [32.39732779918772, -26.463113844533286],
                  [32.40183391033274, -26.463728542666356],
                  [32.40127601085764, -26.45911822665346]]]),
            {
              "landcover": 3,
              "system:index": "15"
            })]),
    ROI = ui.import && ui.import("ROI", "table", {
      "id": "projects/planetscopejesus/assets/Barrios"
    }) || ee.FeatureCollection("projects/planetscopejesus/assets/Barrios"),
    degradada = ui.import && ui.import("degradada", "geometry", {
      "geometries": [
        {
          "type": "Point",
          "coordinates": [
            32.37030398449345,
            -26.513942651042974
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            32.38570372067846,
            -26.473378893839165
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            32.37348657816673,
            -26.460345410092476
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            32.38772067406229,
            -26.47565387138207
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            32.367757988624035,
            -26.513257574153357
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            32.37639965690452,
            -26.521028097778746
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            32.36323200133201,
            -26.531494529004583
          ]
        }
      ],
      "displayProperties": [],
      "properties": {},
      "color": "#d63000",
      "mode": "Geometry",
      "shown": false,
      "locked": false
    }) || 
    /* color: #d63000 */
    /* shown: false */
    ee.Geometry.MultiPoint(
        [[32.37030398449345, -26.513942651042974],
         [32.38570372067846, -26.473378893839165],
         [32.37348657816673, -26.460345410092476],
         [32.38772067406229, -26.47565387138207],
         [32.367757988624035, -26.513257574153357],
         [32.37639965690452, -26.521028097778746],
         [32.36323200133201, -26.531494529004583]]),
    No_degradada = ui.import && ui.import("No_degradada", "geometry", {
      "geometries": [
        {
          "type": "Point",
          "coordinates": [
            32.38301742146623,
            -26.519731692743647
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            32.36406951077141,
            -26.534946936433077
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            32.4778842260633,
            -26.477047104443002
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            32.379545909877635,
            -26.506944683367156
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            32.386655732659065,
            -26.523932690366536
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            32.37013600733634,
            -26.5465327315081
          ]
        }
      ],
      "displayProperties": [],
      "properties": {},
      "color": "#98ff00",
      "mode": "Geometry",
      "shown": false,
      "locked": false
    }) || 
    /* color: #98ff00 */
    /* shown: false */
    ee.Geometry.MultiPoint(
        [[32.38301742146623, -26.519731692743647],
         [32.36406951077141, -26.534946936433077],
         [32.4778842260633, -26.477047104443002],
         [32.379545909877635, -26.506944683367156],
         [32.386655732659065, -26.523932690366536],
         [32.37013600733634, -26.5465327315081]]),
    recuperacion = ui.import && ui.import("recuperacion", "geometry", {
      "geometries": [
        {
          "type": "Point",
          "coordinates": [
            32.38699561968983,
            -26.43538129873734
          ]
        }
      ],
      "displayProperties": [],
      "properties": {},
      "color": "#0b4a8b",
      "mode": "Geometry",
      "shown": false,
      "locked": false
    }) || 
    /* color: #0b4a8b */
    /* shown: false */
    ee.Geometry.Point([32.38699561968983, -26.43538129873734]),
    Floresta_arenosa = ui.import && ui.import("Floresta_arenosa", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.3733950181747,
                -26.503112157520984
              ],
              [
                32.372708372666885,
                -26.50403388284875
              ],
              [
                32.372965864732315,
                -26.504840386445014
              ],
              [
                32.37391000230556,
                -26.503880262474276
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.385411314561416,
                -26.498004128978632
              ],
              [
                32.384939245774795,
                -26.498465013053053
              ],
              [
                32.38657002885585,
                -26.499041115546937
              ],
              [
                32.386183790757705,
                -26.498234571246865
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.376699499681045,
                -26.50295853591416
              ],
              [
                32.375969938828995,
                -26.50418750301784
              ],
              [
                32.37815862138515,
                -26.50380345221001
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.349019102647354,
                -26.51017852939625
              ],
              [
                32.3479462190414,
                -26.51102339259368
              ],
              [
                32.34919076402431,
                -26.511637834652245
              ],
              [
                32.3503065629745,
                -26.511561029574676
              ],
              [
                32.3494053407455,
                -26.51052415600084
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.369232229783584,
                -26.514249176730434
              ],
              [
                32.36837392289882,
                -26.514825200078107
              ],
              [
                32.368931822373916,
                -26.516207644324624
              ],
              [
                32.36966138322597,
                -26.516553252785922
              ],
              [
                32.369232229783584,
                -26.514748397132006
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.37107758958583,
                -26.520662073685514
              ],
              [
                32.37039094407802,
                -26.521737254882467
              ],
              [
                32.370691351487686,
                -26.523158014591722
              ],
              [
                32.37176423509364,
                -26.522620431904652
              ],
              [
                32.37180715043788,
                -26.521660456559456
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.36828809221034,
                -26.527592975704636
              ],
              [
                32.367687277391006,
                -26.528629695150965
              ],
              [
                32.36781602342372,
                -26.529282439627806
              ],
              [
                32.36833100755458,
                -26.528783282420672
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.36614232499843,
                -26.53358278102845
              ],
              [
                32.3653269334579,
                -26.534849815169604
              ],
              [
                32.36614232499843,
                -26.535886469060465
              ],
              [
                32.366743139817764,
                -26.534964999397776
              ],
              [
                32.366442732408096,
                -26.53438907710067
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.369304249954176,
                -26.539809307963896
              ],
              [
                32.368059704971266,
                -26.541229843954476
              ],
              [
                32.36926133460994,
                -26.541498592027924
              ],
              [
                32.37003381080623,
                -26.54088430979202
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.42318446464534,
                -26.547142156117157
              ],
              [
                32.42241198844905,
                -26.54744928088906
              ],
              [
                32.42292697257991,
                -26.5483322600266
              ],
              [
                32.42387111015315,
                -26.548639381611235
              ],
              [
                32.42387111015315,
                -26.54802513761945
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.43983561820979,
                -26.54618238590369
              ],
              [
                32.43884856529231,
                -26.54656629495294
              ],
              [
                32.43932063407893,
                -26.54814030861851
              ],
              [
                32.440479348373366,
                -26.548293869770685
              ],
              [
                32.44060809440608,
                -26.547372499773196
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.45176608390803,
                -26.538196786333515
              ],
              [
                32.450950692367506,
                -26.539233409983524
              ],
              [
                32.45065028495784,
                -26.540653953105473
              ],
              [
                32.45180899925227,
                -26.541037880659378
              ],
              [
                32.45266730613704,
                -26.540154845364416
              ],
              [
                32.45266730613704,
                -26.538926263211884
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.37311153885256,
                -26.486823023177976
              ],
              [
                32.36813335892092,
                -26.488513086794846
              ],
              [
                32.37293987747561,
                -26.49173950289656
              ],
              [
                32.375171475376,
                -26.489588568889307
              ]
            ]
          ],
          "evenOdd": true
        }
      ],
      "displayProperties": [],
      "properties": {
        "landcover": 4
      },
      "color": "#d6cc13",
      "mode": "FeatureCollection",
      "shown": false,
      "locked": false
    }) || 
    /* color: #d6cc13 */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[32.3733950181747, -26.503112157520984],
                  [32.372708372666885, -26.50403388284875],
                  [32.372965864732315, -26.504840386445014],
                  [32.37391000230556, -26.503880262474276]]]),
            {
              "landcover": 4,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.385411314561416, -26.498004128978632],
                  [32.384939245774795, -26.498465013053053],
                  [32.38657002885585, -26.499041115546937],
                  [32.386183790757705, -26.498234571246865]]]),
            {
              "landcover": 4,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.376699499681045, -26.50295853591416],
                  [32.375969938828995, -26.50418750301784],
                  [32.37815862138515, -26.50380345221001]]]),
            {
              "landcover": 4,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.349019102647354, -26.51017852939625],
                  [32.3479462190414, -26.51102339259368],
                  [32.34919076402431, -26.511637834652245],
                  [32.3503065629745, -26.511561029574676],
                  [32.3494053407455, -26.51052415600084]]]),
            {
              "landcover": 4,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.369232229783584, -26.514249176730434],
                  [32.36837392289882, -26.514825200078107],
                  [32.368931822373916, -26.516207644324624],
                  [32.36966138322597, -26.516553252785922],
                  [32.369232229783584, -26.514748397132006]]]),
            {
              "landcover": 4,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.37107758958583, -26.520662073685514],
                  [32.37039094407802, -26.521737254882467],
                  [32.370691351487686, -26.523158014591722],
                  [32.37176423509364, -26.522620431904652],
                  [32.37180715043788, -26.521660456559456]]]),
            {
              "landcover": 4,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.36828809221034, -26.527592975704636],
                  [32.367687277391006, -26.528629695150965],
                  [32.36781602342372, -26.529282439627806],
                  [32.36833100755458, -26.528783282420672]]]),
            {
              "landcover": 4,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.36614232499843, -26.53358278102845],
                  [32.3653269334579, -26.534849815169604],
                  [32.36614232499843, -26.535886469060465],
                  [32.366743139817764, -26.534964999397776],
                  [32.366442732408096, -26.53438907710067]]]),
            {
              "landcover": 4,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.369304249954176, -26.539809307963896],
                  [32.368059704971266, -26.541229843954476],
                  [32.36926133460994, -26.541498592027924],
                  [32.37003381080623, -26.54088430979202]]]),
            {
              "landcover": 4,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.42318446464534, -26.547142156117157],
                  [32.42241198844905, -26.54744928088906],
                  [32.42292697257991, -26.5483322600266],
                  [32.42387111015315, -26.548639381611235],
                  [32.42387111015315, -26.54802513761945]]]),
            {
              "landcover": 4,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.43983561820979, -26.54618238590369],
                  [32.43884856529231, -26.54656629495294],
                  [32.43932063407893, -26.54814030861851],
                  [32.440479348373366, -26.548293869770685],
                  [32.44060809440608, -26.547372499773196]]]),
            {
              "landcover": 4,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.45176608390803, -26.538196786333515],
                  [32.450950692367506, -26.539233409983524],
                  [32.45065028495784, -26.540653953105473],
                  [32.45180899925227, -26.541037880659378],
                  [32.45266730613704, -26.540154845364416],
                  [32.45266730613704, -26.538926263211884]]]),
            {
              "landcover": 4,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.37311153885256, -26.486823023177976],
                  [32.36813335892092, -26.488513086794846],
                  [32.37293987747561, -26.49173950289656],
                  [32.375171475376, -26.489588568889307]]]),
            {
              "landcover": 4,
              "system:index": "12"
            })]),
    type_f = ui.import && ui.import("type_f", "image", {
      "id": "projects/planetscopejesus/assets/LULC_v2_modificado"
    }) || ee.Image("projects/planetscopejesus/assets/LULC_v2_modificado"),
    Matagal_V_arb = ui.import && ui.import("Matagal_V_arb", "geometry", {
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.37589175529475,
                -26.483586837373757
              ],
              [
                32.37520510978694,
                -26.48458554243816
              ],
              [
                32.37666423149104,
                -26.484969657461136
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.37048442192073,
                -26.480283366525576
              ],
              [
                32.3696690303802,
                -26.480897972937676
              ],
              [
                32.37014109916682,
                -26.482088763514945
              ],
              [
                32.37095649070735,
                -26.481243687601204
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.39923770256038,
                -26.481090036767917
              ],
              [
                32.39842231101985,
                -26.48247288687753
              ],
              [
                32.398808549117994,
                -26.483356365742573
              ],
              [
                32.39945227928157,
                -26.482204000658434
              ],
              [
                32.39958102531428,
                -26.481205274912124
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.36687953300471,
                -26.465723916967086
              ],
              [
                32.36627871818538,
                -26.466761194639044
              ],
              [
                32.368081162643385,
                -26.466991699518747
              ],
              [
                32.36722285575862,
                -26.466108094972697
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.377737115097,
                -26.470430009165295
              ],
              [
                32.37696463890071,
                -26.471006252126756
              ],
              [
                32.37816626853938,
                -26.471659323994405
              ],
              [
                32.37876708335872,
                -26.47062209047309
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.386534760665846,
                -26.460479758972006
              ],
              [
                32.38571936912532,
                -26.460633437329655
              ],
              [
                32.385290215682936,
                -26.461786018472598
              ],
              [
                32.38747889823909,
                -26.461901275952158
              ],
              [
                32.38713557548518,
                -26.460902373961897
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.387779305648756,
                -26.463092263149996
              ],
              [
                32.387092660140944,
                -26.464014309291414
              ],
              [
                32.387564728927565,
                -26.46466742083924
              ],
              [
                32.38820845909114,
                -26.464360074690145
              ],
              [
                32.388079713058424,
                -26.463783798448514
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.40970904655452,
                -26.499066635483747
              ],
              [
                32.4092369777679,
                -26.499450702123294
              ],
              [
                32.40945155448909,
                -26.500103612464752
              ],
              [
                32.409537385177565,
                -26.50075651909667
              ],
              [
                32.410266946029616,
                -26.499450702123294
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.44605834312434,
                -26.54449280976419
              ],
              [
                32.44507129020686,
                -26.54522224660483
              ],
              [
                32.446015427780104,
                -26.546066851887648
              ],
              [
                32.446702073287916,
                -26.544991898630016
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.368338654708815,
                -26.54833882040181
              ],
              [
                32.367823670577955,
                -26.54899145274862
              ],
              [
                32.368596146774244,
                -26.549682471185022
              ],
              [
                32.36893946952815,
                -26.548799502443952
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.370822825876026,
                -26.45833244199085
              ],
              [
                32.36979285761431,
                -26.459254526258757
              ],
              [
                32.370608249154834,
                -26.45971556562318
              ],
              [
                32.3720244555147,
                -26.45936978627296
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                32.35717574640825,
                -26.453452956470215
              ],
              [
                32.35717574640825,
                -26.455143510297507
              ],
              [
                32.35842029139116,
                -26.454874560212502
              ],
              [
                32.35799113794878,
                -26.45387559725391
              ]
            ]
          ],
          "evenOdd": true
        }
      ],
      "displayProperties": [],
      "properties": {
        "landcover": 5
      },
      "color": "#d60000",
      "mode": "FeatureCollection",
      "shown": false,
      "locked": false
    }) || 
    /* color: #d60000 */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[32.37589175529475, -26.483586837373757],
                  [32.37520510978694, -26.48458554243816],
                  [32.37666423149104, -26.484969657461136]]]),
            {
              "landcover": 5,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.37048442192073, -26.480283366525576],
                  [32.3696690303802, -26.480897972937676],
                  [32.37014109916682, -26.482088763514945],
                  [32.37095649070735, -26.481243687601204]]]),
            {
              "landcover": 5,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.39923770256038, -26.481090036767917],
                  [32.39842231101985, -26.48247288687753],
                  [32.398808549117994, -26.483356365742573],
                  [32.39945227928157, -26.482204000658434],
                  [32.39958102531428, -26.481205274912124]]]),
            {
              "landcover": 5,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.36687953300471, -26.465723916967086],
                  [32.36627871818538, -26.466761194639044],
                  [32.368081162643385, -26.466991699518747],
                  [32.36722285575862, -26.466108094972697]]]),
            {
              "landcover": 5,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.377737115097, -26.470430009165295],
                  [32.37696463890071, -26.471006252126756],
                  [32.37816626853938, -26.471659323994405],
                  [32.37876708335872, -26.47062209047309]]]),
            {
              "landcover": 5,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.386534760665846, -26.460479758972006],
                  [32.38571936912532, -26.460633437329655],
                  [32.385290215682936, -26.461786018472598],
                  [32.38747889823909, -26.461901275952158],
                  [32.38713557548518, -26.460902373961897]]]),
            {
              "landcover": 5,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.387779305648756, -26.463092263149996],
                  [32.387092660140944, -26.464014309291414],
                  [32.387564728927565, -26.46466742083924],
                  [32.38820845909114, -26.464360074690145],
                  [32.388079713058424, -26.463783798448514]]]),
            {
              "landcover": 5,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.40970904655452, -26.499066635483747],
                  [32.4092369777679, -26.499450702123294],
                  [32.40945155448909, -26.500103612464752],
                  [32.409537385177565, -26.50075651909667],
                  [32.410266946029616, -26.499450702123294]]]),
            {
              "landcover": 5,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.44605834312434, -26.54449280976419],
                  [32.44507129020686, -26.54522224660483],
                  [32.446015427780104, -26.546066851887648],
                  [32.446702073287916, -26.544991898630016]]]),
            {
              "landcover": 5,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.368338654708815, -26.54833882040181],
                  [32.367823670577955, -26.54899145274862],
                  [32.368596146774244, -26.549682471185022],
                  [32.36893946952815, -26.548799502443952]]]),
            {
              "landcover": 5,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.370822825876026, -26.45833244199085],
                  [32.36979285761431, -26.459254526258757],
                  [32.370608249154834, -26.45971556562318],
                  [32.3720244555147, -26.45936978627296]]]),
            {
              "landcover": 5,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[32.35717574640825, -26.453452956470215],
                  [32.35717574640825, -26.455143510297507],
                  [32.35842029139116, -26.454874560212502],
                  [32.35799113794878, -26.45387559725391]]]),
            {
              "landcover": 5,
              "system:index": "11"
            })]);
//=====================================================================================================================
//                                        
// General Coverage Extent Mapping  
//                                                  
// Code: General Coverage Extent Mapping Mozambique
// Written by: Jesús Céspedes Rivera and Filipa Zacarias based on codes of Abigail Barenblitt of the ARSET Program 
// Objective: This code works through a classification of general covergae in 1990 for the South of Mozambique 
//=====================================================================================================================
//Index
//1) Call the collection of Landsat 5
//1.1) Apply mask clouds in Landsat 5.  
//1.2) Apply the function to Landsat 5 data. 
//2)  Function to Normalize Image.
//2.2) Verify Normalization. 
//2.3) Print the results. 
//3) Adding spectral indices and calculate de PCA
//3.1) Adding Spectral Indices to Landsat 5 data. 
//3.2) Function to calculate Principal Components.
//3.3) Add the results of PCA to the map
//4) Construct Random Forest Model including Landsat 5.  
//4.1) Prepare training data and predictors. 
//4.2) Begin Random Forest Classification. 
//4.3) Test the accuracy of the model. 
//4.4) Classify the Landsat composite using the Random Forest model. 
//4.5) Map results of classfication. 
//4) Construct Random Forest Model with only Sentinel-2 data-.      
//4.1) Prepare training data and predictors. 
//4.2) Begin Random Forest Classification. 
//4.3) Test the accuracy of the model. 
//4.4) Classify the Landsat composite using the Random Forest model. 
//4.5) Map results. 
//5) Calculate Feature Importance of the co-variables in the RF
//5.1) Print the plot of the importance 
//Start code
//1) Call the collection of Landsat 5
Map.addLayer(type_f.clip(ROI),0);
Map.setOptions('satellite');
Map.centerObject(ROI, 11);
// Function to mask clouds  
function maskL457sr(image) {
  // Bit 0 - Fill
  // Bit 1 - Dilated Cloud
  // Bit 2 - Unused
  // Bit 3 - Cloud
  // Bit 4 - Cloud Shadow
  var qaMask = image.select('QA_PIXEL').bitwiseAnd(parseInt('11111', 2)).eq(0); 
  var saturationMask = image.select('QA_RADSAT').eq(0);
  // Apply the scaling factors to the appropriate bands.
  var opticalBands = image.select('SR_B.').multiply(0.0000275).add(-0.2);
  var thermalBand = image.select('ST_B6').multiply(0.00341802).add(149.0);
  // Replace the original bands with the scaled ones and apply the masks.
  return image.addBands(opticalBands, null, true)
      .addBands(thermalBand, null, true)
      .updateMask(qaMask)
      .updateMask(saturationMask);
}
//1.1) Apply mask clouds in Landsat 5.  
// Map the function over one year of data.
var collection = ee.ImageCollection("LANDSAT/LT05/C02/T1_L2")
                     .filterDate('1990-05-01', '1990-06-03')
                     .map(maskL457sr) //1.2) Apply the function to Landsat 5 data. 
                     .filterBounds(ROI);
print(collection);
var composite = collection.mosaic().clip(ROI);
// Display the results.
// Map.addLayer(composite, {bands: ['SR_B3', 'SR_B2', 'SR_B1'], min: 0, max: 0.1});
// Temporal Parameters
//2.4) Apply filters and masks to Landsat 8 imagery
///////////////////////////////////////////////////
var collection_2 = collection
//Add the indices
var image = collection_2.median()
///////////////////////
//************************************************************************** 
// Function to Normalize Image
// Pixel Values should be between 0 and 1
// Formula is (x - xmin) / (xmax - xmin)
//************************************************************************** 
function normalize(image){
  var bandNames = image.bandNames();
  // Compute min and max of the image
  var minDict = image.reduceRegion({
    reducer: ee.Reducer.min(),
    geometry: ROI,
    scale: 30,
    maxPixels: 1e9,
    bestEffort: true,
    tileScale: 16
  });
  var maxDict = image.reduceRegion({
    reducer: ee.Reducer.max(),
    geometry: ROI,
    scale: 30,
    maxPixels: 1e9,
    bestEffort: true,
    tileScale: 16
  });
  var mins = ee.Image.constant(minDict.values(bandNames));
  var maxs = ee.Image.constant(maxDict.values(bandNames));
  var normalized = image.subtract(mins).divide(maxs.subtract(mins));
  return normalized;
}
//************************************************************************** 
// Function to Standardize Image
// (Mean Centered Imagery with Unit Standard Deviation)
// https://365datascience.com/tutorials/statistics-tutorials/standardization/
//************************************************************************** 
function standardize(image){
  var bandNames = image.bandNames();
  // Mean center the data to enable a faster covariance reducer
  // and an SD stretch of the principal components.
  var meanDict = image.reduceRegion({
    reducer: ee.Reducer.mean(),
    geometry: ROI,
    scale: 30,
    maxPixels: 1e9,
    bestEffort: true,
    tileScale: 16
  });
  var means = ee.Image.constant(meanDict.values(bandNames));
  var centered = image.subtract(means);
  var stdDevDict = image.reduceRegion({
    reducer: ee.Reducer.stdDev(),
    geometry: ROI,
    scale: 30,
    maxPixels: 1e9,
    bestEffort: true,
    tileScale: 16
  });
  var stddevs = ee.Image.constant(stdDevDict.values(bandNames));
  var standardized = centered.divide(stddevs);
  return standardized;
}
var standardizedImage = standardize(image);
var normalizedImage = normalize(image);
Map.addLayer(image, 
  {bands: ['SR_B3', 'SR_B2', 'SR_B1'], min: 0, max: 0.3, gamma: 1.2}, 'Original Image',0);
Map.addLayer(normalizedImage,
  {bands: ['SR_B3', 'SR_B2', 'SR_B1'], min: 0, max: 1, gamma: 1.2}, 'Normalized Image',0);
Map.addLayer(standardizedImage,
  {bands: ['SR_B3', 'SR_B2', 'SR_B1'], min: -1, max: 2, gamma: 1.2}, 'Standarized Image',0);
// Verify Normalization
var beforeDict = image.reduceRegion({
  reducer: ee.Reducer.minMax(),
  geometry: ROI,
  scale: 30,
  maxPixels: 1e9,
  bestEffort: true,
  tileScale: 16
});
var afterDict = normalizedImage.reduceRegion({
  reducer: ee.Reducer.minMax(),
  geometry: ROI,
  scale: 30,
  maxPixels: 1e9,
  bestEffort: true,
  tileScale: 16
});
print('Original Image Min/Max', beforeDict);
print('Normalized Image Min/Max', afterDict);
// Verify Standadization
// Verify that the means are 0 and standard deviations are 1
var beforeDict = image.reduceRegion({
  reducer: ee.Reducer.mean().combine({
      reducer2: ee.Reducer.stdDev(), sharedInputs: true}),
  geometry: ROI,
  scale: 30,
  maxPixels: 1e9,
  bestEffort: true,
  tileScale: 16
});
var resultDict = standardizedImage.reduceRegion({
  reducer: ee.Reducer.mean().combine({
      reducer2: ee.Reducer.stdDev(), sharedInputs: true}),
  geometry: ROI,
  scale: 30,
  maxPixels: 1e9,
  bestEffort: true,
  tileScale: 16
});
// Means are very small franctions close to 0
// Round them off to 2 decimals
var afterDict = resultDict.map(function(key, value) {
  return ee.Number(value).format('%.2f');
});
//2.3) Print the results. 
print('Original Image Mean/StdDev', beforeDict);
print('Standarized Image Mean/StdDev', afterDict);
//3) Adding spectral indices and calculate de PCA
//3.1) Adding Spectral Indices
///////////////////////////////
// This function maps spectral indices for Mangrove Mapping using Landsat 5 Imagery
var addIndicesl5 = function(img) {
  // NDVI
  var ndvi = img.normalizedDifference(['SR_B4','SR_B3']).rename('NDVI');
  // NDMI (Normalized Difference Mangrove Index - Shi et al 2016 - New spectral metrics for mangrove forest identification)
  var ndmi = img.normalizedDifference(['SR_B4','SR_B5']).rename('NDMI');
  // MNDWI (Modified Normalized Difference Water Index - Hanqiu Xu, 2006)
  var ndwi = img.normalizedDifference(['SR_B2','SR_B4']).rename('NDWI');
  var savi = img.expression('((NIR - RED) / (NIR + RED + 0.5)) * (1.5)',{
    'NIR':img.select('SR_B4'),
    'RED':img.select('SR_B3')
  }).rename('SAVI');
  // SR (Simple Ratio)
  var sr = img.select('SR_B4').divide(img.select('SR_B3')).rename('SR');
  var gcvi = img.expression('(NIR/GREEN)-1',{
    'NIR':img.select('SR_B4'),
    'GREEN':img.select('SR_B2')
  }).rename('GCVI');
  return img
    .addBands(ndvi)
    .addBands(ndmi)
    .addBands(ndwi)
    .addBands(sr)
    .addBands(savi)
    .addBands(gcvi);
};
//Apply the masks
var compositeNew = ee.ImageCollection(normalizedImage).map(addIndicesl5).median().clip(ROI);
print(compositeNew);
Map.addLayer(compositeNew, {bands: ['SR_B3', 'SR_B2', 'SR_B1'], min: 0, max: 1.18}, 'RGB');
Map.addLayer(compositeNew, {bands: ['NDVI'], min: 0, max: 1}, 'NDVI');
var inBands = ['SR_B1','SR_B2','SR_B3','SR_B4','SR_B5','SR_B7']; // bandas para ejecutar el Kmeans ajustar
var composite = compositeNew.select(inBands);  
//3.2) Function to calculate Principal Components
//*
// Function to calculate Principal Components
// https://developers.google.com/earth-engine/guides/arrays_eigen_analysis
//
function PCA(maskedImage){
  var image = maskedImage.unmask()
  var scale = 30;
  var region = ROI;
  var bandNames = image.bandNames();
  // Mean center the data to enable a faster covariance reducer
  // and an SD stretch of the principal components.
  var meanDict = image.reduceRegion({
    reducer: ee.Reducer.mean(),
    geometry: region,
    scale: scale,
    maxPixels: 1e9,
    bestEffort: true,
    tileScale: 16
  });
  var means = ee.Image.constant(meanDict.values(bandNames));
  var centered = image.subtract(means);
  // This helper function returns a list of new band names.
  var getNewBandNames = function(prefix) {
    var seq = ee.List.sequence(1, bandNames.length());
    return seq.map(function(b) {
      return ee.String(prefix).cat(ee.Number(b).int());
    });
  };
  // This function accepts mean centered imagery, a scale and
  // a region in which to perform the analysis.  It returns the
  // Principal Components (PC) in the region as a new image.
  var getPrincipalComponents = function(centered, scale, region) {
    // Collapse the bands of the image into a 1D array per pixel.
    var arrays = centered.toArray();
    // Compute the covariance of the bands within the region.
    var covar = arrays.reduceRegion({
      reducer: ee.Reducer.centeredCovariance(),
      geometry: region,
      scale: scale,
      maxPixels: 1e9,
      bestEffort: true,
      tileScale: 16
    });
    // Get the 'array' covariance result and cast to an array.
    // This represents the band-to-band covariance within the region.
    var covarArray = ee.Array(covar.get('array'));
    // Perform an eigen analysis and slice apart the values and vectors.
    var eigens = covarArray.eigen();
    // This is a P-length vector of Eigenvalues.
    var eigenValues = eigens.slice(1, 0, 1);
    // Compute Percentage Variance of each component
    var eigenValuesList = eigenValues.toList().flatten();
    var total = eigenValuesList.reduce(ee.Reducer.sum());
    var percentageVariance = eigenValuesList.map(function(item) {
      return (ee.Number(item).divide(total)).multiply(100).format('%.2f');
    });
    // This will allow us to decide how many components capture
    // most of the variance in the input
    print('Percentage Variance of Each Component', percentageVariance);
    // This is a PxP matrix with eigenvectors in rows.
    var eigenVectors = eigens.slice(1, 1);
    // Convert the array image to 2D arrays for matrix computations.
    var arrayImage = arrays.toArray(1);
    // Left multiply the image array by the matrix of eigenvectors.
    var principalComponents = ee.Image(eigenVectors).matrixMultiply(arrayImage);
    // Turn the square roots of the Eigenvalues into a P-band image.
    var sdImage = ee.Image(eigenValues.sqrt())
      .arrayProject([0]).arrayFlatten([getNewBandNames('sd')]);
    // Turn the PCs into a P-band image, normalized by SD.
    return principalComponents
      // Throw out an an unneeded dimension, [[]] -> [].
      .arrayProject([0])
      // Make the one band array image a multi-band image, [] -> image.
      .arrayFlatten([getNewBandNames('pc')])
      // Normalize the PCs by their SDs.
      .divide(sdImage);
  };
var pcImage = getPrincipalComponents(centered, scale, region);
  return pcImage.mask(maskedImage.mask());
}
// As you see from the printed results, ~97% of the variance
// from the original image is captured in the first 3 principal components
// We select those and discard others
var pca = PCA(composite).select(['pc1', 'pc2', 'pc3']);
//3.3) Add the results of PCA to the map
Map.addLayer(pca,{},"Principal components",0);
///////////////////////////////////////////////////////////////
//          4) Construct Random Forest Model                 //
///////////////////////////////////////////////////////////////
//4.1) Prepare training data and predictors
////////////////////////////////////////////
//After drawing training polygons, merge them together
var classes = Suelo_descubierto.merge(Brenha_Arenosa_de_Licuati).merge(Pradarias_arborizadas).merge(Floresta_arenosa).merge(Matagal_V_arb);
//Define the bands you want to include in the model
var bands = ['SR_B4','SR_B3','SR_B2','SR_B1','NDVI','SAVI','GCVI','NDMI','NDWI','SR','pc1', 'pc2'];
var all_bands = compositeNew.addBands(pca);
//Create a variable called image to select the bands of interest and clip to geometry
var image = all_bands.select(bands).clip(ROI);
//Assemble samples for the model
var samples = image.sampleRegions({
    collection: classes, // Set of geometries selected for training
    properties: ['landcover'], // Label from each geometry
    scale: 30 // Make each sample the same size as Landsat pixel
    }).randomColumn('random'); // creates a column with random numbers
//Here we randomly split our samples to set some aside for testing our model's accuracy
// using the "random" column we created
var split = 0.8; // Roughly 80% for training, 20% for testing.
var training = samples.filter(ee.Filter.lt('random', split)); //Subset training data
var testing = samples.filter(ee.Filter.gte('random', split)); //Subset testing data
//Print these variables to see how much training and testing data you are using
    print('Samples n =', samples.aggregate_count('.all'));
    print('Training n =', training.aggregate_count('.all'));
    print('Testing n =', testing.aggregate_count('.all'));
//4.2) Begin Random Forest Classification
/////////////////////////////////////////
//.smileRandomForest is used to run the model. Here we run the model using 100 trees
// and 5 randomly selected predictors per split ("(100,5)")
    var classifier = ee.Classifier.smileRandomForest(500,5).train({ 
    features: training.select(['SR_B4','SR_B3','SR_B2','SR_B1','NDVI','GCVI','SAVI', 'NDMI','NDWI','SR','pc1', 'pc2','landcover']), //Train using bands and landcover property
    classProperty: 'landcover', //Pull the landcover property from classes
    inputProperties: bands
    });
//4.3) Test the accuracy of the model
//////////////////////////////////////
    var validation = testing.classify(classifier);
    var testAccuracy = validation.errorMatrix('landcover', 'classification');
    print('Validation error matrix RF: ', testAccuracy);
    print('Validation overall accuracy RF: ', testAccuracy.accuracy());
//4.4) Classify the Landsat composite using the Random Forest model
///////////////////////////////////////////////////////////////////
var classifiedrf = image.select(bands) // select the predictors
                      .classify(classifier); // .classify applies the Random Forest
//The model results may be "noisy". To reduce noise, create a mask to mask
// unconnected pixels
    var pixelcount = classifiedrf.connectedPixelCount(100, false); //Create an image that shows the number of pixels each pixel is connected to
    var countmask = pixelcount.select(0).gt(25); //filter out all pixels connected to 4 or less 
//Mask the results to only display mangrove extent
    var classMask = classifiedrf.select('classification').gt(0);
    var classed= classifiedrf.updateMask(countmask).updateMask(classMask);
//4.5) Map results
////////////////////
//Add classification to map
var palette = ['#a3a3a3', '#267300', '#ffd382', '#00e5a2','#da980c'];
Map.addLayer (classed, {min: 1, max: 5, palette: palette}, 'Coverage Extent 1990',0);
//
//5) Calculate Feature Importance of the co-variables in the RF
// Run .explain() to see what the classifer looks like
print(classifier.explain())
// Calculate variable importance
var importance = ee.Dictionary(classifier.explain().get('importance'));
// Calculate relative importance
var sum = importance.values().reduce(ee.Reducer.sum());
var relativeImportance = importance.map(function(key, val) {
   return (ee.Number(val).multiply(100)).divide(sum);
  });
print(relativeImportance);
// Create a FeatureCollection so we can chart it
var importanceFc = ee.FeatureCollection([
  ee.Feature(null, relativeImportance)
]);
var chart = ui.Chart.feature.byProperty({
  features: importanceFc
}).setOptions({
      title: 'Feature Importance',
      vAxis: {title: 'Importance'},
      hAxis: {title: 'Feature'},
      legend: {position: 'none'}
  });
//5.1) Print the plot of the importance 
print(chart);
//End code